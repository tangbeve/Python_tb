 (function() { 
 var html = "<!DOCTYPE html>\n<html><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content=IE=edge><title>300x250 Amica</title><script type=text/javascript> var perf = window.performance; if (perf && perf.now) { window._now = function() { return perf.now(); } } else if (perf && perf.webkitNow) { window._now = function() { return perf.webkitNow(); } } else { window._now = function() { return (new Date()).getTime(); } } var MOBSPIRE_LOAD_START = window._now(); var MOBSPIRE_DOWNLOAD_END = (new Date()).getTime(); </script><style type=text/css>html{height:100%;-webkit-font-smoothing:antialiased}*{-webkit-text-size-adjust:none;-ms-text-size-adjust:none;text-size-adjust:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}body{margin:0;height:100%;background-position:50%;background-repeat:no-repeat;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#000;font-family:Arial,sans-serif}#mobspire-advert.china_watermark:after{content:'';width:45px;height:13px;position:absolute;right:0;bottom:0;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAAnCAMAAAASJavWAAABF1BMVEUAAABSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlJSUlL////7+/vg4OB7e3vx8fGbm5uSkpJfX19/f39VVVXNzc15eXldXV3j4+NtbW3v7++/v7/S0tKvr6/T09OCgoLr6+uXl5f39/eysrKKioqFhYVpaWnl5eXCwsK8vLx1dXWsrKxiYmLn5+fGxsajo6NxcXHz8/PKysq6urqmpqaenp7b29vX19fV1dWNjY2pqalZWVm9vb182DsyAAAAKnRSTlMAPNLsE2yJm6HZXllFyXc0xb4FqVQf8uiCcSz6S08lGQzdt7GQOGVA1G4NYw8yAAAEcElEQVRYw7WY6VraQBRAobJZFq2oiKJYtdoeEEGjCC4sClLRgvvSvv9zdGZCDIEkYP16/sTMEk9m5t4Z4rEjEk9MrKc8zswFpgNzTpVp79zKim+4fDUymxaX1EIgFlsW9SOJo1hz1pgHljbt3+Erik/egYqkKo2toxOdGqWxQY+4U4sAkiXbOqmhi1jLtxggOkJjFrgv75wAYYcm0/B0AN9sqhbh6qBZahbBNzjIlZffCNonnc65BjPuHlGoZQT38pXs+QTbOegb+ZmtmF9H9q5nt7ug3yf9i6rFEpQz5f0GZMXD84Be7TQ9YdBES4GQ3xzT4wcm6i1u6WNyy+NZhsuM4BIu5MVaO8zMJJxkFC2YnxvLY4Z+zlVfi4ga5TNRfgYcimvJWjtMEoqZHk0IjOXhh71OvkehJbpu14zbh/wu+BZBq4ryI1G+I31qRrWstVlmS/DL8HgCvo3jEZedHCnBYlAOky2XMGUbsyWzzR6ExvEIwh9Xjwiixzs8vNb218DyeB4/RfOsLTfCIwGFjOBQIqOgeqhzcS1Hyy6TNvQ1eqYuBVgb36Owa4uGoChXRRs0NBkvObQegG0KqyqBIip260B4bI8Kjmj7chAQDMUtzIeH82ReafyCV/VHGyZnxvU4xx7RnNxRNltCcahC0cK3wRSmD0P2CrjpDQw/3uEx6xtmFYoHzW7rtHugkCNeOzDpQmgwhenL4gRBwRiZifQ7POx2YKjIOc5m7LmGr/3t/bCrKrIakqoRdQsf9tjLuHBoTakr89BSFXmIxtVLCJ7l9I32uBNNXyD8Dx4XVo8AdFV5FZj1Ao/qtgKhER4hONJbRmw8fFBsVCqVPTsqlUYOgtYU9mT847jSKr0ls5S7xxrsO6VGwXfcsXQLGSnsEfDq06RvGjWYdveYhmexrPTUOIxXF2mf7g/y/IDEb7ZN9S/Mjd7Oe6UK6hqEXT30pLCjtk5bfCnZJTPMLax7racwM1CXVqxh/AoJN4+0ML4R683trPcFTm08jiA0eAqrq5pd8A+ezJoQcfGY0s9ax+bZ19Hj8fiN/YshD/Xu7YzkzEzkZpp/hQUXjyTU9K4bozxKmOSHPfzGWsjqG5u57ZXVLuPuMQm3evqYHeXRxeRhyGNuAlo2sRGHnJRznxcv7Ir5q19B+mPjEYDmWwr73AfQOLqTB5lFZ4+o/shTMy06e+S0ooF2P+jhRcW/oIEjE2EHDylb1XeDhZEeO9dlg+v6oEdIDb8qdWPBxsPcXOpFlRY/ELeRtxTWfik4ISd2edjD3FzO4JPnQx7rMuxGcg5rth6b+lmlKD2dmdTPg637E4P7bZVzzKdOwM1ojzrMO65TGufOw2HM3sPPuzsNk2an02n0TTeQGQPA4fd+AEXYzWMKJ3x9T70drfEIUafvHzEEMY8rQRTRgEECrN2S8Pu2fLPjRvn4CjYcvwetpkZ/aJpKBoPBzx4TbywWS632PeQrYzG/4vp97ONMjSWSiHj+N6ux9cSEK4kvC2nP/+Qvo5va+/6pMyEAAAAASUVORK5CYII=');background-size:cover}.creative.ms-view{position:absolute;top:0;right:0;-webkit-tap-highlight-color:transparent}.creative.ms-view.loaded #spire-loader{background-color:#fff}.fallback-image-container{width:100%;height:100%;max-width:320px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-position:50%;background-repeat:no-repeat;background-size:100% auto;background-image:url(https://spire.aarki.net/builds/spear/common/images/fallback/v2_640x100.jpg)}@media only screen and (max-aspect-ratio:10/13){.fallback-image-container{background-image:url(https://spire.aarki.net/builds/spear/common/images/fallback/v2_640x832.jpg)}}#spire-modal-container{display:none;position:absolute;top:0;left:0;right:0;bottom:0;text-align:center;z-index:99997}#spire-modal-container .container{display:inline-block;position:relative;max-width:85%;max-height:85%;min-width:100px;min-height:100px;overflow:auto;padding:10px;background-color:hsla(0,0%,100%,.95);border:1px solid #707070;box-sizing:border-box;vertical-align:middle;font-family:Lucida Grande,sans-serif;font-size:12px;line-height:1.5;color:#000}#spire-modal-container .container div{position:relative}#spire-modal-container .container .title{margin-bottom:10px;overflow:hidden}#spire-modal-container .container .title a{color:inherit}#spire-modal-container .container .message{margin-bottom:10px;overflow:hidden}#spire-modal-container .container .message a{color:inherit}#spire-modal-container .container .message button{display:inline-block;margin-top:5px;vertical-align:middle}#spire-modal-container .container .buttons{text-align:center}#spire-modal-container .container .buttons button{display:inline-block;margin:0 5px;padding:8px 24px;background-color:#fff;border:1px solid #000;color:inherit;vertical-align:middle}#spire-modal-container>i{display:inline-block;width:0;height:100%;vertical-align:middle;font-size:0;line-height:0;font-family:a;color:transparent;text-shadow:none;background-color:transparent;border:0}#spire-modal-container.calendar-modal,#spire-modal-container.calendar-modal *{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}#spire-modal-container.calendar-modal .container .title:before{display:block;height:25px;margin-bottom:10px;background:url(https://spire.aarki.net/builds/spear/common/images/calendar_icon.png) no-repeat 50%;background-size:contain;content:''}#spire-modal-container.calendar-modal .container .message h1{margin-top:8px;margin-bottom:8px;line-height:1}#spire-modal-container.calendar-modal .container .message h3{margin-top:8px;line-height:1}#spire-modal-container.calendar-modal .container .message .location{margin:10px 0;text-transform:capitalize}#spire-modal-container.calendar-modal .container .message .location:before{display:inline-block;width:14px;height:18px;margin-right:10px;background:url(https://spire.aarki.net/builds/spear/common/images/map/icon.png) no-repeat 50%;background-size:contain;vertical-align:middle;content:''}#spire-modal-container.calendar-modal .container .message p{margin:5px 0}#spire-loader{position:absolute;top:0;left:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.8);background-image:url(https://spire.aarki.net/builds/spear/common/images/loader_v1.gif);background-position:50%;background-repeat:no-repeat;z-index:99998}#spire-loader .message-container{display:none}#spire-loader.show-message{display:block!important;background-color:hsla(0,0%,100%,.75)!important;background-image:none!important;text-align:center}#spire-loader.show-message .message-container{display:inline-block;position:relative;max-width:75%;min-width:100px;min-height:100px;padding:10px;background:rgba(0,0,0,.75);border-radius:8px;box-sizing:border-box;vertical-align:middle}#spire-loader.show-message .message-container .message-spinner{position:relative;padding-top:14px;padding-bottom:20px;text-align:center}#spire-loader.show-message .message-container .message-spinner i{display:inline-block;width:12px;height:12px;margin-left:3px;margin-right:3px;background-color:#eee;opacity:0;border-radius:3px;-webkit-animation:a 1s linear .1s infinite;animation:a 1s linear .1s infinite;-webkit-animation-delay:.1s;animation-delay:.1s}#spire-loader.show-message .message-container .message-spinner i:first-child{-webkit-animation-delay:0ms;animation-delay:0ms}#spire-loader.show-message .message-container .message-spinner i:last-child{-webkit-animation-delay:.2s;animation-delay:.2s}#spire-loader.show-message .message-container .message{position:relative;font-size:11px;line-height:1.5;font-family:Lucida Grande,sans-serif;text-align:center;font-weight:700;color:#fff;overflow:hidden}#spire-loader.show-message .message-container .message a{color:inherit}#spire-loader.show-message .message-container .message button{display:inline-block;margin-top:5px;vertical-align:middle}#spire-loader.show-message>i{display:inline-block;width:0;height:100%;vertical-align:middle;font-size:0;line-height:0;font-family:a;color:transparent;text-shadow:none;background-color:transparent;border:0}.spinner-loaded #spire-loader{background-image:url(https://spire.aarki.net/builds/spear/common/images/loader_v1_2x.gif);background-size:73px 13px}ul{margin:0;padding:0;list-style-type:none}div{position:absolute;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;text-size-adjust:none}.preserve-3d,.preserve-3d *{-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-backface-visibility:hidden;backface-visibility:hidden}.ms-view{overflow:hidden}.ms-view.creative,.ms-view.page,.ms-view.page-group,.ms-view.widgets-container{width:100%;height:100%}.text-box{word-wrap:break-word;cursor:default}.text-box div{position:static}.close-button{position:absolute;top:10px;right:10px;z-index:99999999;border-radius:50px;box-shadow:1px 2px 5px hsla(0,0%,59%,.9);border:2px solid #fff;background:#969696;text-align:center;cursor:default;opacity:.8}.close-button:before{content:\" \";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px;z-index:-1;border:10px solid transparent}.close-button .btn{font-family:Droid Sans,Arial,sans-serif;cursor:default;font-size:22px;color:#fff;text-align:center;line-height:17px}.close-button.close-button-custom{width:auto;height:auto;border-radius:0;box-shadow:none;border:0;background-color:transparent;background-size:cover;background-position:50%;background-repeat:no-repeat;opacity:1}.orientation-message,.overlay-message{display:none;width:200px;height:120px;right:auto;bottom:auto;margin-top:-60px;margin-left:-100px;border-radius:6px;background-color:rgba(0,0,0,.7);text-align:center;font-size:15px;font-family:Lucida Grande,Droid Sans,sans-serif;color:#fff;z-index:99999}.orientation-message,.orientation-message span,.overlay-message{position:absolute;top:50%;left:50%;padding:20px;box-sizing:border-box}.orientation-message span{-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:100%}.responsive~.orientation-message:after,.responsive~.orientation-message:before{content:'';z-index:-1}.responsive~.orientation-message:before{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#fff}.responsive~.orientation-message:after{position:absolute;top:0;left:0;right:0;bottom:0;border-radius:6px;background-color:rgba(0,0,0,.7)}.responsive.orientation-message-shown .close-button.close-button-custom{border-radius:50%;background-color:rgba(0,0,0,.1)}#stage-styles-wrapper{top:0;left:0;z-index:-1;overflow:hidden;width:100%;height:100%}#stage-styles-wrapper div{top:50%;left:50%;width:100%;height:100%;background-position:50% 50%;background-repeat:no-repeat}.creative.expandable.mobilepull.swipeable-up .banner-group{top:0;bottom:auto}.creative.expandable.mobilepull.swipeable-up .banner-group *{cursor:s-resize}.creative.expandable.mobilepull.swipeable-up .banner-group.active *{cursor:n-resize}.creative.expandable.mobilepull.swipeable-down .banner-group,.creative.expandable.mobilepull.swipeable-up .interstitial-group{top:auto;bottom:0}.creative.expandable.mobilepull.swipeable-down .banner-group *{cursor:n-resize}.creative.expandable.mobilepull.swipeable-down .banner-group.active *{cursor:s-resize}.creative.expandable.mobilepull.swipeable-down .interstitial-group{top:0;bottom:auto}.creative.expandable.mobilepull.position-horizontal-left{margin-left:0!important}.creative.expandable.mobilepull.position-horizontal-left .banner-group,.creative.expandable.mobilepull.position-horizontal-left .interstitial-group{right:auto;margin-left:0}.creative.expandable.mobilepull.position-horizontal-center{left:50%!important}.creative.expandable.mobilepull.position-horizontal-right{left:auto!important;right:0!important;margin-left:0!important}.creative.expandable.mobilepull.position-horizontal-right .banner-group,.creative.expandable.mobilepull.position-horizontal-right .interstitial-group{left:auto;margin-right:0}.creative.expandable.mobileslider.swipeable-right{right:0!important;left:auto!important}.creative.expandable.mobileslider.swipeable-right .banner-group{right:0;left:auto}.creative.expandable.mobileslider.swipeable-right .banner-group *{cursor:w-resize}.creative.expandable.mobileslider.swipeable-right .banner-group.active *{cursor:e-resize}.creative.expandable.mobileslider.swipeable-right .interstitial-group{right:auto;left:0}.creative.expandable.mobileslider.swipeable-left{left:0!important;right:auto!important}.creative.expandable.mobileslider.swipeable-left .banner-group{left:0;right:auto}.creative.expandable.mobileslider.swipeable-left .banner-group *{cursor:e-resize}.creative.expandable.mobileslider.swipeable-left .banner-group.active *{cursor:w-resize}.creative.expandable.mobileslider.swipeable-left .interstitial-group{left:auto;right:0}.creative.expandable.mobileslider.position-vertical-top{margin-left:0!important}.creative.expandable.mobileslider.position-vertical-top .banner-group,.creative.expandable.mobileslider.position-vertical-top .interstitial-group{bottom:auto}.creative.expandable.mobileslider.position-vertical-bottom{top:auto!important;bottom:0!important;margin-left:0!important}.creative.expandable.mobileslider.position-vertical-bottom .banner-group,.creative.expandable.mobileslider.position-vertical-bottom .interstitial-group{top:auto}.pagegroup{margin:0 auto;background-position:0 0;background-repeat:repeat}.pagegroup,.pagegroup .block-overlay{position:absolute;top:0;left:0;right:0;bottom:0}.pagegroup .block-overlay{z-index:99996}.pagegroup .block-overlay.msie{background-color:hsla(0,0%,100%,.05)}.page{-webkit-transform:translateZ(0);transform:translateZ(0);background-color:transparent}.ms-widget{box-sizing:border-box}.ms-widget.animating{right:auto!important;bottom:auto!important;margin-top:0!important;margin-left:0!important}@-webkit-keyframes a{0%{opacity:.1;-webkit-transform:scale(.8);transform:scale(.8)}50%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}to{opacity:.1;-webkit-transform:scale(.8);transform:scale(.8)}}@keyframes a{0%{opacity:.1;-webkit-transform:scale(.8);transform:scale(.8)}50%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}to{opacity:.1;-webkit-transform:scale(.8);transform:scale(.8)}}.widgets-image .widget-wrapper,.widgets-image img{width:100%;height:100%}.widgets-image img{border:0 none;float:left}.preview-note{width:100%;top:15%;color:#000;font-size:15px;text-align:center}</style></head><body><div id=mobspire-advert style=\"width: 100%; height: 100%\"><div id=spire-loader></div></div><script type=text/javascript>\n            \nvar MOBSPIRE_JSON = {\"MotionKeyframe\":{\"24\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":8,\"frame\":127,\"centerVertical\":false,\"height\":29,\"width\":10,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":24,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":114,\"left\":145},\"20\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":6,\"frame\":123,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":20,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":0,\"left\":0},\"21\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":7,\"frame\":123,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":21,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":125,\"left\":0},\"22\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":6,\"frame\":129,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":22,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":-127,\"left\":0},\"23\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":7,\"frame\":129,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":23,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":253,\"left\":0},\"29\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":8,\"frame\":131,\"centerVertical\":false,\"height\":29,\"width\":200,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":29,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":114,\"left\":50},\"3\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":2,\"frame\":3,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":3,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":0,\"left\":-303},\"5\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":3,\"frame\":3,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":5,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":125,\"left\":303},\"4\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":2,\"frame\":10,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":4,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":0,\"left\":0},\"7\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":2,\"frame\":43,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":7,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":0,\"left\":0},\"6\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":3,\"frame\":10,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":6,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":125,\"left\":0},\"9\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":4,\"frame\":35,\"centerVertical\":false,\"height\":250,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":9,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":0,\"left\":0},\"8\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":3,\"frame\":43,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":8,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":125,\"left\":0},\"11\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":2,\"frame\":50,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":11,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":-128,\"left\":0},\"10\":{\"opacity\":0,\"right\":null,\"bottom\":null,\"track\":4,\"frame\":38,\"centerVertical\":false,\"height\":250,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":10,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":0,\"left\":0},\"13\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":5,\"frame\":96,\"centerVertical\":false,\"height\":250,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":13,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":0,\"left\":0},\"12\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":3,\"frame\":50,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":12,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":253,\"left\":0},\"15\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":6,\"frame\":83,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":15,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":0,\"left\":-305},\"17\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":6,\"frame\":90,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":17,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":0,\"left\":0},\"16\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":7,\"frame\":83,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":16,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":125,\"left\":304},\"19\":{\"opacity\":0,\"right\":null,\"bottom\":null,\"track\":5,\"frame\":100,\"centerVertical\":false,\"height\":250,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":19,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":0,\"left\":0},\"18\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":7,\"frame\":90,\"centerVertical\":false,\"height\":125,\"width\":300,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":18,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":125,\"left\":0},\"31\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":8,\"frame\":136,\"centerVertical\":false,\"height\":29,\"width\":180,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":31,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":114,\"left\":60},\"30\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":8,\"frame\":134,\"centerVertical\":false,\"height\":29,\"width\":110,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":30,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":114,\"left\":95},\"32\":{\"opacity\":1,\"right\":null,\"bottom\":null,\"track\":8,\"frame\":138,\"centerVertical\":false,\"height\":29,\"width\":140,\"rotateZ\":0,\"centerHorizontal\":false,\"id\":32,\"easing\":\"linear\",\"aspectRatio\":null,\"type\":\"MotionKeyframe\",\"top\":114,\"left\":80}},\"Widget\":{\"10\":{\"opacity\":1,\"right\":null,\"borderRadius\":0,\"height\":250,\"id\":10,\"borderColor\":\"#000000\",\"bottom\":null,\"variantType\":\"Variant.Widgets.Spot\",\"top\":0,\"width\":300,\"shadowColor\":\"#ffffff\",\"backgroundColor\":\"transparent\",\"centerHorizontal\":false,\"type\":\"Widgets.Spot\",\"events\":[2],\"shadowPositionX\":0,\"shadowPositionY\":0,\"shadowSize\":0,\"parent\":2,\"centerVertical\":false,\"zIndex\":1250,\"parentType\":\"Page\",\"variants\":[],\"aspectRatio\":null,\"rotation\":0,\"name\":\"Active Area 10\",\"tracks\":[],\"borderWidth\":\"0px 0px 0px 0px\",\"borderStyle\":\"none\",\"left\":0},\"1\":{\"opacity\":1,\"right\":null,\"image\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_4e3cf07411f339861d48bc2ca43cd630_endcard.jpg\",\"unique_key\":\"4e3cf07411f339861d48bc2ca43cd630\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/4e3cf07411f339861d48bc2ca43cd630_endcard.jpg\",\"format\":\"image\",\"height\":250,\"width\":300,\"sid\":\"799108\",\"sourceHeight\":0,\"size\":6532,\"type\":\"Media\",\"id\":7,\"sourceWidth\":0,\"name\":\"endcard.jpg\"},\"height\":250,\"id\":1,\"borderColor\":\"#000000\",\"bottom\":null,\"variantType\":\"Variant.Widgets.Image\",\"top\":0,\"width\":300,\"shadowColor\":\"#ffffff\",\"backgroundColor\":\"transparent\",\"centerHorizontal\":false,\"type\":\"Widgets.Image\",\"events\":[],\"shadowPositionX\":0,\"shadowPositionY\":0,\"shadowSize\":0,\"parent\":2,\"centerVertical\":false,\"zIndex\":1025,\"parentType\":\"Page\",\"variants\":[],\"aspectRatio\":null,\"rotation\":0,\"name\":\"endcard.jpg\",\"tracks\":[],\"borderWidth\":\"0px 0px 0px 0px\",\"borderStyle\":\"none\",\"left\":0},\"3\":{\"opacity\":1,\"right\":null,\"image\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_2fe2151fcb983e8a9c4e4e453c31cdbd_cta.jpg\",\"format\":\"image\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/2fe2151fcb983e8a9c4e4e453c31cdbd_cta.jpg\",\"unique_key\":\"2fe2151fcb983e8a9c4e4e453c31cdbd\",\"size_weights\":[1609,3173],\"height\":58,\"width\":280,\"urls\":{\"prefix\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/2fe2151fcb983e8a9c4e4e453c31cdbd\",\"safe_filename\":\"cta.jpg\",\"sizes\":[\"140x29\",\"280x58\"]},\"sid\":\"799103\",\"sourceHeight\":0,\"size\":7832,\"type\":\"Media\",\"id\":2,\"sourceWidth\":0,\"name\":\"cta.jpg\"},\"height\":29,\"id\":3,\"borderColor\":\"#000000\",\"bottom\":null,\"variantType\":\"Variant.Widgets.Image\",\"top\":114,\"width\":140,\"shadowColor\":\"#ffffff\",\"backgroundColor\":\"transparent\",\"centerHorizontal\":false,\"type\":\"Widgets.Image\",\"events\":[],\"shadowPositionX\":0,\"shadowPositionY\":0,\"shadowSize\":0,\"parent\":2,\"centerVertical\":false,\"zIndex\":1075,\"parentType\":\"Page\",\"variants\":[],\"aspectRatio\":null,\"rotation\":0,\"name\":\"cta.jpg\",\"tracks\":[8],\"borderWidth\":\"0px 0px 0px 0px\",\"borderStyle\":\"none\",\"left\":80},\"2\":{\"opacity\":1,\"right\":null,\"image\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_04aa0ba3b7645aa40f0ccb227b9f3fa7_copy-endcard.png\",\"unique_key\":\"04aa0ba3b7645aa40f0ccb227b9f3fa7\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/04aa0ba3b7645aa40f0ccb227b9f3fa7_copy-endcard.png\",\"format\":\"image\",\"height\":67,\"width\":187,\"sid\":\"799102\",\"sourceHeight\":0,\"size\":1549,\"type\":\"Media\",\"id\":1,\"sourceWidth\":0,\"name\":\"copy-endcard.png\"},\"height\":67,\"id\":2,\"borderColor\":\"#000000\",\"bottom\":null,\"variantType\":\"Variant.Widgets.Image\",\"top\":30,\"width\":187,\"shadowColor\":\"#ffffff\",\"backgroundColor\":\"transparent\",\"centerHorizontal\":false,\"type\":\"Widgets.Image\",\"events\":[],\"shadowPositionX\":0,\"shadowPositionY\":0,\"shadowSize\":0,\"parent\":2,\"centerVertical\":false,\"zIndex\":1050,\"parentType\":\"Page\",\"variants\":[],\"aspectRatio\":null,\"rotation\":0,\"name\":\"copy-endcard.png\",\"tracks\":[9],\"borderWidth\":\"0px 0px 0px 0px\",\"borderStyle\":\"none\",\"left\":57},\"5\":{\"opacity\":1,\"right\":null,\"image\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_2ce935f910ac4ded18bf19c34523c4d5_copy3.jpg\",\"unique_key\":\"2ce935f910ac4ded18bf19c34523c4d5\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/2ce935f910ac4ded18bf19c34523c4d5_copy3.jpg\",\"format\":\"image\",\"height\":125,\"width\":300,\"sid\":\"799106\",\"sourceHeight\":0,\"size\":14758,\"type\":\"Media\",\"id\":5,\"sourceWidth\":0,\"name\":\"copy3.jpg\"},\"height\":125,\"id\":5,\"borderColor\":\"#000000\",\"bottom\":null,\"variantType\":\"Variant.Widgets.Image\",\"top\":125,\"width\":300,\"shadowColor\":\"#ffffff\",\"backgroundColor\":\"transparent\",\"centerHorizontal\":false,\"type\":\"Widgets.Image\",\"events\":[],\"shadowPositionX\":0,\"shadowPositionY\":0,\"shadowSize\":0,\"parent\":2,\"centerVertical\":false,\"zIndex\":1125,\"parentType\":\"Page\",\"variants\":[],\"aspectRatio\":null,\"rotation\":0,\"name\":\"copy3.jpg\",\"tracks\":[7],\"borderWidth\":\"0px 0px 0px 0px\",\"borderStyle\":\"none\",\"left\":304},\"4\":{\"opacity\":1,\"right\":null,\"image\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_3c2ba4b1d06714057a3ba3096bea7fc1_copy2.jpg\",\"unique_key\":\"3c2ba4b1d06714057a3ba3096bea7fc1\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/3c2ba4b1d06714057a3ba3096bea7fc1_copy2.jpg\",\"format\":\"image\",\"height\":250,\"width\":300,\"sid\":\"799107\",\"sourceHeight\":0,\"size\":16387,\"type\":\"Media\",\"id\":6,\"sourceWidth\":0,\"name\":\"copy2.jpg\"},\"height\":250,\"id\":4,\"borderColor\":\"#000000\",\"bottom\":null,\"variantType\":\"Variant.Widgets.Image\",\"top\":0,\"width\":300,\"shadowColor\":\"#ffffff\",\"backgroundColor\":\"transparent\",\"centerHorizontal\":false,\"type\":\"Widgets.Image\",\"events\":[],\"shadowPositionX\":0,\"shadowPositionY\":0,\"shadowSize\":0,\"parent\":2,\"centerVertical\":false,\"zIndex\":1100,\"parentType\":\"Page\",\"variants\":[],\"aspectRatio\":null,\"rotation\":0,\"name\":\"copy2.jpg\",\"tracks\":[5],\"borderWidth\":\"0px 0px 0px 0px\",\"borderStyle\":\"none\",\"left\":0},\"7\":{\"opacity\":1,\"right\":null,\"image\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_1fd7c6cb2e04afa3f3d7ec048734a8f7_bg.jpg\",\"unique_key\":\"1fd7c6cb2e04afa3f3d7ec048734a8f7\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/1fd7c6cb2e04afa3f3d7ec048734a8f7_bg.jpg\",\"format\":\"image\",\"height\":250,\"width\":300,\"sid\":\"799104\",\"sourceHeight\":0,\"size\":801,\"type\":\"Media\",\"id\":3,\"sourceWidth\":0,\"name\":\"bg.jpg\"},\"height\":250,\"id\":7,\"borderColor\":\"#000000\",\"bottom\":null,\"variantType\":\"Variant.Widgets.Image\",\"top\":0,\"width\":300,\"shadowColor\":\"#ffffff\",\"backgroundColor\":\"transparent\",\"centerHorizontal\":false,\"type\":\"Widgets.Image\",\"events\":[],\"shadowPositionX\":0,\"shadowPositionY\":0,\"shadowSize\":0,\"parent\":2,\"centerVertical\":false,\"zIndex\":1175,\"parentType\":\"Page\",\"variants\":[],\"aspectRatio\":null,\"rotation\":0,\"name\":\"bg.jpg\",\"tracks\":[4],\"borderWidth\":\"0px 0px 0px 0px\",\"borderStyle\":\"none\",\"left\":0},\"6\":{\"opacity\":1,\"right\":null,\"image\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_c3d761b11ede03884f761d41f1f8977a_img2.jpg\",\"unique_key\":\"c3d761b11ede03884f761d41f1f8977a\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/c3d761b11ede03884f761d41f1f8977a_img2.jpg\",\"format\":\"image\",\"height\":125,\"width\":300,\"sid\":\"799109\",\"sourceHeight\":0,\"size\":17002,\"type\":\"Media\",\"id\":8,\"sourceWidth\":0,\"name\":\"img2.jpg\"},\"height\":125,\"id\":6,\"borderColor\":\"#000000\",\"bottom\":null,\"variantType\":\"Variant.Widgets.Image\",\"top\":0,\"width\":300,\"shadowColor\":\"#ffffff\",\"backgroundColor\":\"transparent\",\"centerHorizontal\":false,\"type\":\"Widgets.Image\",\"events\":[],\"shadowPositionX\":0,\"shadowPositionY\":0,\"shadowSize\":0,\"parent\":2,\"centerVertical\":false,\"zIndex\":1150,\"parentType\":\"Page\",\"variants\":[],\"aspectRatio\":null,\"rotation\":0,\"name\":\"img2.jpg\",\"tracks\":[6],\"borderWidth\":\"0px 0px 0px 0px\",\"borderStyle\":\"none\",\"left\":-305},\"9\":{\"opacity\":1,\"right\":null,\"image\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_6c7b547533ba6ff922612fc37ae3c2dd_img1.jpg\",\"unique_key\":\"6c7b547533ba6ff922612fc37ae3c2dd\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/6c7b547533ba6ff922612fc37ae3c2dd_img1.jpg\",\"format\":\"image\",\"height\":125,\"width\":300,\"sid\":\"799110\",\"sourceHeight\":0,\"size\":23825,\"type\":\"Media\",\"id\":9,\"sourceWidth\":0,\"name\":\"img1.jpg\"},\"height\":125,\"id\":9,\"borderColor\":\"#000000\",\"bottom\":null,\"variantType\":\"Variant.Widgets.Image\",\"top\":0,\"width\":300,\"shadowColor\":\"#ffffff\",\"backgroundColor\":\"transparent\",\"centerHorizontal\":false,\"type\":\"Widgets.Image\",\"events\":[],\"shadowPositionX\":0,\"shadowPositionY\":0,\"shadowSize\":0,\"parent\":2,\"centerVertical\":false,\"zIndex\":1225,\"parentType\":\"Page\",\"variants\":[],\"aspectRatio\":null,\"rotation\":0,\"name\":\"img1.jpg\",\"tracks\":[2],\"borderWidth\":\"0px 0px 0px 0px\",\"borderStyle\":\"none\",\"left\":-303},\"8\":{\"opacity\":1,\"right\":null,\"image\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_d7eff3dd0aa1e02440b6c2293d22a25d_copy1.jpg\",\"unique_key\":\"d7eff3dd0aa1e02440b6c2293d22a25d\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/d7eff3dd0aa1e02440b6c2293d22a25d_copy1.jpg\",\"format\":\"image\",\"height\":125,\"width\":300,\"sid\":\"799105\",\"sourceHeight\":0,\"size\":12222,\"type\":\"Media\",\"id\":4,\"sourceWidth\":0,\"name\":\"copy1.jpg\"},\"height\":125,\"id\":8,\"borderColor\":\"#000000\",\"bottom\":null,\"variantType\":\"Variant.Widgets.Image\",\"top\":125,\"width\":300,\"shadowColor\":\"#ffffff\",\"backgroundColor\":\"transparent\",\"centerHorizontal\":false,\"type\":\"Widgets.Image\",\"events\":[],\"shadowPositionX\":0,\"shadowPositionY\":0,\"shadowSize\":0,\"parent\":2,\"centerVertical\":false,\"zIndex\":1200,\"parentType\":\"Page\",\"variants\":[],\"aspectRatio\":null,\"rotation\":0,\"name\":\"copy1.jpg\",\"tracks\":[3],\"borderWidth\":\"0px 0px 0px 0px\",\"borderStyle\":\"none\",\"left\":303}},\"MotionSequence\":{\"1\":{\"repeat\":1,\"name\":\"Sequence 1\",\"page\":2,\"tracks\":[2,3,4,5,6,7,8,9],\"fps\":20,\"frames\":138,\"type\":\"MotionSequence\",\"id\":1}},\"Media\":{\"1\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_6c7b547533ba6ff922612fc37ae3c2dd_img1.jpg\",\"unique_key\":\"6c7b547533ba6ff922612fc37ae3c2dd\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/6c7b547533ba6ff922612fc37ae3c2dd_img1.jpg\",\"format\":\"image\",\"height\":125,\"width\":300,\"sid\":\"799110\",\"sourceHeight\":0,\"size\":23825,\"type\":\"Media\",\"id\":1,\"sourceWidth\":0,\"name\":\"img1.jpg\"},\"3\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_4e3cf07411f339861d48bc2ca43cd630_endcard.jpg\",\"unique_key\":\"4e3cf07411f339861d48bc2ca43cd630\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/4e3cf07411f339861d48bc2ca43cd630_endcard.jpg\",\"format\":\"image\",\"height\":250,\"width\":300,\"sid\":\"799108\",\"sourceHeight\":0,\"size\":6532,\"type\":\"Media\",\"id\":3,\"sourceWidth\":0,\"name\":\"endcard.jpg\"},\"2\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_c3d761b11ede03884f761d41f1f8977a_img2.jpg\",\"unique_key\":\"c3d761b11ede03884f761d41f1f8977a\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/c3d761b11ede03884f761d41f1f8977a_img2.jpg\",\"format\":\"image\",\"height\":125,\"width\":300,\"sid\":\"799109\",\"sourceHeight\":0,\"size\":17002,\"type\":\"Media\",\"id\":2,\"sourceWidth\":0,\"name\":\"img2.jpg\"},\"5\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_2ce935f910ac4ded18bf19c34523c4d5_copy3.jpg\",\"unique_key\":\"2ce935f910ac4ded18bf19c34523c4d5\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/2ce935f910ac4ded18bf19c34523c4d5_copy3.jpg\",\"format\":\"image\",\"height\":125,\"width\":300,\"sid\":\"799106\",\"sourceHeight\":0,\"size\":14758,\"type\":\"Media\",\"id\":5,\"sourceWidth\":0,\"name\":\"copy3.jpg\"},\"4\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_3c2ba4b1d06714057a3ba3096bea7fc1_copy2.jpg\",\"unique_key\":\"3c2ba4b1d06714057a3ba3096bea7fc1\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/3c2ba4b1d06714057a3ba3096bea7fc1_copy2.jpg\",\"format\":\"image\",\"height\":250,\"width\":300,\"sid\":\"799107\",\"sourceHeight\":0,\"size\":16387,\"type\":\"Media\",\"id\":4,\"sourceWidth\":0,\"name\":\"copy2.jpg\"},\"7\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_1fd7c6cb2e04afa3f3d7ec048734a8f7_bg.jpg\",\"unique_key\":\"1fd7c6cb2e04afa3f3d7ec048734a8f7\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/1fd7c6cb2e04afa3f3d7ec048734a8f7_bg.jpg\",\"format\":\"image\",\"height\":250,\"width\":300,\"sid\":\"799104\",\"sourceHeight\":0,\"size\":801,\"type\":\"Media\",\"id\":7,\"sourceWidth\":0,\"name\":\"bg.jpg\"},\"6\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_d7eff3dd0aa1e02440b6c2293d22a25d_copy1.jpg\",\"unique_key\":\"d7eff3dd0aa1e02440b6c2293d22a25d\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/d7eff3dd0aa1e02440b6c2293d22a25d_copy1.jpg\",\"format\":\"image\",\"height\":125,\"width\":300,\"sid\":\"799105\",\"sourceHeight\":0,\"size\":12222,\"type\":\"Media\",\"id\":6,\"sourceWidth\":0,\"name\":\"copy1.jpg\"},\"9\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_04aa0ba3b7645aa40f0ccb227b9f3fa7_copy-endcard.png\",\"unique_key\":\"04aa0ba3b7645aa40f0ccb227b9f3fa7\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/04aa0ba3b7645aa40f0ccb227b9f3fa7_copy-endcard.png\",\"format\":\"image\",\"height\":67,\"width\":187,\"sid\":\"799102\",\"sourceHeight\":0,\"size\":1549,\"type\":\"Media\",\"id\":9,\"sourceWidth\":0,\"name\":\"copy-endcard.png\"},\"8\":{\"thumb\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/thumb_2fe2151fcb983e8a9c4e4e453c31cdbd_cta.jpg\",\"unique_key\":\"2fe2151fcb983e8a9c4e4e453c31cdbd\",\"url\":\"https://spire.aarki.net/v1/ads/598a515338222d8ada83c0bbbef70de8/media/2fe2151fcb983e8a9c4e4e453c31cdbd_cta.jpg\",\"format\":\"image\",\"height\":58,\"width\":280,\"sid\":\"799103\",\"sourceHeight\":0,\"size\":7832,\"type\":\"Media\",\"id\":8,\"sourceWidth\":0,\"name\":\"cta.jpg\"}},\"Creative\":{\"1\":{\"closeButtonPosition\":\"topRight\",\"studioVersion\":\"3.3.190\",\"orientation\":\"portrait\",\"name\":\"300x250 Amica\",\"format\":\"banner\",\"variantType\":\"Variant.Creative\",\"banner\":2,\"closeButtonShow\":true,\"screenColor\":\"transparent\",\"id\":1,\"adMode\":\"standard\",\"static\":0,\"variants\":[],\"type\":\"Creative\",\"spearVersion\":\"1.5.158\",\"closeButtonDelay\":0}},\"MotionTrack\":{\"3\":{\"widget\":8,\"type\":\"MotionTrack\",\"id\":3,\"keyframes\":[5,6,8,12],\"sequence\":1},\"2\":{\"widget\":9,\"type\":\"MotionTrack\",\"id\":2,\"keyframes\":[3,4,7,11],\"sequence\":1},\"5\":{\"widget\":4,\"type\":\"MotionTrack\",\"id\":5,\"keyframes\":[13,19],\"sequence\":1},\"4\":{\"widget\":7,\"type\":\"MotionTrack\",\"id\":4,\"keyframes\":[9,10],\"sequence\":1},\"7\":{\"widget\":5,\"type\":\"MotionTrack\",\"id\":7,\"keyframes\":[16,18,21,23],\"sequence\":1},\"6\":{\"widget\":6,\"type\":\"MotionTrack\",\"id\":6,\"keyframes\":[15,17,20,22],\"sequence\":1},\"9\":{\"widget\":2,\"type\":\"MotionTrack\",\"id\":9,\"keyframes\":[],\"sequence\":1},\"8\":{\"widget\":3,\"type\":\"MotionTrack\",\"id\":8,\"keyframes\":[24,29,30,31,32],\"sequence\":1}},\"MaxIds\":{\"MotionKeyframe\":32,\"Widget\":10,\"MotionSequence\":1,\"Page\":2,\"MotionTrack\":9,\"Action\":2,\"Event\":2},\"Action\":{\"1\":{\"id\":1,\"shouldSkip\":false,\"type\":\"Actions.PlaySequence\",\"event\":1,\"sequence\":1},\"2\":{\"link\":\"http://espanol.amicacoverage.com/sp/ola?utm_source=gimbal&utm_medium=banner&utm_campaign=autohisp18drstandardhvpdigital%20&cmmmc=%20Dex-Display-Hispanic-Banner&cm_mmca1=Display&phd=8448504484&phm=8448504484\",\"shouldSkip\":false,\"type\":\"Actions.WebLink\",\"event\":2,\"id\":2}},\"PageGroup\":{\"0\":{\"overlayColor\":\"#d5d5d5\",\"name\":\"Fallback Page Group\",\"pages\":[0],\"height\":250,\"width\":300,\"type\":\"PageGroup\",\"id\":0},\"2\":{\"overlayColor\":\"#d5d5d5\",\"name\":\"Banner Page Group\",\"pages\":[2],\"height\":250,\"width\":300,\"type\":\"PageGroup\",\"id\":2}},\"Page\":{\"0\":{\"group\":0,\"name\":\"Fallback Page\",\"transitionDirection\":\"left\",\"transition\":\"cut\",\"events\":[],\"backgroundColor\":\"#ffffff\",\"sequences\":[],\"widgets\":[],\"type\":\"Page\",\"id\":0,\"transitionDuration\":1000},\"2\":{\"group\":2,\"name\":\"Banner Page\",\"transitionDirection\":\"left\",\"transition\":\"cut\",\"events\":[1],\"backgroundColor\":\"#ffffff\",\"sequences\":[1],\"widgets\":[1,2,3,4,5,6,7,8,9,10],\"type\":\"Page\",\"id\":2,\"transitionDuration\":1000}},\"Event\":{\"1\":{\"sourceType\":\"Page\",\"shouldSkip\":false,\"actions\":[1],\"source\":2,\"type\":\"Events.Load\",\"id\":1,\"name\":\"Load\"},\"2\":{\"sourceType\":\"Widget\",\"shouldSkip\":false,\"actions\":[2],\"source\":10,\"type\":\"Events.Click\",\"id\":2,\"name\":\"Click/Tap\"}}};\nvar MOBSPIRE_CONFIG = {};\nvar MAPI_CONFIG = {\n    trackUrl: \"https://rm.aarki.net/\",\n    trackingKey: \"598a515338222d8ada83c0bbbef70de8\",\n    flightKey: \"74f33a276b5a6b6c861e93b62636c07b\",\n    plugin: \"ad.js\"\n};\nvar SUPPORTED_BROWSERS = {\"firefox\": {\"not\": [], \"min\": 30.0}, \"chrome\": {\"not\": [], \"min\": 33.0}, \"ios\": {\"not\": [], \"min\": 7.0}, \"safari\": {\"not\": [], \"min\": 7.0}, \"android\": {\"not\": [], \"min\": 4.0}, \"msie\": {\"not\": [], \"min\": 9.0}};\nvar CREATIVE_DEPENDENCIES = [];\nfunction bowserDefinition(){function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||\"\"}function i(t){var n=e.match(t);return n&&n.length>1&&n[2]||\"\"}var r,o=n(/(ipod|iphone|ipad)/i).toLowerCase(),a=/like android/i.test(e),s=!a&&/android/i.test(e),u=n(/edge\\/(\\d+(\\.\\d+)?)/i),c=n(/version\\/(\\d+(\\.\\d+)?)/i),d=/tablet/i.test(e),l=!d&&/[^-]mobi/i.test(e);/opera|opr/i.test(e)?r={name:\"Opera\",opera:t,version:c||n(/(?:opera|opr)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/yabrowser/i.test(e)?r={name:\"Yandex Browser\",yandexbrowser:t,version:c||n(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/windows phone/i.test(e)?(r={name:\"Windows Phone\",windowsphone:t},u?(r.msedge=t,r.version=u):(r.msie=t,r.version=n(/iemobile\\/(\\d+(\\.\\d+)?)/i))):/msie|trident/i.test(e)?r={name:\"Internet Explorer\",msie:t,version:n(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)}:/chrome.+? edge/i.test(e)?r={name:\"Microsoft Edge\",msedge:t,version:u}:/chrome|crios|crmo/i.test(e)?r={name:\"Chrome\",chrome:t,version:n(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)}:o?(r={name:\"iphone\"==o?\"iPhone\":\"ipad\"==o?\"iPad\":\"iPod\"},c&&(r.version=c)):/sailfish/i.test(e)?r={name:\"Sailfish\",sailfish:t,version:n(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)}:/seamonkey\\//i.test(e)?r={name:\"SeaMonkey\",seamonkey:t,version:n(/seamonkey\\/(\\d+(\\.\\d+)?)/i)}:/firefox|iceweasel/i.test(e)?(r={name:\"Firefox\",firefox:t,version:n(/(?:firefox|iceweasel)[ \\/](\\d+(\\.\\d+)?)/i)},/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(e)&&(r.firefoxos=t)):/silk/i.test(e)?r={name:\"Amazon Silk\",silk:t,version:n(/silk\\/(\\d+(\\.\\d+)?)/i)}:s?r={name:\"Android\",version:c}:/phantom/i.test(e)?r={name:\"PhantomJS\",phantom:t,version:n(/phantomjs\\/(\\d+(\\.\\d+)?)/i)}:/blackberry|\\bbb\\d+/i.test(e)||/rim\\stablet/i.test(e)?r={name:\"BlackBerry\",blackberry:t,version:c||n(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)}:/(web|hpw)os/i.test(e)?(r={name:\"WebOS\",webos:t,version:c||n(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)},/touchpad\\//i.test(e)&&(r.touchpad=t)):r=/bada/i.test(e)?{name:\"Bada\",bada:t,version:n(/dolfin\\/(\\d+(\\.\\d+)?)/i)}:/tizen/i.test(e)?{name:\"Tizen\",tizen:t,version:n(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i)||c}:/safari/i.test(e)?{name:\"Safari\",safari:t,version:c}:{name:n(/^(.*)\\/(.*) /),version:i(/^(.*)\\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(r.name=r.name||\"Webkit\",r.webkit=t,!r.version&&c&&(r.version=c)):!r.opera&&/gecko\\//i.test(e)&&(r.name=r.name||\"Gecko\",r.gecko=t,r.version=r.version||n(/gecko\\/(\\d+(\\.\\d+)?)/i)),r.msedge||!s&&!r.silk?o&&(r[o]=t,r.ios=t):r.android=t;var h=\"\";r.windowsphone?h=n(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i):o?(h=n(/os (\\d+([_\\s]\\d+)*) like mac os x/i),h=h.replace(/[_\\s]/g,\".\")):s?h=n(/android[ \\/-](\\d+(\\.\\d+)*)/i):r.webos?h=n(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i):r.blackberry?h=n(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i):r.bada?h=n(/bada\\/(\\d+(\\.\\d+)*)/i):r.tizen&&(h=n(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i)),h&&(r.osversion=h);var p=h.split(\".\")[0];return d||\"ipad\"==o||s&&(3==p||4==p&&!l)||r.silk?r.tablet=t:(l||\"iphone\"==o||\"ipod\"==o||s||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.chrome&&r.version>=20||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(\".\")[0]>=6||r.blackberry&&r.version>=10.1?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(\".\")[0]<6?r.c=t:r.x=t,r}var t=!0,n=e(\"undefined\"!=typeof navigator?navigator.userAgent:\"\");return n.test=function(e){for(var t=0;t<e.length;++t){var i=e[t];if(\"string\"==typeof i&&i in n)return!0}return!1},n._detect=e,n}try{!function(e,t){\"undefined\"!=typeof module&&module.exports?module.exports.browser=t():\"function\"==typeof define&&define.amd?define(t):this[e]=t()}(\"bowser\",bowserDefinition)}catch(e){MS.log(\"Could not init bowser \"+e)}if(window.Base64={url_safe_chars:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",chars:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",encode:function(e){return this._b64_encode(e,this.chars)},url_safe_encode:function(e){var t=this._b64_encode(e,this.url_safe_chars);return t=t.replace(/\\=/g,\"\")},_b64_encode:function(e,t){var n,i,r,o,a,s,u,c=\"\",d=0;for(e=Base64._utf8_encode(e);d<e.length;)n=e.charCodeAt(d++),i=e.charCodeAt(d++),r=e.charCodeAt(d++),o=n>>2,a=(3&n)<<4|i>>4,s=(15&i)<<2|r>>6,u=63&r,isNaN(i)?s=u=64:isNaN(r)&&(u=64),c=c+t.charAt(o)+t.charAt(a)+t.charAt(s)+t.charAt(u);return c},_utf8_encode:function(e){e=e.replace(/\\r\\n/g,\"\\n\");for(var t=\"\",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}},function(){window.MS=window.MS||{noop:function(){},setVersion:function(e){this.version=this.parseVersion(e)},parseVersion:function(e){var t=/(\\d+)(\\.(\\d+))?(\\.(\\d+))?/,n=\"string\"==typeof e&&e.match(t),i=1e3,r=0,o=0;return n&&(i=parseInt(n[1])||i,r=parseInt(n[3])||r,o=parseInt(n[5])||o),{string:i+\".\"+r+\".\"+o,major:i,minor:r,patch:o,lt:function(n){if(\"string\"==typeof n){if(n===e)return!1;var i=n.match(t),r=0,o=0,a=0;return i&&(r=parseInt(i[1])||r,o=parseInt(i[3])||o,a=parseInt(i[5])||a),this.major==r?this.minor==o?this.patch<a:this.minor<o:this.major<r}return!1}}},type:function(e){var t=typeof e;if(\"object\"===t.toLowerCase()){if(null===e)return\"null\";var n=Object.prototype.toString.call(e);switch(n){case\"[object Array]\":return\"array\";case\"[object Date]\":return\"date\";case\"[object RegExp]\":return\"regex\"}}return t},deepKeySet:function(e,t,n){for(var i,r,o=t.split(\".\");(i=o.shift())&&(r=\"undefined\"!=typeof e)&&o.length;)e=e[i];r&&(e[i]=n)},summarize:function(e,t){t=void 0===t?50:t;var n=function(e,i){for(var r in e){if(++i>t)return 1/0;\"object\"==typeof e[r]&&(i=n(e[r],i))}return i};if(\"object\"==typeof e){if(null===e)return null;var i=n(e,0);if(i>t){var r={};for(var o in e)if(\"object\"==typeof e[o]&&null!==e[o]){var a=e[o].constructor;r[o]=\"[object \"+(a?a.name:\"Object\")+\"]\"}else r[o]=e[o];return r}}return e},_mixObjects:function(e){var t,n,i,r=Array.prototype.slice.call(arguments,1),o=r[0]||{},a=1,s=r.length;for(1===s&&(o=this||{},a=0);s>a;a++)if(t=r[a])for(i in t)t.hasOwnProperty(i)&&(n=t[i],o!==n&&(void 0===n||!e&&void 0!==o[i]||(o[i]=n)));return o},mixin:function(){var e=Array.prototype.slice.call(arguments);return e.unshift(!0),MS._mixObjects.apply(this,e)},merge:function(e){var t,n={},i=e.length;for(t=0;i>t;t++)MS.mixin(n,e[t]);return n},copy:function(e,t){var n,i=e;if(void 0===e||null==e)return null;if(e&&e.copy)return e.copy();switch(MS.type(e)){case\"array\":if(i=e.slice(),t)for(n=i.length;n--;)i[n]=MS.copy(i[n],!0);break;case\"object\":i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=t?MS.copy(e[r],!0):e[r]);break;case\"boolean\":return e}return i},$:function(e){return document.getElementById(e)},$$:function(e){return document.createElement(e)},$$$:function(e){var t=document.getElementsByClassName(e);if(\"array\"==MS.type(t))return t;var n=[];return Array.prototype.forEach.call(t,function(e){n.push(e)}),n},getText:function(e){var t,n,i=\"\",r=0;if(e)if(n=e.nodeType){if(1===n||9===n||11===n){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=MS.getText(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[r++];)i+=MS.getText(t);return i},tagUrl:function(e){function t(e){var t,n=window,i=n.document;if(\"object\"===MS.type(n.MWAPI))t=n.MWAPI._getAarkiTagScript;else for(;;){if(t=i.getElementById(e))break;if(n===n.parent)break;n=n.parent;try{if(i=n.document,\"undefined\"==typeof i)break}catch(e){break}}return t}var n;e=e!==!1;var i=window.MAPI_CONFIG||{},r=\"mobspire-ad-tag\",o=r+\"_\"+i.trackingKey,a=e&&t(o)||t(r);return n=null!==a&&void 0!==a?a.src:window.location.href},composite:function(e,t){if(e)if(\"array\"==MS.type(e))for(var n=e.length,i=0;n>i;++i)t(e[i]);else t(e)},memoizem:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=MS.memoize(n,t[n]))},memoize:function(e,t){function n(){function n(){var e=this,n=Array.prototype.slice.apply(arguments),i=n.join(\"|\");return i in a?a[i]:a[i]=t.apply(e,n)}var i=this,r=Array.prototype.slice.apply(arguments),o=r.join(\"|\");if(!i||i.self===i)throw new TypeError(\"MS.memoize only works with instance (prototype) methods\");var a={};return i[e]=n,n.purge=function(){a={}},a[o]=t.apply(i,r)}return n.purge=function(){},n}},MS.setVersion(\"1.5.158\")}(),window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()),function(e){function t(e,t){return t.toUpperCase()}function n(e){return e.replace(c,\"ms-\").replace(d,t)}function i(e,t){if(t in p)return p[t];if(t in e)return p[t]=t,t;for(var n,i=t.charAt(0).toUpperCase()+t.slice(1),r=l.length;r--;)if(n=l[r]+i,n in e)return p[t]=n,n;return p[t]=t,t}function r(e,t){if(t in f)return f[t];if(t in e)return f[t]=t,t;for(var i,r=h.length;r--;)if(i=h[r]+t,n(i)in e)return f[t]=i,i;return f[t]=t,t}function o(e){if(!e)return[];for(var t,n,i,r=e.trim(),o=/(\\w+)\\(\\s*(((?:\\s*,\\s*)?-?[\\d\\.]+(?:em|ex|%|px|cm|mm|in|pt|pc|deg|ch|rm|vh|vw|vmin|vmax|vm)?)+)\\s*\\)/g,a=[];t=o.exec(r);)n=t[1],i=t[2].split(/\\s*,\\s*/),a.push({func:n,args:i});return a}function a(e){for(var t,n,i,r,o=[];t=e.shift();)n=t.func,i=t.args,r=MS.type(i),\"null\"!==r&&(\"array\"===r&&(i=i.join(\", \")),o.push(n+\"(\"+i+\")\"));return o.join(\" \")}var s=function(){return\"function\"==typeof Object.defineProperty?function(e,t,n){var i=e.prototype;t in i||Object.defineProperty(i,t,{value:n})}:function(e,t,n){var i=e.prototype;t in i||(i[t]=n)}}(),u=function(e,t){for(var n in t)t.hasOwnProperty(n)&&s(e,n,t[n])};u(Array,{forEach:function(e,t){var n,i;if(null==this)throw new TypeError(\"this is null or not defined\");var r=Object(this),o=r.length>>>0;if(\"function\"!=typeof e)throw new TypeError(e+\" is not a function\");for(arguments.length>1&&(n=t),i=0;o>i;){var a;i in r&&(a=r[i],e.call(n,a,i,r)),i++}},map:function(e,t){var n,i,r;if(null==this)throw new TypeError(\"this is null or not defined\");var o=Object(this),a=o.length>>>0;if(\"function\"!=typeof e)throw new TypeError(e+\" is not a function\");for(arguments.length>1&&(n=t),i=new Array(a),r=0;a>r;){var s,u;r in o&&(s=o[r],u=e.call(n,s,r,o),i[r]=u),r++}return i},removeAt:function(e){return this.splice(e,1)[0]},copy:function(){return this.slice()},indexOf:function(e,t){var n;if(null==this)throw new TypeError('\"this\" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=r)return-1;for(n=Math.max(o>=0?o:r-Math.abs(o),0);r>n;){if(n in i&&i[n]===e)return n;n++}return-1},find:function(e){if(null==this)throw new TypeError(\"Array.prototype.find called on null or undefined\");if(\"function\"!=typeof e)throw new TypeError(\"predicate must be a function\");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;i>o;o++)if(t=n[o],e.call(r,t,o,n))return t}}),u(String,{trim:function(){var e=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;return function(){return this.replace(e,\"\")}}(),startsWith:function(e,t){return t=t||0,this.lastIndexOf(e,t)===t},endsWith:function(e,t){var n=this.toString();(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t},includes:function(){return-1!==String.prototype.indexOf.apply(this,arguments)},encodeHTML:function(){return this.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")},decodeHTML:function(){return this.replace(/&amp;/g,\"&\").replace(/&quot;/g,'\"').replace(/&#39;/g,\"'\").replace(/&lt;/g,\"<\").replace(/&gt;/g,\">\")}}),u(HTMLElement,{css:function(){var t={columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},r={transform:!0},o=function(){var e=document.createElement(\"div\");return e.style.backgroundClip=\"content-box\",e.cloneNode(!0).style.backgroundClip=\"\",\"content-box\"===e.style.backgroundClip}();return function(a,s){var u=MS.type(a);if(1===arguments.length){var c,d;if(\"object\"===u){for(c in a)a.hasOwnProperty(c)&&(d=a[c],this.css(c,d));return this}if(\"array\"===u){for(var l={},h=a.length;h--;)c=a[h],d=this.css(c),l[c]=d;return l}}var p=this.style,f=a;if(a=n(a),a=i(p,a),void 0!==s)return null===s||isNaN(s)&&\"string\"!==MS.type(s)?this:(\"number\"!=typeof s||t[a]||(s+=\"px\"),!o&&\"\"===s&&a.startsWith(\"background\")&&(p[a]=\"inherit\"),p[a]=s,this);if(r[f]||r[a])return p[a];var m,v=this.ownerDocument.defaultView,g=v.opener?v.getComputedStyle(this,null):e.getComputedStyle(this,null);return g&&(m=g.getPropertyValue(a)||g[a],\"\"===m&&(m=p[a])),void 0!==m?m+\"\":m}}(),rotation:function(e){var t,n,i,r,s=o(this.css(\"transform\"));if(void 0!==e){var u=!1;for(t=0,n=s.length;n>t;++t)if(i=s[t],r=i.func,\"rotateZ\"===r||\"rotate\"===r){i.args=e+\"deg\",u=!0;break}return u||s.push({func:\"rotate\",args:e+\"deg\"}),this.css(\"transform\",a(s))}for(t=0,n=s.length;n>t;++t)if(i=s[t],\"rotateZ\"===i.func||\"rotate\"===i.func)return parseInt(i.args[0]);return 0},attr:function(e,t){return void 0!==t?(this[e]=t,this):this[e]},html:function(e){return void 0!==e?(this.innerHTML=e,this):this.innerHTML},removeFromParent:function(){var e=this.parentNode;return!(!e||!e.removeChild(this))},addTransform:function(e,t,n){n=!!n;var i,r=o(this.css(\"transform\")),s=!1;if(!n)for(var u=0,c=r.length;c>u;++u)if(i=r[u],i.func===e){i.args=t,s=!0;break}return s||r.push({func:e,args:t}),this.css(\"transform\",a(r))},removeTransform:function(e){for(var t,n=o(this.css(\"transform\")),i=0,r=n.length;r>i;++i)if(t=n[i],t.func===e){n.removeAt(i);break}return this.css(\"transform\",a(n))},removeAllTransforms:function(){return this.css(\"transform\",\"\")},addTransition:function(e,t,n,i){var o=this.css(\"transition\");e=r(this.style,e);var a=[e,t+\"s\",n,(i||0)+\"s\"].join(\" \");if(void 0===o||null===o||\"none\"===o||\"\"===o)return this.css(\"transition\",a);for(var s=!1,u=o.split(/[ ]*,[ ]*/),c=0;c<u.length;++c){var d=u[c],l=d.substring(0,d.indexOf(\" \"));if(l===e){u[c]=a,s=!0;break}}return s||u.push(a),this.css(\"transition\",u.join(\",\"))},removeTransition:function(e){var t,n=this.css(\"transition\");if(t=r(this.style,e),void 0===n||null===n||\"none\"===n||\"\"===n)return this;for(var i=n.split(/[ ]*,[ ]*/),o=0;o<i.length;++o){var a=i[o],s=a.substring(0,a.indexOf(\" \"));if(s===e||s===t){i.removeAt(o);break}}return this.css(\"transition\",i.join(\",\"))},removeAllTransitions:function(){return this.css(\"transition\",\"\")},addAnimation:function(e,t,n,i,r,o,a){var s=e||\"none\",u=t||0,c=n||\"ease\",d=i||0,l=r||\"1\",h=o||\"normal\",p=a||\"none\",f=this.css(\"animation\"),m=[s,u+\"s\",c,d+\"s\",l,h,p].join(\" \");if(void 0===f||null==f||\"none\"===f||\"\"===f)return this.css(\"animation\",m);var v=new RegExp(\"[,\\\\s]*(\"+s+\"\\\\s[\\\\s\\\\w]+)\",\"i\");return f=f.replace(v,\"\").split(\",\").concat(m).join(\",\"),this.css(\"animation\",f)},removeAnimation:function(e){var t=this.css(\"animation\");if(void 0===t||null===t||\"none\"===t||\"\"===t)return this;var n=new RegExp(\"[,\\\\s]*(\"+e+\"\\\\s[\\\\s\\\\w]+)\",\"i\");return t=t.replace(n,\"\"),this.css(\"animation\",t)},removeAllAnimations:function(){return this.css(\"animation\",\"\")},opacity:function(e){if(void 0!==e)return this.css(\"opacity\",e);var t=this.css(\"opacity\");return\"\"===t?1:parseFloat(t)},show:function(){var e=this.css(\"display\");return\"none\"!==e?this:(\"string\"==typeof this.__olddisplay?this.css(\"display\",this.__olddisplay):this.css(\"display\",\"block\"),this)},hide:function(){var e=this.css(\"display\");return\"none\"===e?this:(this.__olddisplay=e,this.css(\"display\",\"none\"),this)},find:function(e){return\"string\"==typeof e?[].slice.apply(this.querySelectorAll(e)):[]},animate:function(e,t,n,i){var r,o,a,s,u,c,d,l=Math.abs,h=[];for(s in e)e.hasOwnProperty(s)&&(u=e[s],d={},(\"string\"==typeof u&&(c=u.split(/[0-9]+/))||(c=void 0))&&(r=c.length,c=\"string\"==typeof(r=c[r-1])?r:void 0),a=\"number\"==typeof u?u:parseFloat(u),o=(u=this.css(s))&&\"number\"==typeof u?u:parseFloat(u),\"rotate\"===s?(o=this.rotation(),d.func=this.rotation):\"opacity\"===s&&(o=this.opacity(),d.func=this.opacity),a!=o&&\"number\"==typeof a&&\"number\"==typeof o&&(d.dif=l(a-o),d.from=o,d.css=s,d.dir=a-o>=0?1:-1,c&&(d.unit=c),h.push(d)));var p=this,f=h.length,m=MS.FX,v=m.easing,g=v[n]||v.linear;this.animationIntervalId=m.animate({duration:void 0===t?1e3:t,complete:i,delta:function(e){return g(e)},step:function(e){for(var t=0;f>t;++t)d=h[t],u=d.from+e*d.dif*d.dir,(r=d.func)?r.call(p,u):(d.unit&&(u+=d.unit),p.css(d.css,u))}},this)},stopAnimation:function(){var e=this.animationIntervalId;e?clearInterval(e):++this.animId},fadeOut:function(e,t,n){var i=this,r=this.opacity(),o=this.style,a=MS.FX,s=a.easing,u=s[t]||s.linear;return\"none\"!==o.display&&0!==r&&a.animate({duration:void 0===e?1e3:e,complete:n,delta:function(e){return u(e)},step:function(e){i.opacity(r-e)}},this),this},fadeIn:function(e,t,n){var i=this,r=this.opacity(),o=this.style,a=MS.FX,s=a.easing,u=s[t]||s.linear,c=!0;return\"none\"===o.display?(i.opacity(0).show(),r=0):1==r&&(c=!1),c&&a.animate({duration:void 0===e?1e3:e,complete:n,delta:function(e){return u(e)},step:function(e){i.opacity(r+e)}},i),this},isHidden:function(){var e=this.offsetWidth,t=this.offsetHeight,n=this.style,i=\"tr\"===this.tagName.toLowerCase();return i?\"none\"===n.display||\"hidden\"===n.visibility:0===e||0===t},offset:function(){var e=this,t=0,n=0;if(e.offsetParent)do t+=e.offsetTop,n+=e.offsetLeft;while(e=e.offsetParent);return{top:t,left:n}},addClass:function(e){for(var t=(this.className||\"\").trim().split(/[ ]+/),n=0,i=t.length;i>n;++n)if(t[n]===e)return;return this.className+=\" \"+e,this},removeClass:function(e){for(var t=(this.className||\"\").trim().split(/[ ]+/),n=[],i=0,r=t.length;r>i;++i)t[i]!==e&&n.push(t[i]);return this.className=n.join(\" \"),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},hasClass:function(e){var t=\" \"+(this.className||\"\")+\" \";return t.includes(\" \"+e+\" \")}}),u(Function,{observes:function(){return this.observedProperties=arguments,this},mixin:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},bind:function(e){if(\"function\"!=typeof this)throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}}),u(NodeList,{offset:function(){var e=0,t=0,n=this;if(n.offsetParent)do e+=n.offsetLeft,t+=n.offsetTop;while(n=n.offsetParent);return{left:e,top:t}},forEach:function(e){for(var t=0;t<this.length;t++)e(this[t],t,this)},addClass:function(e){if(void 0!==this.length||this.length>1)this.forEach(function(t){for(var n=(t.className||\"\").split(\" \"),i=0;i<n.length;++i)if(n[i]==e)return;t.className+=\" \"+e});else{for(var t=(this.className||\"\").split(\" \"),n=0;n<t.length;++n)if(t[n]==e)return;this.className+=\" \"+e}},removeClass:function(e){if(void 0!==this.length||this.length>1)this.forEach(function(t){for(var n=(t.className||\"\").split(\" \"),i=\"\",r=0;r<n.length;++r)n[r]!=e&&(i+=n[r]+\" \");t.className=i});else{for(var t=(this.className||\"\").split(\" \"),n=\"\",i=0;i<t.length;++i)t[i]!=e&&(n+=t[i]+\" \");this.className=n}},find:function(e){return this.map(function(t){return t.find(e)}).join()}});var c=/^-ms-/,d=/-([\\da-z])/gi,l=[\"Webkit\",\"O\",\"Moz\",\"ms\"],h=[\"-webkit-\",\"-o-\",\"-moz-\",\"-ms-\"],p={float:\"cssFloat\"},f={};MS.vendorPropName=i,MS.vendorDashedPropName=r,MS.parseTransform=o,MS.stringifyTransform=a,MS.FX=MS.FX||{requestAnimationFrame:function(){return e.requestAnimationFrame||(e.requestAnimationFrame=e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame)||void 0}(),easing:{linear:function(e){return e},easein:function(e){return e*e},easeout:function(e){return e*(2-e)},easeinout:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},quadratic:function(e){return Math.pow(e,2)},swing:function(e){return.5-Math.cos(e*Math.PI)/2},circ:function(e){return 1-Math.sin(Math.acos(e))},back:function(e,t){return Math.pow(e,2)*((t+1)*e-t)},bounce:function(e){for(var t=0,n=1;!0;t+=n,n/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(n,2)},elastic:function(e,t){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}},animate:function(e,t){function n(){i=new Date-s,r=i/e.duration,r>1&&(r=1),e.progress=r,o=e.delta(r),e.step(o),1==r&&(t.stopAnimation(),e.complete&&e.complete())}var i,r,o,a=this,s=new Date,u=a.requestAnimationFrame;t._animate=!0;var c=t.animId=t.animId||~~(5*(Math.random()+1));if(u){t.animIntervalId=void 0;var d=function(){t.animId==c&&(n(),u(d))};d()}else t.animIntervalId=setInterval(n,e.delay||16)}},\"function\"!=typeof Math.clip&&(Math.clip=function(e,t,n){if(t>n){var i=t;t=n,n=i}return e>=n?n:t>=e?t:e})}(window),function(){var e=function(e){this.level=1,this.reporter=e},t={debug:0,log:1,info:1,error:1,warn:1,trace:1,group:2,groupCollapsed:2,groupEnd:2,profile:2,profileEnd:2,time:2,timeEnd:2,timeStamp:2};e.prototype={setLevel:function(e){this.level=parseInt(e)},setReporter:function(e){this.reporter=e}};for(var n in t)t.hasOwnProperty(n)&&(!function(e){var t=window.console,n=t&&t[e],i=!n||n.call?0:t[e]=function(){i.apply.call(n,t,arguments)}}(n),function(n){var i=t[n];e.prototype[n]=function(){this.level>=i&&this.reporter.report(n,arguments)}}(n));var i=function(){if(\"undefined\"==typeof window.console){var e=function(e){};window.console={log:e,info:e,error:e,warn:e,debug:e,group:e,groupCollapsed:e,groupEnd:e,profile:e,profileEnd:e,time:e,timeEnd:e,timeStamp:e,trace:e}}};i.prototype.report=function(e,t){window.console&&(\"function\"==typeof window.console[e]?window.console[e].apply(window.console,t):window.console.log(Array.prototype.slice.call(t,0)))};var r=function(e,t){this.url=e,this.method=(t||\"POST\").toUpperCase(),this.session=(new Date).getTime(),this.queue=[],this.processing=!1;var n=this;window.onerror=function(e,t,i,r,o){o&&o.stack?n.report(\"error\",[o.stack]):n.report(\"error\",[e,t+\":\"+i])}};r.prototype.report=function(e,t){this.queue.push({type:e,timestamp:(new Date).getTime(),arguments:t}),this.processing===!1&&this.process()},r.prototype.process=function(){var e=this.queue.shift(),t=this.process.bind(this);e?(this.processing=!0,this.processOne(e,t)):this.processing=!1},r.prototype.processOne=function(e,t){var n,i,r,o=new XMLHttpRequest,a={type:e.type,session:this.session,timestamp:e.timestamp,msg:Array.prototype.slice.apply(e.arguments)},s=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+\"=\"+encodeURIComponent(e[n]));return t.join(\"&\")};switch(this.method){case\"GET\":n=this.url+\"?\"+s(a),i=null;break;case\"POST\":n=this.url;for(var u=0,c=a.msg.length;c>u;u++)a.msg[u]=MS.summarize(a.msg[u]);if(JSON&&JSON.stringify){var d=[];i=JSON.stringify(a,function(e,t){if(void 0===t)return\"__undefined__\";if(\"object\"==typeof t&&null!==t){if(-1!==d.indexOf(t))return;d.push(t)}else if(\"function\"==typeof t)return t.toString();return t}),d=null,r=\"application/json\"}else i=s(a),r=\"application/x-www-form-urlencoded\"}o.open(this.method,n,!0),r&&o.setRequestHeader(\"Content-Type\",r),o.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),o.addEventListener(\"load\",t,!1),o.addEventListener(\"error\",t,!1),o.addEventListener(\"abort\",t,!1),o.send(i)},MS.Logger=e,MS.log=new e;var o=MS.tagUrl(!1),a=o.split(\"#\"),s=a.length>1?a[1]:null,u={};if(s){s=s.split(\"&\");for(var c,d=0;d<s.length;d++)c=s[d].split(\"=\"),u[c[0]]=c[1]}var l=u.logurl,h=parseInt(u.loglevel);l&&(window.console={log:function(e){MS.log.log.apply(MS.log,arguments)},info:function(e){MS.log.info.apply(MS.log,arguments)},error:function(e){MS.log.error.apply(MS.log,arguments)},warn:function(e){MS.log.warn.apply(MS.log,arguments)},debug:function(e){MS.log.debug.apply(MS.log,arguments)}}),MS.log.setReporter(l?new r(l):new i),MS.log.setLevel(isNaN(h)?1:h)}(),function(){MS.Observable={_observers:{},_idGen:0,initObservable:function(){var e,t;this._observers={},this._listeners={};for(var n in this){var i=this[n];if(\"function\"==MS.type(i)&&i.observedProperties)for(e=i.observedProperties,t=0;t<e.length;t++)this.addObserver(e[t],this,i)}},addObserver:function(e,t,n,i){var r=this._observers[e];r||(r=[],this._observers[e]=r),r.push({object:t,method:n,context:i})},get:function(e){return this[e]},set:function(e,t){this[e]=t,this._notifyObserversFor(e)},_notifyObserversFor:function(e){var t=this._observers[e];if(t)for(var n,i=0;i<t.length;i++)n=t[i],n.method.call(n.object,this,e,n.context)},_listeners:{},addEventListener:function(e,t,n,i){this._listeners[e]||(this._listeners[e]=[]);var r=++this._idGen;return this._listeners[e].push({id:r,target:t,method:n,context:i}),{event:e,id:r}},removeEventListener:function(e){var t=e.event,n=this._listeners[t];if(n){for(var i=-1,r=0;r<n.length;++r){var o=n[r];if(e.id==o.id){i=r;break}}i>=0&&n.splice(i,1)}},fireEvent:function(e,t){this._notifyListenersFor(e,t)},_notifyListenersFor:function(e,t){var n=this._listeners[e];if(n){var i=this;n.forEach(function(e){void 0!==t?e.method.call(e.target,i,t,e.context):e.method.call(e.target,i,e.context)})}}}}(),function(){var e=!1;this.MS._Object=function(){},MS._Object.prototype.init=function(){},MS._Object.extend=function(){var t=MS.merge(Array.prototype.slice.call(arguments)),n=MS.copy(this.prototype._private_properties,!0)||{},i=function(t){e||(MS.mixin(this,MS.copy(n,!0)),MS.mixin(this,t),this.initObservable&&this.initObservable(),this.init.apply(this))};e=!0;var r=new this;e=!1;var o=this.prototype;for(var a in t){var s=t[a];s instanceof Function?(s.base=o[a],r[a]=s):n[a]=MS.copy(s,!0)}return r._private_properties=n,i.construtor=i,i.prototype=r,i.extend=this.extend,i.create=function(){var e=MS.merge(Array.prototype.slice.call(arguments));return new i(e)},i},MS.Object=MS._Object.extend(MS.Observable,{})}(),MS.Serializable={componentId:null,id:null,type:null,json:null,init:function(){return void 0===this.type||null==this.type?void MS.ExceptionManager.error(new Error(\"MS.Serializable requires members to define .type\")):void(void 0!==this.json&&null!=this.json?(this.componentId=this.json.id,this.initFromJson(this.json),MS.ComponentRegistry.register(this)):MS.ComponentRegistry.register(this,!0))},initFromJson:function(e){},jsonAttr:function(e){return this.json[e]}},function(e){e.Beat=function(e,t,n,i,r,o){this.init(e,t,n,i,r,o)},e.Beat.prototype={TRACK_IMMEDIATELY:1,TRACK_IN_QUEUE:2,GET_URL_MAX_LENGTH:8192,init:function(e,t,n,i,r,o){this.trackURL=\"undefined\"!=typeof e?e:\"http://example.com/api/\",this.trackBulkURL=\"undefined\"!=typeof t?t:null,this.useEventQueue=!!this.trackBulkURL,this.defaultParams=\"undefined\"!=typeof n?n:null,this.queueInterval=\"undefined\"!=typeof i?i:5555,this.trackingMethod=\"undefined\"!=typeof r?r:this.trackPixel,this.runQueue=this.runQueueTrim,this.seqID=0,this._bufferAllEvents=!1,this._bufferedEvents=[],this._queuedEvents=[],this._expectedEvents={},this.debug=o||!1,this.useEventQueue&&this.turnOnRunQueue()},addEvent:function(e,t,n,i,r,o,a,s,u){if(\"undefined\"==typeof e)return null;this.seqID++;var c=\"undefined\"!=typeof e?e:\"event_\"+this.getRandomString();t=t?t:{},n=\"undefined\"!=typeof n?n:this.TRACK_IMMEDIATELY,i=\"undefined\"!=typeof i?i:null,r=\"undefined\"!=typeof r?r:null,a=\"undefined\"!=typeof a?a:!0,a&&this.includeDefaultParams(t,c),o&&n==this.TRACK_IN_QUEUE&&(n=this.TRACK_IMMEDIATELY);var d={name:c,urlParams:t,track:n,callback:i,url:o,appendDefault:a,ctMethod:s};if(u!==!0&&this._bufferAllEvents)return d.waitForEvent=r,this._bufferedEvents.push(d),this.log(\"%c[Beat]\",\"color: magenta;\",\"buffered:\",c,o||this.trackURL,t),null;if(e&&e in this._expectedEvents){var l=this._expectedEvents[c];this._expectedEvents[c]=[];for(var h=0;h<l.length;h++)l[h].waitForEvent=null,this._addEventObject(l[h])}if(r)r in this._expectedEvents||(this._expectedEvents[r]=[]),this._expectedEvents[r].push(d);else{if(n==this.TRACK_IMMEDIATELY)return o?(s=this.isFunction(s)?s:this.trackPixel,s.call(this,c,t,i,o)):this.trackingMethod(c,t,i);n==this.TRACK_IN_QUEUE&&this.useEventQueue&&this._queuedEvents.push(d)}return null},addEventWithURL:function(e,t,n){return this.addEvent(null,null,this.TRACK_IMMEDIATELY,t,null,e,!1,n)},_addEventObject:function(e){return this.addEvent(e.name,e.urlParams,e.track,e.callback,e.waitForEvent,e.url,e.appendDefault,e.ctMethod)},startBufferEvents:function(){this._bufferAllEvents||(this._bufferAllEvents=!0)},stopBufferEvents:function(){if(this._bufferAllEvents){this._bufferAllEvents=!1;var e=this._bufferedEvents;this._bufferedEvents=[];for(var t=0;t<e.length;t++)this._addEventObject(e[t])}},isBufferingEvents:function(){return this._bufferAllEvents},convertEventToURLParam:function(e){var t=\"undefined\"!=typeof e.urlParams?e.urlParams:{},n=\"event_\"+this.getRandomString(),i={};return\"undefined\"!=typeof JSON&&JSON.stringify&&(i[n]=Base64.url_safe_encode(JSON.stringify(t))),i},runQueueTrim:function(){var e=null;if(!this.trackBulkURL)return e;var t,n=this._queuedEvents;if(!n||0==n.length)return e;if(this._queuedEvents=[],1==n.length)return t=n[0],e=this.trackingMethod(t.name,t.urlParams,t.callback,t.url);var i,r,o=this.trackBulkURL,a=[],s=[];for(r=0;r<n.length;r++){var u=this.convertEventToURLParam(n[r]);if(i=o+(-1!=o.indexOf(\"?\")?\"&\":\"?\")+this.stringifyURLParams(u),i.length>this.GET_URL_MAX_LENGTH)break;a.push(n[r].callback),o=i}if(0==r)t=n[0],e=this.trackingMethod(t.name,t.urlParams,t.callback,t.url),s=n.slice(1);else{e=this.trackingMethod(\"bulk\",null,null,o);for(var c=0;c<a.length;c++)a[c]&&a[c]();s=n.slice(r)}return s.length>0&&(this._queuedEvents=s.concat(this._queuedEvents)),e},runQueueAll:function(){var e=null;if(!this.trackBulkURL)return e;var t,n=this._queuedEvents;if(!n||0==n.length)return e;if(this._queuedEvents=[],1==n.length)return t=n[0],e=this.trackingMethod(t.name,t.urlParams,t.callback,t.url);for(var i={},r=[],o=0;o<n.length;o++)this.mergeDictionaries(i,this.convertEventToURLParam(n[o])),r.push(n[o].callback);e=this.trackingMethod(\"bulk\",i,null,this.trackBulkURL);for(var a=0;a<r.length;a++)r[a]&&r[a]();return e},includeDefaultParams:function(e,t){if(e=\"undefined\"!=typeof e?e:{},this.defaultParams)for(var n in this.defaultParams)if(this.defaultParams.hasOwnProperty(n)&&!e.hasOwnProperty(n)){var i=this.defaultParams[n];i=this.isFunction(i)?i(t):i,i&&(e[n]=i)}return!t||\"event\"in e||(e.event=t),e},stringifyURLParams:function(e){var t=[];for(var n in e)\"undefined\"!=typeof n&&e.hasOwnProperty(n)&&\"undefined\"!=typeof e[n]&&t.push(encodeURIComponent(n)+\"=\"+encodeURIComponent(e[n]));return t.join(\"&\")},appendURLParams:function(e,t,n,i){if(!e)return null;t||(t={}),n=\"undefined\"!=typeof n?n:!1,n&&this.includeDefaultParams(t,i);var r=this.stringifyURLParams(t);return r?e+(-1!=e.indexOf(\"?\")?\"&\":\"?\")+r:e},trackPixel:function(e,t,n,i){if(i=\"undefined\"!=typeof i?i:this.trackURL,!i)return n&&n(),null;var r=this.appendURLParams(i,t),o=this.__pixel(r,n);return this.log(\"%c[Beat]\",\"color: green;\",\"tracked with pixel\",e,i,t),o},__pixel:function(e,t){var n=document.createElement(\"IMG\");return n.style.width=\"1px\",n.style.height=\"1px\",t&&(n.onload=t),n.src=e,e},trackJSONP:function(e,t,n,i){if(i=\"undefined\"!=typeof i?i:this.trackURL,!i)return n&&n(),null;var r=this.appendURLParams(i,t),o=this.__jsonp(r,n);return this.log(\"%c[Beat]\",\"color: green;\",\"tracked with jsonp\",e,i,t),o},__jsonp:function(e,t){var n=\"ms_\"+this.getRandomString(),i=document.createElement(\"script\");return window[n]=function(e){delete window[n],document.body.removeChild(i),t&&t(e)},i.onload=function(){},i.onerror=function(){delete window[n],document.body.removeChild(i),t&&t(new Error(\"could not load script\"))},i.src=e+(e.indexOf(\"?\")<0?\"?\":\"&\")+\"callback=\"+n,document.body.appendChild(i),e},trackPOST:function(e,t,n,i){if(i=\"undefined\"!=typeof i?i:this.trackURL,!i)return n&&n(),null;var r=this.stringifyURLParams(t);return i=this.post(i,r,n),this.log(\"%c[Beat]\",\"color: green;\",\"tracked with post\",e,i,t),\ni},getXHR:function(){var e=null;if(window.XDomainRequest)e=new XDomainRequest;else if(window.XMLHttpRequest)e=new XMLHttpRequest;else if(window.ActiveXObject)try{e=new ActiveXObject(\"Msxml2.XMLHTTP\")}catch(t){try{e=new ActiveXObject(\"Microsoft.XMLHTTP\")}catch(e){}}return e},get:function(e,t,n){return this._ajax(\"GET\",e,null,t,n)},post:function(e,t,n,i){var r=\"cb\"+this.getRandomString(),o={};return o[r]=\"1\",e=this.appendURLParams(e,o),this._ajax(\"POST\",e,t,n,i)},_ajax:function(e,t,n,i,r){var o=this.getXHR(),a=window.XDomainRequest,s=!!a&&o instanceof a;return s?(o.open(e,t),i&&(o.onload=function(){i(o.responseText)}),r&&(o.onerror=function(){r(o.responseText)})):(o.open(e,t,!0),o.onreadystatechange=function(){4==o.readyState&&(200==o.status?i&&i(o.responseText):r&&r(o.responseText))},o.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\")),o.send(n),t},getRandomString:function(){return parseInt(1e20*Math.random())+\"\"},turnOnRunQueue:function(){if(this.queueInterval&&!this._runQueueIntervalObj){var e=this;return this._runQueueIntervalObj=setInterval(function(){e.runQueue()},this.queueInterval),!0}return!1},turnOffRunQueue:function(){return this._runQueueIntervalObj?(clearInterval(this._runQueueIntervalObj),this._runQueueIntervalObj=null,!0):!1},isFunction:function(e){var t={};return e&&\"[object Function]\"===t.toString.call(e)},mergeDictionaries:function(e,t,n){e=\"undefined\"!=typeof e?e:{},t=\"undefined\"!=typeof t?t:{},n=\"undefined\"!=typeof n?n:!0;for(var i in t)!t.hasOwnProperty(i)||!n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e},log:function(){this.debug&&e.console.info.apply(e.console,arguments)},replaceURLMacros:function(e,t){if(!e||!t)return e;var n=this;return e=e.replace(new RegExp(t,\"gi\"),function(e,t){return n.params.hasOwnProperty(t)?encodeURIComponent(n.params[t]):\"\"})}}}(window),window.beat=null,function(e){e.SpearBeat=MS.Object.extend(e.Beat.prototype,{_shouldSendLatencyEvents:!1,_track_url_suffix_map:{trackJSONP:\"/track.jsonp\",trackPOST:\"/track.post\",trackPixel:\"/track.gif\"},_track_bulk_url_suffix_map:{trackJSONP:\"/track_bulk.jsonp\",trackPOST:\"/track_bulk.post\",trackPixel:\"/track_bulk.gif\"},_tracking_method:\"trackPOST\",init:function(){this.start=new Date;var t=e.MAPI_CONFIG||{};this.trackingKey=t.trackingKey,this.flight=t.flightKey,this.plugin=t.plugin;var n=this.params={},i=this._parseUrl(MS.tagUrl());this.mergeDictionaries(n,i);var r=e.MAPI_EXTRA;\"object\"==typeof r&&this.mergeDictionaries(n,r);var o,a=\"TAG_VARS_\"+this.trackingKey;try{o=e[a]||e.parent[a]}catch(e){o=void 0}\"object\"==typeof o&&(console.log(\"External variables initialized from \",a,o),this.mergeDictionaries(n,o)),n.trackingKey||(n.trackingKey=this.trackingKey),n.flight||(n.flight=this.flight),n.sessionId?this._sessionId=n.sessionId:(this._sessionId=this.generateUID(),n.sessionId=this._sessionId),this._plantSession();var s=t.trackUrl?t.trackUrl:\"https://rm.aarki.net/\";this.trackURLBase=\"y\"==n.secure?s.replace(\"http://\",\"https://\"):s,this.trackUrl=this.trackURLBase;var u={flight:this.flight,cts:function(){return(new Date).getTime()},tz:function(){return parseInt((new Date).getTimezoneOffset())},sid:this._sessionId,plugin:this.plugin,rnd:function(){return(Math.random()+\"\").replace(\".\",\"\")}};this.impid=n.imp,n.imp&&(u.imp=n.imp),this.channel=n.channel,n.channel&&(u.channel=n.channel),n.proxyid&&(u.proxyid=n.proxyid);var c=[this._url(this._track_url_suffix_map[this._tracking_method]),this._url(this._track_bulk_url_suffix_map[this._tracking_method]),u,1e4,Beat.prototype[this._tracking_method],!1];Beat.prototype.init.apply(this,c);var d=Math.random;this._shouldSendLatencyEvents=\"y\"===n.tr_latency||d()<.01,this._shouldTrackVideoTimeSpent=\"y\"===n.tr_video_ts||d()<.002,this._shouldSendTimeSpentEvents=\"y\"===n.tr_ts||d()<.005;var l=parseInt(n.ots)||null;if(l){var h=window.MOBSPIRE_DOWNLOAD_END;this.latency(\"m.download\",h-l)}},mediaDoneUrl:\"http://ar.aarki.net/adpick/media_done.jsonp\",downloadClickUrl:\"http://ar.aarki.net/adpick/video_download_redirect\",latency:function(e,t,n){this._shouldSendLatencyEvents&&isFinite(t)&&this.addEvent(null,{metric:e,millis:parseInt(t)},this.TRACK_IMMEDIATELY,n,null,this._url(\"/time.gif\"))},milestone:function(e,t,n){t=t||window.MOBSPIRE_LOAD_START,t&&window._now&&this.latency(e,window._now()-t,n)},_url:function(e){return this.trackingKey?this.trackURLBase+\"v1/api/\"+this.trackingKey+e:null},_plantSession:function(){try{if(this._checkSession(\"user_id\"))return;var e=this._sessionId;document.cookie=\"user_id=\"+encodeURI(e)+\";domain=aarki.net\"}catch(e){}},_checkSession:function(e){var t=document.cookie,n=t.indexOf(e+\"=\"),i=n+e.length+1;if(!n&&e!=t.substring(0,e.length)||-1==n)return null;var r=t.indexOf(\";\",i);return-1==r&&(r=t.length),decodeURI(t.substring(i,r))},_uidLen:16,generateUID:function(e){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz012345678\",n=new Array(e||this._uidLen),i=0;i<n.length;i++)n[i]=t.charAt(Math.floor(Math.random()*t.length));return n.join(\"\")},_parseUrl:function(e){if(!e||e.indexOf(\"?\")<0)return{};for(var t=[\"redir\",\"redir_unesc\",\"expand\",\"expand_unesc\",\"imp_unesc\",\"int_unesc\",\"click_unesc\",\"event_unesc\"],n=[\"redir_chain_esc_esc\",\"redir_esc_esc\",\"expand_esc_esc\",\"imp_esc_esc\",\"int_esc_esc\",\"click_esc_esc\",\"event_esc_esc\"],i=e.substring(e.indexOf(\"?\")+1).split(\"#\")[0],r=i.split(\"&\"),o={},a=0;a<r.length;++a){var s=r[a],u=s.split(\"=\"),c=u[0];u.splice(0,1);var d=u.join(\"=\");u.length>=1&&(-1!=t.indexOf(c)?o[c]=d:-1!=n.indexOf(c)?o[c]=decodeURIComponent(decodeURIComponent(d)):o[c]=decodeURIComponent(d))}return o},_startTimeTracker:function(e){e=\"undefined\"!=typeof e?e:5e3;var t=this,n=0;t.track(\"m.timeSpent\",{millis:\"start\"}),this._lastInteractionTracked=this._lastInteractionTracked||(new Date).getTime(),t.timeSpentInterval=setInterval(function(){n+=1;var i=(new Date).getTime();if(t._lastInteractionTracked){var r=i-t._lastInteractionTracked;if(r>35e3)return}var o=t._timeSpentLastTracked||0,a=o+e;t._timeSpentLastTracked=a,0==a||a>3e5&&n%12!=0||a>6e5||t.track(\"m.timeSpent\",{millis:a})},e)},_stopTimeTracker:function(){this.timeSpentInterval&&clearInterval(this.timeSpentInterval)},track:function(e,t,n,i,r,o,a){var s={};i&&(i.page&&(s.page=i.page),i.widget&&(s.widget=i.widget)),void 0!==t&&null!=t&&\"undefined\"!=typeof JSON&&JSON.stringify&&(s.data=Base64.url_safe_encode(JSON.stringify(t)));var u=this.params.cv,c=this.params.flight_rule_ids;return u&&(s.cv=u),c&&(s.flight_rule_ids=c),this.log(\"%c[Beat]\",\"color: blue;\",\"tracked\",e,i||null,t),this.addEvent(e,s,r,n,o,void 0,void 0,void 0,a)},trackOnce:function(e,t,n,i,r){return e.__beatTracked=e.__beatTracked||{},void 0===e.__beatTracked[t]?(e.__beatTracked[t]=!0,this.track(t,n,i,r)):null},trackVideoTimeSpent:function(e,t,n){if(this._shouldTrackVideoTimeSpent){var i=this.__videoTimeSpentTracked=this.__videoTimeSpentTracked||{};void 0===i[e]&&(i[e]={}),t=Math.round(t),i[e][t]||(i[e][t]=!0,this.track(\"m.videoTimeSpent\",{video:e,second:t},null,{page:n}))}},trackImpression:function(){if(void 0!==this._trackedImpression)return null;this._trackedImpression=!0;var e=this.track(\"m.impression\",null),t=this.params.imp_unesc||this.params.imp_esc||this.params.imp_esc_esc;return t&&this.addEventWithURL(t),e},trackRendered:function(){return void 0!==this._trackedRendered?null:(this._trackedRendered=!0,this.track(\"m.rendered\",null,void 0,void 0,void 0,void 0,!0))},trackPageView:function(e,t){if(void 0==this._trackedPageViews&&(this._trackedPageViews={}),this._currentPageTracked=e,void 0!==this._trackedPageViews[e.json.id])return null;var n=void 0===t?\"m.pageView\":\"m.bannerPageView\",i=e.json.name,r=this.track(n,{name:i,id:e.json.id},null,{page:i});return this._trackedPageViews[e.json.id]=!0,this.__firstPageViewTime||(this.__firstPageViewTime=new Date,this._shouldSendTimeSpentEvents&&this._startTimeTracker(),this.track(\"m.firstPageView\",{name:i,id:e.json.id},null,{page:i}),this.milestone(\"m.show\",beat.__viewableTime)),r},trackInteraction:function(e,t,n){if(void 0!==this._trackedInteraction)return null;var i=this.track(\"m.interaction\",{interactionType:n},null,{page:t});this.params.etag&&this.addEventWithURL(this.params.etag),this._trackedInteraction=!0;var r=this.params.int_unesc||this.params.int_esc||this.params.int_esc_esc;return r&&this.addEventWithURL(r),i},trackClickThrough:function(e,t){e=this.replaceURLMacros(e,\"\\\\{arg_(\\\\w+)\\\\}\");var n=(new Date).getTime()-(this.__firstPageViewTime||new Date).getTime(),i=this._trackedClickThrough?\"m.redirect\":\"m.clickThrough\",r=e,o={millis:n};if(this.trackingKey){var a=this.params.redir||this.params.redir_unesc||this.params.redir_esc||this.params.redir_esc_esc,s=this.params.redir_chain_esc||this.params.redir_chain_esc_esc;if(r=MS.Plugin._produceURL(a?a:e),e=void 0===this._trackedClickThrough?this.clickThroughUrl():this.redirectUrl(),JSON.stringify){o.url=r,t&&(o.page=t);var u=this._lastClick;u&&(o.x=u.x,o.y=u.y,\"number\"==typeof u.h&&\"number\"==typeof u.v&&(o.h=u.h,o.v=u.v));var c=this.params.cv,d=this.params.flight_rule_ids;c&&(o.cv=c),d&&(o.flight_rule_ids=d),e=this.appendURLParams(e,{data:Base64.url_safe_encode(JSON.stringify(o))})}s&&(e=s+encodeURIComponent(e))}var l=this.params.click_unesc||this.params.click_esc||this.params.click_esc_esc;return l&&this.addEventWithURL(l),this.log(\"%c[Beat]\",\"color: blue;\",\"tracked\",i,{page:t||null},{url:r,millis:n}),MS.Plugin.gotoUrl(e),this._trackedClickThrough=!0,e},trackExpansion:function(){if(void 0!==this._trackedExpansion)return null;var e=this.track(\"m.expansion\",null);this.params.xtag&&this.addEventWithURL(this.params.xtag),this._trackedExpansion=1;var t=this.params.expand||this.params.expand_unesc||this.params.expand_esc||this.params.expand_esc_esc;return t&&this.addEventWithURL(t),e},trackReward:function(e){if(void 0!==this._trackedReward)return null;var t=this.track(\"m.reward\",{cid:e});return this.params.rtag&&this.addEventWithURL(this.params.rtag),this._trackedReward=!0,t},clickThroughUrl:function(){return this._richUrl(\"/ctr\")},redirectUrl:function(){return this._richUrl(\"/rd\")},shareUrl:function(){return this._richUrl(\"/share\")},clickUrl:function(){return this.params.next},param:function(e){return this.params[e]},buildDataUrl:function(e){var t=this.params.clk||null,n=this._lastClick,i={};return e=t?this.downloadClickUrl+\"?clk=\"+t:this.clickUrl()||e,n&&(i.x=n.x,i.y=n.y,\"number\"==typeof n.h&&\"number\"==typeof n.v&&(i.h=n.h,i.v=n.v),e=this.appendURLParams(e,{data:Base64.url_safe_encode(JSON.stringify(i))})),i.url=e,i},downloadClick:function(e,t){var n=this.buildDataUrl(e);this.trackOnce(this,\"m.gotoUrl\",n,null,t),MS.Plugin.gotoUrl(n.url)},downloadMedia:function(e,t){try{var n=this;MS.Plugin.download(e.name,e.url,function(i){var r=i?\"m.downloadMediaSuccess\":\"m.downloadMediaRedirect\",o={media:e.name};n.track(r,o,null,t)})}catch(e){MS.log(e.name+\": \"+e.message)}},rewardUser:function(e){e=e||function(){};var t=this,n=t.params.clk||null,i=t.mediaDoneUrl+\"?clk=\"+n;\"function\"==typeof window.mraid_credit&&null!=t.trackReward(n)&&window.mraid_credit(null),n?t._jsonp(i,function(n){n.url&&(t.params.next=n.url),e()}):e(),t.trackReward(n)},submitForm:function(e,t,n){this.submitData(\"/form.json\",e,t,n)},submitPoll:function(e,t,n){this.submitData(\"/poll.json\",e,t,n)},submitData:function(e,t,n,i){var r=this._richUrl(e),o=r+(-1!==r.indexOf(\"?\")?\"&\":\"?\")+t;this._jsonp(o,function(e){e.status&&\"ok\"===e.status?n():i()})},getData:function(e,t,n,i){var r=beat._richUrl(e),o=r+(-1!==r.indexOf(\"?\")?\"&\":\"?\")+t;this.get(o,function(e){n(\"string\"==typeof e?JSON.parse(e):e)},function(e){i(e)},!1)},sendImage:function(e,t,n){var i=this._richUrl(\"/image.json\"),r=\"image=\"+encodeURIComponent(e);this.post(i,r,function(e){t(JSON.parse(e))},n)},trackWidgetInteraction:function(e,t,n,i){if(!e.type||\"Widget\"!==e.type||!e.json||\"Widgets.Container\"==e.json.type)return null;var r={};return this._lastInteractionTracked=(new Date).getTime(),i=\"undefined\"!=typeof i?i:beat.TRACK_IN_QUEUE,t.widget=e.json.id+\":\"+e.json.type,e.page&&e.page.json&&(r.page=e.page.json.name),this.track(n,t,null,r,i)},_jsonp:function(e,t){this.addEventWithURL(e,t,this.trackJSONP)},pixel:function(e,t){this.addEventWithURL(e,t,this.trackPixel)},_richUrl:function(e,t){return this.appendURLParams(this._url(e),t,!0)},log:function(){MS.log.info.apply(MS.log,arguments)}}),e.beat=e.SpearBeat.create(),e.beat.runQueue=e.beat.runQueueAll,e.mapi=e.beat}(window),function(e){MS.processDynamicContent=function(e,t){function n(){var t=e.MotionSequence;for(l in t)if(t.hasOwnProperty(l)){var n=t[l],i=n.tracks.filter(function(e){return-1===f.indexOf(e)});p[n.type+\".\"+l+\".tracks\"]=i}}function i(t){var n=t.variants;if(n&&n.length){var i=e.Variant,o=n.find(function(e){return-1!==c.indexOf(e.toString())});void 0===o&&0!==n.length&&(o=n[0]),r(o),t.type.startsWith(\"Widgets\")&&(f=f.concat.apply(f,n.map(function(e){return e!=o&&i[e].tracks?i[e].tracks:[]})))}}function r(t){var n,i,r=e.Variant;if(r.hasOwnProperty(t)){i=r[t];for(n in i)i.hasOwnProperty(n)&&-1===m.indexOf(n)&&(p[i.targetType+\".\"+i.target+\".\"+n]=i[n])}}function o(e){var t;for(var n in e)if(e.hasOwnProperty(n)&&(t=e[n],\"Widgets.Video\"===t.type))return t}function a(e){var t=d.companion,n=e.PageGroup[t],i=e.Page,r=e.Widget;n.pages=n.pages.filter(function(e){return i[e].widgets[0]});var o=n.pages.map(function(e){return i[e]});o.forEach(function(e){var t=r[e.widgets[0]];t&&(t.width=e.width,t.height=e.height)})}function s(e){var t=320,n=e.sourceWidth,i=e.sourceHeight,r={};return n>=i?(r.width=t,r.height=t*i/n):(r.width=t*n/i,r.height=t),r}function u(e){var t=e.Widget,n=o(t);if(n){var i=n.video,r=s(i),u=d.creative,c=e.PageGroup[u];n.width=c.width=r.width,n.height=c.height=r.height,n.top=0,n.left=0,n.autoPlay=!0,a(e)}}var c=\"string\"===MS.type(t)?t.split(\".\"):[];if(e.hasOwnProperty(\"Widget\")&&e.hasOwnProperty(\"Creative\")){var d=e.Creative[1];if(e.hasOwnProperty(\"Variant\")){c.length>0&&MS.log.info(\"%c[DC]\",\"color: blue;\",\"detected\",c.length,\"variantIds:\",c);var l,h,p={},f=[],m=[\"id\",\"name\",\"type\",\"target\",\"targetType\"],v=e.Widget;for(l in v)v.hasOwnProperty(l)&&i(v[l]);i(d),n();for(l in p)p.hasOwnProperty(l)&&(h=p[l],MS.log.info(\"%c[DC]\",\"color: blue;\",\"setting\",l,\"to\",h),MS.deepKeySet(e,l,h))}if(\"native\"===d.format||\"vast\"===d.format){var g,y,w=e.Widget,M={Headline:{type:\"TextBox\",prop:\"text\"},Body:{type:\"TextBox\",prop:\"text\"},Cta:{type:\"TextBox\",prop:\"text\"},Price:{type:\"TextBox\",prop:\"text\"},IconImage:{type:\"Image\",prop:\"image\"},MainImage:{type:\"Image\",prop:\"image\"},VastImage:{type:\"Image\",prop:\"image\"},NativeVideo:{type:\"Video\",prop:\"video\"},VastVideo:{type:\"Video\",prop:\"video\"},StarRating:{type:\"TextBox\",prop:\"text\"}};d._cacheRealFormat=d.format,d.format=\"vast\"===d.format?d.format:\"interstitial\";for(y in w)w.hasOwnProperty(y)&&(g=w[y],g.type=\"Widgets.\"+M[g.type.split(\".\")[1]].type)}\"vast\"===d.format&&u(e)}},MS.processDynamicContent(e.MOBSPIRE_JSON||{},e.beat.params.cv)}(window),MS.ExceptionManager=MS.Object.create({raise:function(e,t){throw this.error(e,t),e},error:function(e,t){t?MS.log.error(t):MS.log.error(e.message),MS.log.error(e.stack)}}),MS.Constants={pWidth:window.document.body.offsetWidth,pHeight:window.document.body.offsetHeight,PLUGINS_TYPES:{UNKNOWN:1,PREVIEW:2,LANDING_PAGE:3,WEB_TAG:4,MRAID:5,ZYNGA_WEB:6}},function(){if(Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(\"function\"!=typeof e)throw new TypeError;for(var i=arguments.length>=2?arguments[1]:void 0,r=0;n>r;r++)r in t&&e.call(i,t[r],r,t)}),\"undefined\"==typeof HTMLElement&&!Element.prototype.addEventListener){var e=[],t=function(t,n){var i=this,r=function(e){e.target=e.srcElement,e.currentTarget=i,n.handleEvent?n.handleEvent(e):n.call(i,e)};if(\"DOMContentLoaded\"==t){var o=function(e){\"complete\"==document.readyState&&r(e)};if(document.attachEvent(\"onreadystatechange\",o),e.push({object:this,type:t,listener:n,wrapper:o}),\"complete\"==document.readyState){var a=new Event;a.srcElement=window,o(a)}}else this.attachEvent(\"on\"+t,r),e.push({object:this,type:t,listener:n,wrapper:r})},n=function(t,n){for(var i=0;i<e.length;){var r=e[i];if(r.object==this&&r.type==t&&r.listener==n){\"DOMContentLoaded\"==t?this.detachEvent(\"onreadystatechange\",r.wrapper):this.detachEvent(\"on\"+t,r.wrapper);break}++i}};Element.prototype.addEventListener=t,Element.prototype.removeEventListener=n,window.ActiveXObject&&(ActiveXObject.prototype.addEventListener=t,ActiveXObject.prototype.removeEventListener=n),HTMLDocument&&(HTMLDocument.prototype.addEventListener=t,HTMLDocument.prototype.removeEventListener=n),Window&&(Window.prototype.addEventListener=t,Window.prototype.removeEventListener=n)}\"number\"==typeof window.innerWidth||(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(window.innerWidth=document.documentElement.clientWidth,window.innerHeight=document.documentElement.clientHeight,window.addEventListener(\"resize\",function(){window.innerWidth=document.documentElement.clientWidth,window.innerHeight=document.documentElement.clientHeight})):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(window.innerWidth=document.body.clientWidth,window.innerHeight=document.body.clientHeight,window.addEventListener(\"resize\",function(){window.innerWidth=document.body.clientWidth,window.innerHeight=document.body.clientHeight})))}(),function(){window.getDevicePixelRatio=function(){var e=1;return void 0!==window.devicePixelRatio?e=window.devicePixelRatio:void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI&&(e=window.screen.systemXDPI/window.screen.logicalXDPI),e}}(),\"undefined\"==typeof JSON){var JSON={};!function(){\"use strict\";function f(e){return 10>e?\"0\"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'\"'+e.replace(escapable,function(e){var t=meta[e];return\"string\"==typeof t?t:\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4)})+'\"':'\"'+e+'\"'}function str(e,t){var n,i,r,o,a,s=gap,u=t[e];switch(u&&\"object\"==typeof u&&\"function\"==typeof u.toJSON&&(u=u.toJSON(e)),\"function\"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case\"string\":return quote(u);case\"number\":return isFinite(u)?String(u):\"null\";case\"boolean\":case\"null\":return String(u);case\"object\":if(!u)return\"null\";if(gap+=indent,a=[],\"[object Array]\"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;o>n;n+=1)a[n]=str(n,u)||\"null\";return r=0===a.length?\"[]\":gap?\"[\\n\"+gap+a.join(\",\\n\"+gap)+\"\\n\"+s+\"]\":\"[\"+a.join(\",\")+\"]\",gap=s,r}if(rep&&\"object\"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)\"string\"==typeof rep[n]&&(i=rep[n],r=str(i,u),r&&a.push(quote(i)+(gap?\": \":\":\")+r));else for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(r=str(i,u),r&&a.push(quote(i)+(gap?\": \":\":\")+r));return r=0===a.length?\"{}\":gap?\"{\\n\"+gap+a.join(\",\\n\"+gap)+\"\\n\"+s+\"}\":\"{\"+a.join(\",\")+\"}\",gap=s,r}}\"function\"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+\"-\"+f(this.getUTCMonth()+1)+\"-\"+f(this.getUTCDate())+\"T\"+f(this.getUTCHours())+\":\"+f(this.getUTCMinutes())+\":\"+f(this.getUTCSeconds())+\"Z\":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,escapable=/[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,gap,indent,meta={\"\\b\":\"\\\\b\",\"    \":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},rep;\"function\"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap=\"\",indent=\"\",\"number\"==typeof n)for(i=0;n>i;i+=1)indent+=\" \";else\"string\"==typeof n&&(indent=n);if(rep=t,t&&\"function\"!=typeof t&&(\"object\"!=typeof t||\"number\"!=typeof t.length))throw new Error(\"JSON.stringify\");return str(\"\",{\"\":e})}),\"function\"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&\"object\"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\\],:{}\\s]*$/.test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,\"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g,\"\")))return j=eval(\"(\"+text+\")\"),\"function\"==typeof reviver?walk({\"\":j},\"\"):j;throw new SyntaxError(\"JSON.parse\")})}()}!function(){var e=MS.Browser=this.bowser;MS.Device=function(){var t={},n=t.osVersion=parseFloat(e.osversion||e.version);return t.geolocation=window.navigator.geolocation,t.userAgent=function(){return window.navigator.userAgent}(),t.locationProtocol=function(){return window.location.protocol}(),t.iPod=e.ipod,t.iPhone=e.iphone,t.iPad=e.ipad,t.android=e.android,t.androidChrome=t.android&&e.chrome&&parseInt(e.version)>18,t.isMobile=t.iPhone||t.android||t.iPod,t.isTablet=t.iPad,t.isIOS=t.iPhone||t.iPad||t.iPod,t.isIOS8=t.isIOS&&8===parseInt(n),t.isIOSLower8=t.isIOS&&8>n,t.isAndroid=t.android,t.isAndroid2_3=t.isAndroid&&4>n,t.isAndroid4_4=t.isAndroid&&4.4===n,t.isDevice=t.isMobile||t.isTablet,t.isWebkit=e.webkit,t.isSafari=t.isIOS&&/Safari/i.test(t.userAgent),t.isChrome=t.chrome,t.isFirefox=e.firefox,t.isMSIE=e.msie,t.isOpera=e.opera,t.vendor={prefixName:\"\",prefixValue:\"\"},t.isOpera?(t.vendor.prefixName=\"O\",t.vendor.prefixValue=\"-o-\"):t.isMSIE?(t.vendor.prefixName=\"ms\",t.vendor.prefixValue=\"-ms-\"):t.isFirefox?(t.vendor.prefixName=\"Moz\",t.vendor.prefixValue=\"-moz-\"):t.isWebkit&&(t.vendor.prefixName=\"webkit\",t.vendor.prefixValue=\"-webkit-\"),t.touchable=null,t.canTouch=function(){return null!==t.touchable?t.touchable:(t.touchable=\"ontouchstart\"in window||\"onmsgesturechange\"in window&&/Windows Phone/i.test(t.userAgent),t.touchable)},t.canTouch(),t}()}(),function(){MS.Support={css:function(e){var t=document.body||document.documentElement,n=t.style;if(\"string\"==typeof n[e])return!0;var i=[\"Moz\",\"Webkit\",\"Khtml\",\"O\",\"ms\"];e=e.charAt(0).toUpperCase()+e.substr(1);for(var r=0;r<i.length;r++)if(\"string\"==typeof n[i[r]+e])return!0;return!1},touch:\"ontouchend\"in document,motion:!!window.DeviceMotionEvent,orientation:MS.Device.isIOS&&!!window.DeviceOrientationEvent,cssTransform3D:function(){try{for(var e=document.createElement(\"div\"),t=!1,n=[\"perspective\",MS.Device.vendor.prefixName+\"Perspective\"],i=n.length-1;i>=0;i--)t=t?t:void 0!=e.style[n[i]];if(t&&MS.Browser.webkit){var r=document.createElement(\"style\");r.textContent=\"@media (-webkit-transform-3d){#test3d{height:3px}}\",document.getElementsByTagName(\"head\")[0].appendChild(r),e.id=\"test3d\",document.body.appendChild(e),t=3===e.offsetHeight,r.parentNode.removeChild(r),e.parentNode.removeChild(e)}return t}catch(e){}return!1}(),preserve3D:function(){try{var e=document.createElement(\"p\"),t=document.getElementsByTagName(\"BODY\")[0],n={webkitTransformStyle:\"-webkit-transform-style\",MozTransformStyle:\"-moz-transform-style\",msTransformStyle:\"-ms-transform-style\",transformStyle:\"transform-style\"};t.insertBefore(e,null);for(var i in n)n.hasOwnProperty(i)&&void 0!==e.style[i]&&(e.style[i]=\"preserve-3d\");var r=window.getComputedStyle(e,null),o=r.getPropertyValue(\"-webkit-transform-style\")||r.getPropertyValue(\"-moz-transform-style\")||r.getPropertyValue(\"-ms-transform-style\")||r.getPropertyValue(\"transform-style\"),a=\"preserve-3d\"===o;return document.body.removeChild(e),a}catch(e){}return!1}(),HTML5:{video:{canPlay:function(){return!!document.createElement(\"video\").play}(),mp4:function(){return!!document.createElement(\"video\").canPlayType&&!!document.createElement(\"video\").canPlayType(\"video/mp4\")}(),ogg:function(){return!!document.createElement(\"video\").canPlayType&&!!document.createElement(\"video\").canPlayType(\"video/ogg\")}(),webm:function(){return!!document.createElement(\"video\").canPlayType&&!!document.createElement(\"video\").canPlayType(\"video/webm\")}()},audio:{canPlay:function(){return!!document.createElement(\"audio\").play}(),mp3:function(){return!!document.createElement(\"audio\").canPlayType&&!!document.createElement(\"audio\").canPlayType(\"audio/mpeg\")}(),m4a:function(){return!!document.createElement(\"audio\").canPlayType&&!!document.createElement(\"audio\").canPlayType(\"audio/mp4\")}(),ogg:function(){return!!document.createElement(\"audio\").canPlayType&&!!document.createElement(\"audio\").canPlayType(\"audio/ogg\")}(),webma:function(){return!!document.createElement(\"audio\").canPlayType&&!!document.createElement(\"audio\").canPlayType(\"audio/webm\")}(),wav:function(){return!!document.createElement(\"audio\").canPlayType&&!!document.createElement(\"audio\").canPlayType(\"audio/wav\")}()},geoLocation:function(){return\"geolocation\"in navigator}(),localStorage:function(){try{return\"localStorage\"in window&&null!==window.localStorage}catch(e){return!1}}(),canvas:function(){return!!document.createElement(\"canvas\").getContext}(),isTopWindowAccessible:function(e){for(var t,n=!1,i=e;;){if(i===i.top){n=!0;break}t=i,i=i.parent;try{if(\"undefined\"==typeof i.document)break}catch(e){break}}return n}(window)},animation:function(){var e=document.body||document.documentElement,t=e.style,n=MS.Device.vendor.prefixName;return n=n.charAt(0).toUpperCase()+n.slice(1),void 0!==t.animation||void 0!==t[n+\"Animation\"]},autoPlay:!0,autoPlayCallBacksQueue:[],autoPlayFallBacksQueue:[],canAutoPlay:function(e,t){function n(){a.removeEventListener(\"loadedmetadata\",i,!1),a.removeEventListener(\"error\",r,!1),a.parentNode&&a.removeFromParent()}function i(){o.autoPlay=!0,o.runAutoPlayQueue(),n()}function r(){o.autoPlay=!1,o.runAutoPlayQueue(),n()}if(!MS.Device.isDevice)return this.autoPlay=!0,void(e&&e());if(this.autoPlay===!0)return void(e&&e());if(this.autoPlay===!1)return void(t&&t());if(window.AFMA_AddEventListener||window.AFMA_RemoveEventListener||window.AFMA_AddObserver||window.AFMA_RemoveObserver||window.AFMA_ReceiveMessage||window.AFMA_SendMessage||window.AFMA_Communicator)return this.autoPlay=!1,void(t&&t());\"function\"==typeof e&&this.autoPlayCallBacksQueue.push(e),\"function\"==typeof t&&this.autoPlayFallBacksQueue.push(t);var o=this,a=MS.$(\"autoplay-test-audio\");try{setTimeout(function(){o.autoPlay!==!0&&r()},3e3);var s=\"https://spire.aarki.net/builds/spear/common/audio/mp3_test.mp3\";if(!a){if(a=document.createElement(\"audio\"),a.setAttribute(\"id\",\"autoplay-test-audio\"),a.setAttribute(\"autoplay\",\"true\"),!a.canPlayType||!a.canPlayType(\"audio/mpeg\"))return void r();document.body.appendChild(a),a.src=s,a.load(),a.play()}a.addEventListener(\"loadedmetadata\",i,!1),a.addEventListener(\"error\",r,!1)}catch(e){o.autoPlay=!1,t&&t(),a&&n()}},runAutoPlayQueue:function(){for(var e,t=this.autoPlay?this.autoPlayCallBacksQueue:this.autoPlayFallBacksQueue;e=t.shift();)e()},clearAutoPlayQueue:function(){this.autoPlayCallBacksQueue=this.autoPlayFallBacksQueue=[]}},MS.Support.canAutoPlay()}(),function(e,t){function n(){if(this.hasDeviceMotion=\"ondevicemotion\"in e,this.hasDeviceOrientation=\"ondeviceorientation\"in e,this.hasMotion=this.hasDeviceMotion||this.hasDeviceOrientation,this.event=this.hasMotion?\"devicemotion\":\"deviceorientation\",this.threshold=this.hasDeviceMotion?15:67.5,this.duration=1e3,this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,\"function\"==typeof CustomEvent)this.shakeEvent=new CustomEvent(\"ms:deviceshake\",{bubbles:!0,cancelable:!0});else{if(\"function\"!=typeof t.createEvent)return!1;this.shakeEvent=t.createEvent(\"Event\"),this.shakeEvent.initEvent(\"ms:deviceshake\",!0,!0)}}n.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},n.prototype.start=function(){this.reset(),this.hasMotion&&e.addEventListener(this.event,this,!1)},n.prototype.stop=function(){this.hasMotion&&e.removeEventListener(this.event,this,!1),this.reset()},n.prototype.devicemotion=e.ondeviceorientation=function(t){var n,r,o=this==e?i:this,a=this.hasDeviceMotion?t.accelerationIncludingGravity:t;if(null===o.lastX&&null===o.lastY&&null===o.lastZ)return o.lastX=o.hasDeviceMotion?a.x:a.alpha,o.lastY=o.hasDeviceMotion?a.y:a.beta,void(o.lastZ=o.hasDeviceMotion?a.z:a.gamma);var s=o.hasDeviceMotion?a.x:a.alpha,u=o.hasDeviceMotion?a.y:a.beta,c=o.hasDeviceMotion?a.z:a.gamma,d=Math.abs(o.lastX-s),l=Math.abs(o.lastY-u),h=Math.abs(o.lastZ-c);(d>o.threshold&&l>o.threshold||d>o.threshold&&h>o.threshold||l>o.threshold&&h>o.threshold)&&(n=new Date,r=n.getTime()-o.lastTime.getTime(),r>o.duration&&(e.dispatchEvent(o.shakeEvent),o.lastTime=new Date))},n.prototype.handleEvent=function(e){return\"function\"==typeof this[e.type]?this[e.type](e):void 0};var i=new n;i.start(),MS._shaker=i}(window,document),MS._Benchmark=MS.Object.extend({track:!1,name:null,startTime:null,endTime:null,now:function(){return(new Date).getTime()},init:function(){this.startTime=this.now()},end:function(){var e=parseInt(this.now()-this.startTime);MS.log.info(\"%c[Benchmark]\",\"color: blue;\",this.name,e+\" ms\"),this.track&&beat.latency(this.name,e)}}),window._now&&(MS._Benchmark.prototype.now=window._now),MS.Benchmark=MS.Object.create({begin:function(e,t){return MS._Benchmark.create({name:e,track:t})}}),MS.PluginHelper=MS.Object.create({init:function(){var e=this.hideAddressBar.bind(this);window.addEventListener(\"load\",e,!1),window.addEventListener(\"orientationchange\",e,!1);var t=this.refreshLayouts.bind(this);window.addEventListener(\"resize\",t,!1),window.addEventListener(\"orientationchange\",t,!1)},refreshLayouts:function(){var e=[\"Widgets.Slot\",\"Widgets.Video\",\"Widgets.Gallery\",\"Widgets.Coverflow\",\"Widgets.Carousel\",\"Widgets.Image\"];\"object\"===MS.type(MS.PageManager)&&MS.PageManager.centerGroup(),MS.ComponentRegistry.lookupByType(\"Widget\").forEach(function(t){t.computedLayout.purge(),\"object\"===MS.type(t.json)&&(t.json.centerVertical&&\"string\"==typeof t.json.height||t.json.centerHorizontal&&\"string\"==typeof t.json.width||\"number\"==typeof t.json.aspectRatio||-1!==e.indexOf(t.json.type))&&t.updateLayout(t.resolveLayout(t.json))})},hideAddressBar:function(){setTimeout(function(){var e=new Date,t=setInterval(function(){window.scrollTo(0,1);var n=new Date;(1===window.scrollY||n-e>1e3)&&clearInterval(t)},10)},0)}}),MS.Formatters={DATE_FORMATS:{DEFAULT:\"ddd mmm dd yyyy HH:MM:ss\",SHORT_DATE:\"m/d/yy\",MEDIUM_DATE:\"mmm d, yyyy\",LONG_DATE:\"mmmm d, yyyy\",FULL_DATE:\"dddd, mmmm d, yyyy\",SHORT_TIME:\"h:MM TT\",MEDIUM_TIME:\"h:MM:ss TT\",LONG_TIME:\"h:MM:ss TT Z\",ISO_DATE:\"yyyy-mm-dd\",ISO_TIME:\"HH:MM:ss\",ISO_DATE_TIME:\"yyyy-mm-dd'T'HH:MM:ss\",ISO_UTC_DATE_TIME:\"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\",ICS_FILE_DATE:\"yyyymmdd'T'HHMMss\",W3C_CALENDAR:\"yyyy-mm-dd'T'HH:MMO\",HUMANISED:\"mmm dd yyyy HH:MM\",HUMANISED_DATE:\"dd mmm yyyy\",HUMANISED_TIME:\"hh:MM TT\"},phoneNumber:function(e){if(!e)return e;for(var t=\"\",n=0;n<e.length;++n)e[n]>=\"0\"&&e[n]<=\"9\"&&(t+=e[n]);return\"+\"+t},url:function(e){return e?e.includes(\"://\")?e:\"http://\"+e:e},date:function(e,t,n){if(\"undefined\"==typeof e?e=new Date:e instanceof Date||(e=new Date(e)),isNaN(e.getTime()))return!1;var i=t?\"getUTC\":\"get\",r=e[i+\"Date\"](),o=e[i+\"Day\"](),a=e[i+\"FullYear\"](),s=e[i+\"Hours\"](),u=e[i+\"Milliseconds\"](),c=e[i+\"Minutes\"](),d=e[i+\"Month\"](),l=e[i+\"Seconds\"](),h=e.getTime(),p=t?0:e.getTimezoneOffset();if(\"string\"!=typeof n||null==n||\"\"===n)return{date:r,day:o,fullYear:a,hours:s,milliseconds:u,minutes:c,month:d,seconds:l,time:h,timezoneOffset:p};var f=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloOSZ]|\"[^\"]*\"|'[^']*'/g,m=/\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g,v=/[^-+\\dA-Z]/g,g={dayNames:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\",\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],monthNames:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]\n},y=function(e,t){for(e+=\"\",t=t||2;e.length<t;)e=\"0\"+e;return e};return function(){var e={d:r,dd:y(r),ddd:g.dayNames[o],dddd:g.dayNames[o+7],m:d+1,mm:y(d+1),mmm:g.monthNames[d],mmmm:g.monthNames[d+12],yy:(a+\"\").slice(2),yyyy:a,h:s%12||12,hh:y(s%12||12),H:s,HH:y(s),M:c,MM:y(c),s:l,ss:y(l),l:y(u,3),L:y(u>99?Math.round(u/10):u),t:12>s?\"a\":\"p\",tt:12>s?\"am\":\"pm\",T:12>s?\"A\":\"P\",TT:12>s?\"AM\":\"PM\",Z:t?\"UTC\":((r+\"\").match(m)||[\"\"]).pop().replace(v,\"\"),o:(p>0?\"-\":\"+\")+y(100*Math.floor(Math.abs(p)/60)+Math.abs(p)%60,4),O:(p>0?\"-\":\"+\")+y(Math.floor(Math.abs(p)/60),2)+\":\"+y(Math.abs(p)%60,2),S:[\"th\",\"st\",\"nd\",\"rd\"][r%10>3?0:(r%100-r%10!=10)*r%10]};return n.replace(f,function(t){return t in e?e[t]:t.slice(1,t.length-1)})}()}},MS.Plugin=MS.Object.create({type:function(){var e=MS.Constants.PLUGINS_TYPES;if(\"object\"===MS.type(window.MAPI_CONFIG))switch(window.MAPI_CONFIG.plugin){case\"aarki_inapp.js\":case\"aarki_mraid.js\":case\"mraid.js\":return e.MRAID;case\"web_preview\":return e.PREVIEW;case\"ad.html\":return e.LANDING_PAGE;case\"ad.js\":return e.WEB_TAG;case\"zynga.js\":return e.ZYNGA_WEB}return e.UNKNOWN}(),_macros:{\"{timestamp}\":function(){return(new Date).getTime()},\"[timestamp]\":function(){return(new Date).getTime()},\"[RANDOM]\":function(){return(Math.random()+\"\").replace(\".\",\"\")},\"[UNIQUE]\":function(){return beat.params.imp?window.Base64.url_safe_encode(beat.params.imp):(Math.random()+\"\").replace(\".\",\"\")}},_produceURL:function(e){if(!e)return e;var t=e,n=this._macros;for(var i in n)n.hasOwnProperty(i)&&(t=t.replace(new RegExp(i.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\"),\"gi\"),n[i]));return t=window.beat.replaceURLMacros(t,\"\\\\{arg_(\\\\w+)\\\\}\")},gotoUrl:function(e,t,n){var i=document;if(MS.Browser.ios&&parseFloat(MS.Browser.osversion)>=8||n)try{void 0!==window.top.document&&(i=top.document)}catch(e){MS.ExceptionManager.error(e)}t=!!t;var r=MS.$$(\"a\"),o=this._produceURL(e);r.setAttribute(\"href\",o),t||r.setAttribute(\"target\",\"_blank\"),i.body.appendChild(r);var a=i.createEvent(\"MouseEvents\");a.initEvent(\"click\",!0,!0),r.dispatchEvent(a),i.body.removeChild(r)},download:function(e,t,n){var i=document,r=MS.$$(\"a\"),o=\"download\"in r;if(o){try{void 0!==window.top.document&&(i=top.document)}catch(e){MS.ExceptionManager.error(e)}r.href=t,r.download=e,i.body.appendChild(r);var a=i.createEvent(\"MouseEvents\");a.initEvent(\"click\",!0,!0),r.dispatchEvent(a),i.body.removeChild(r)}else{var s=beat._richUrl(\"/custom/download.json\",{fileName:e,url:t});MS.Plugin.gotoUrl(s,!0,!0)}\"function\"==typeof n&&n(o)},fbShare:function(e){var t=\"https://\"+(MS.Device.isDevice?\"m\":\"www\")+\".facebook.com/dialog/feed?app_id=\"+e.fbAppId+\"&link=\"+encodeURIComponent(e.url)+\"&redirect_uri=\"+encodeURIComponent(e.redirect)+\"&picture=\"+encodeURIComponent(e.picture)+\"&name=\"+encodeURIComponent(e.name)+\"&caption=\"+encodeURIComponent(e.caption)+\"&description=\"+encodeURIComponent(e.info);return this.gotoUrl(t)},twShare:function(e){var t=\"http://www.twitter.com/share?text=\"+encodeURIComponent(e.text)+(e.url?\"&url=\"+encodeURIComponent(e.url):\"\");return this.gotoUrl(t)},loadedScriptsMap:{},scriptLoader:function(e,t,n){if(\"string\"!=typeof e||\"\"===e)return null;var i=this,r=MS.$$(\"script\");return null!=i.loadedScriptsMap[e]?(\"function\"==typeof t&&t(),i.loadedScriptsMap[e]):(r.type=\"text/javascript\",r.src=e,r.async=!0,r.addEventListener(\"load\",function(n){i.loadedScriptsMap[e]=r,\"function\"==typeof t&&t(n)},!1),r.addEventListener(\"error\",function(e){\"function\"==typeof n&&n(e)},!1),document.body.appendChild(r),r)},loadedFontsMap:{},pendingFontsMap:{},isFontLoaded:function(e){var t=e.family+\"_\"+e.variation;return t in this.loadedFontsMap||t in this.pendingFontsMap},loadFont:function(e,t){if(!e||this.isFontLoaded(e))return void(t&&t());var n=this,i=e.family+\"_\"+e.variation,r=\"https://fonts.googleapis.com/css?family=\";this.pendingFontsMap[i]=!0,beat.get(r+e.family+\":\"+e.variation,function(e){n.addStyleToHeader(e),n.loadedFontsMap[i]=!0,delete n.pendingFontsMap[i],t&&t()},function(){MS.log.error('Unable to load \"'+e.family+'\" font with the \"'+e.variation+'\" variation'),delete n.pendingFontsMap[i],t&&t()},!1)},addStyleToHeader:function(e){var t=document.head||document.getElementsByTagName(\"head\")[0],n=document.createElement(\"style\");n.type=\"text/css\",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},loadFontsInBulk:function(e,t){for(var n=this,i=[],r={},o=\"\",a=\"https://fonts.googleapis.com/css?family=\",s=0;s<e.length;++s)r=e[s],r.family&&!this.isFontLoaded(r)&&(a+=r.family+\":\"+r.variation+\"|\",i.push(r),o=r.family+\"_\"+r.variation,this.pendingFontsMap[o]=!0);i.length?beat.get(a,function(e){n.addStyleToHeader(e);for(var a=0;a<i.length;++a)r=i[a],o=r.family+\"_\"+r.variation,n.loadedFontsMap[o]=!0,delete n.pendingFontsMap[o];t&&t()},function(){for(var e=0;e<i.length;++e)o=i[e].family+\"_\"+i[e].variation,delete n.pendingFontsMap[o];MS.log.error(\"Unable to load fonts from url: \"+a),t&&t()},!1):t()},loadFontFromContent:function(e,t){var n,i,r={},o=[];if(e)if(n=e.match(/data-font=\"[^\"]*\"/g)||[],i=n.length){for(var a=0;i>a;++a)r=JSON.parse(n[a].replace('data-font=\"',\"\").slice(0,-1).replace(/&quot;/g,'\"')),r.family&&o.push(r);o.length?this.loadFontsInBulk(o,t):t()}else t();else t()}}),MS.Clipboard=MS.Object.create({}),MS.CustomDependency={},MS.PageManagerObject=MS.Object.extend({spire:null,creative:null,currentGroup:null,currentPage:null,staticGroup:null,bannerGroup:null,creativeGroup:null,companionGroup:null,interstitialMode:!1,bannerMode:!1,expandableMode:!1,fallbackMode:!1,vastMode:!1,isExpanded:!1,isRotated:!1,init:function(){var e=this,t=e.spire,n=e.creative=t.creative;switch(e.staticGroup=n.staticGroup,e.bannerGroup=n.bannerGroup,e.creativeGroup=n.creativeGroup,e.companionGroup=n.companionGroup,n.format){case\"banner\":e.bannerMode=!0;break;case\"expandable\":e.expandableMode=!0;break;case\"interstitial\":e.interstitialMode=!0;break;case\"fallback\":e.fallbackMode=!0;break;case\"vast\":e.vastMode=!0}t.smartPreload&&e.creative.preload()},setup:function(e){function t(){\"function\"==typeof e&&e()}var n=this,i=n.bannerGroup,r=n.creativeGroup,o=n.staticGroup,a=n.companionGroup;n.bannerMode?(n._renderGroup(i),n.currentGroup=i,n.loadGroup(i,t)):n.interstitialMode?(n._renderGroup(r),n.creative.showInterstitialOverlay(),n.currentGroup=r,n.loadGroup(r,function(){MS.PluginHelper.hideAddressBar(),t()})):n.expandableMode?(n._renderGroup(i),n._renderGroup(r),n.currentGroup=i,n.loadGroup(i,t)):n.vastMode?(n._renderGroup(r),n._renderGroup(a),n.currentGroup=r,n.loadGroup(r,t)):(n._renderGroup(o),n.currentGroup=o,n.loadGroup(o,function(){MS.PluginHelper.hideAddressBar(),t()}))},_renderGroup:function(e){var t=this;t.spire.dom.appendChild(e.render()),e.hide(),e.createOverlay()},loadGroup:function(e,t){var n=this,i=n.spire,r=i.dom,o=e.width(),a=e.height();i.creative.isResponsive||(n.resizeCreativeViewFromGroup(e),i.creative.centerOnPage(o,a)),r.addClass(\"loaded\"),e.show(),e.hideOverlay(),e.load(function(){\"function\"==typeof t&&t()});var s=e.jsonAttr(\"overlayColor\"),u=e.jsonAttr(\"overlayImage\");u=u?u.url:null,MS.Stage.updateStyles(s,u),MS.Stage.updateDimensions()},resizeCreativeViewFromGroup:function(e){var t=this.spire.dom;t.css(\"width\",e.width()+\"px\"),t.css(\"height\",e.height()+\"px\")},centerGroup:function(){var e=this.currentGroup;e&&!this.spire.creative.isResponsive&&this.spire.creative.centerOnPage(e.width(),e.height())},unloadGroup:function(e,t){e.showOverlay(),e.unload(function(){\"function\"==typeof t&&t()})},expandToGroup:function(e,t){function n(){e.collapsible(),i.set(\"currentGroup\",e),i.loadGroup(e,t)}var i=this,r=this.currentGroup;return this.unloadGroup(r,function(){i.creative.expand(function(){i.hideGroupAfterUnload(r),n()})}),e},collapseToGroup:function(e,t){function n(){i.set(\"currentGroup\",e),i.loadGroup(e,t)}var i=this,r=this.currentGroup;return this.unloadGroup(r,function(){i.creative.collapse(function(){i.hideGroupAfterUnload(r),n()})}),e},hideGroupAfterUnload:function(e){e.hide()},switchPage:function(e,t){(\"number\"==typeof e||\"string\"==typeof e)&&(e=MS.ComponentRegistry.get(\"Page\",e)),this.currentGroup.switchPage(e,t)},openCreative:function(){var e;return this.expandableMode&&(e=this.spire.option(\"clickTag\"),beat.trackExpansion(e)),this.expandableMode&&!this.isExpanded?this._openCreative()?(this.isExpanded=!0,!0):!1:void 0},closeCreative:function(){if(this.expandableMode){if(!this.isExpanded)return}else if(!this.interstitialMode)return;return MS.OrientationView.hide(),this._closeCreative()?(this.isExpanded=!1,!0):!1},_openCreative:function(){return setTimeout(function(){window.scrollTo(0,1)},100),this.expandToGroup(this.creativeGroup,function(){MS.PageManager.currentGroup.repositionCloseButton(),MS.PluginHelper.hideAddressBar()}),!0},_closeCreative:function(){return this.collapseToGroup(this.bannerGroup),!0}}),MS.PageManager=null,MS.ActionScheduler=MS.Object.create({init:function(){},scheduleActions:function(e,t){if(!e||e.length<=0)return void(t&&t());var n=e.length,i=0,r=this,o=function(){if(i>=n)return void(t&&t());var a=e[i++];r._schedule(a,function(){o()})};o()},_schedule:function(e,t){if(!e.isActive)return void t();e.fireEvent(\"action:started\"),e.start();var n=function(){e.end(),e.fireEvent(\"action:finished\"),t()};e.shouldSkip?(e.run(function(){}),n()):e.run(n)}}),MS.ComponentRegistry=MS.Object.create({_objectMap:{},_nameMap:{},_callbackMap:{},_sharedMap:{},init:function(){},register:function(e,t){var n=e.type,i=e.componentId;if(void 0===n||null==n)throw new Error(\"object.type does not exist\");if(!t&&(void 0===i||null==i))throw new Error(\"object.componentId does not exist\");t&&(e.componentId=Math.random());var r=n+\":\"+i;this._objectMap[r]=e,void 0===this._nameMap[n]&&(this._nameMap[n]={}),e.json&&(this._nameMap[n][e.json.name]=e),this._notifyCallbacks(r)},lookupByTypeAndName:function(e,t){return(this._nameMap[e]||{})[t]},get:function(e,t,n){var i=e+\":\"+t,r=this._objectMap[i];return void 0!==r&&null!=r?void n(r):void this._addCallback(i,n)},lookup:function(e,t){var n=e+\":\"+t,i=this._objectMap[n];return void 0!==i&&null!=i?i:null},lookupByType:function(e){var t,n=this,i=[];for(t in n._objectMap)n._objectMap.hasOwnProperty(t)&&-1!==t.indexOf(e)&&i.push(n._objectMap[t]);return i},_notifyCallbacks:function(e){var t=this._callbackMap[e];if(void 0!==t&&null!=t){var n=this._objectMap[e];t.forEach(function(e){e(n)})}},_addCallback:function(e,t){var n=this._callbackMap[e];(void 0===n||null==n)&&(n=this._callbackMap[e]=[]),n.push(t)},share:function(e,t){this._sharedMap[e]=t},getShared:function(e){return this._sharedMap[e]}}),MS.Builder=MS.Object.create({fromJson:function(e,t){return MS.JSONBuilder.build(e,t)}}),MS.JSONBuilder=MS.Object.create({init:function(){},build:function(e,t){if((\"string\"==typeof e||\"number\"==typeof e)&&void 0!==t){var n=e;e=MS.StudioAdapter.get(t,n)}var i=e.type,r=i.split(\".\"),o=null;return o=r.length>1?MS[r[0]][r[1]]:MS[r[0]],o||MS.log.error(\"could not find type\",\"MS.\"+i),o.create({json:e})}}),MS.CreativeBuilder=MS.Object.extend({dom:null,json:null,creative:null,options:{bannerClickUrl:null,appStoreUrl:null,variables:{},clickTag:null,interactionTag:null,impressionTag:null,channel:null},smartPreload:!0,hideAddressBar:!0,autoRotate:!1,init:function(){this._validateDom(),this._checkFallback(),MS.ProgressBar.createLoader(this.dom),MS.RuntimeVariableManager.load(this.option(\"variables\")),MS.StudioAdapter.fill(this.json);var e=MS.StudioAdapter.getAll(\"Feed\");if(e)for(var t=this.feeds=[],n=0;n<e.length;n++)t.push(MS.Builder.fromJson(e[n]));var i=this.creative=MS.Builder.fromJson(1,\"Creative\");i.dom=this.dom,MS.PageManager=MS.PageManagerObject.create({spire:this})},option:function(e){return this.options?\"object\"!=typeof this.options?null:this.options[e]:null},_checkFallback:function(){var e=this,t=this.json.PageGroup;if(t&&t[0]&&window.SUPPORTED_BROWSERS){var n=null,i=window.SUPPORTED_BROWSERS,r=MS.Browser;r.android&&i.android?n=i.android:(r.iphone||r.ipad)&&i.ios?n=i.ios:r.firefox&&i.firefox?n=i.firefox:r.msie&&i.msie?n=i.msie:r.safari&&i.safari?n=i.safari:r.chrome&&i.chrome&&(n=i.chrome);var o=function(t,i){if(null===n){if(t)return!1;if(i)return e._checkDependencies()}return!(null===n||null==n.min||\"undefined\"==typeof n.min||a<n.min||n.not&&-1!=n.not.indexOf(a))},a=parseFloat(r.osversion||r.version);o(!1,!0)||e._goFallback()}},_checkDependencies:function(){for(var e,t,n=window.CREATIVE_DEPENDENCIES,i=n.length,r=!0,o=MS.CustomDependency,a=0;i>a&&(e=n[a],t=o[e],!t||\"function\"!=typeof t||(r=t(),r));++a){switch(e){case\"canvas\":r=MS.Support.HTML5.canvas;break;case\"audio\":r=MS.Support.HTML5.audio.canPlay;break;case\"video\":r=MS.Support.HTML5.video.canPlay;break;case\"transform\":r=MS.Support.css(\"transform\");break;case\"transition\":r=MS.Support.css(\"transition\")}if(!r)break}return r},_goFallback:function(){var e=this.json,t=e.PageGroup,n=e.Creative[1];for(var i in t)t.hasOwnProperty(i)&&0!=i&&delete t[i];n.originalFormat=n.format,n.format=\"fallback\"},_validateDom:function(){var e=this.dom;\"undefined\"==typeof e||null==e?(e=this.dom=MS.$(\"mobspire-advert\")||MS.$$(\"div\"),e.setAttribute(\"id\",\"mobspire-advert\")):\"string\"==typeof e?e=this.dom=MS.$(e):\"object\"!=typeof e&&MS.ExceptionManager.raise(new Error(\"creative dom could not be resolved: \"+e)),e&&\"y\"===beat.params.chn_ad&&e.addClass(\"china_watermark\");var t=this.loader;(\"undefined\"==typeof t||null==t)&&(t=this.loader=MS.$(\"spire-loader\")||MS.$$(\"div\"),t.setAttribute(\"id\",\"spire-loader\"))},render:function(){var e=this;e.dom.parentNode||document.body.appendChild(e.dom),MS.Stage.render(e.dom.parentNode),MS.PageManager.setup(function(){if(e.creative.render(),window.postMessage(\"spear:ready\",\"*\"),document.createEvent){var t=document.createEvent(\"Events\");t.initEvent(\"SpearReady\",!0,!0),window.dispatchEvent(t)}else document.documentElement.SpearReady++;beat.trackImpression(),MS.Stage.updateDimensions()})}}),MS.CreativeBuilder.build=function(e,t){try{if(null!=MS.Spire)return void MS.ExceptionManager.error(new Error(\"spire already exists\"));if((void 0===e||null==e||\"object\"!=typeof e)&&(e={}),void 0!==t&&\"object\"==typeof t){var n=e.options;(void 0===n||null==n||\"object\"!=typeof n)&&(n=e.options={}),MS.mixin(n,t)}var i=e.json.Creative[1];return MS.spearVersion=MS.parseVersion(i.spearVersion),MS.studioVersion=MS.parseVersion(i.studioVersion),MS.Spire=MS.CreativeBuilder.create(e),MS.PluginHelper.refreshLayouts(),MS.Spire}catch(e){MS.ExceptionManager.error(e,\"error while building MS.Spire\")}},MS._Stage=MS.Object.extend({wrapper:null,rotation:0,defaultBgColor:\"#D5D5D5\",render:function(){var e=this;e.wrapper=e.wrapper||document.body,e.updateDimensions(),e.updateStyles()},updateDimensions:function(){},updateStyles:function(e,t){var n=this;\"undefined\"==typeof e?e=n.defaultBgColor:null===e&&(e=\"transparent\"),n.wrapper.css(\"backgroundColor\",e),\"string\"==typeof t&&n.wrapper.css(\"backgroundImage\",'url(\"'+t+'\")')}}),MS.Stage=new MS._Stage({}),MS._MediaManager=MS.Object.extend({_mappedMedias:{},init:function(){var e,t,n=(window.MOBSPIRE_JSON||{}).Media;for(t in n)n.hasOwnProperty(t)&&(e=n[t],this._mappedMedias[e.sid]=e)},getMediaBySid:function(e){return this._mappedMedias[e]},loadImage:function(e,t,n){this._loadMedia(e,t,n,Image)},loadImages:function(e,t,n){for(var i=e.length,r=i,o=[],a=!1,s=function(){a||--i<=0&&t(o)},u=function(e){MS.ExceptionManager.error(new Error(\"Error loading image: \"+e.target.src)),a||(a=!0,\"function\"==typeof n&&n())};r;){var c=new Image;c.onload=s,c.onerror=u,c.src=e[e.length-r],o.push(c),r--}},loadAudio:function(e,t,n){t()},_loadMedia:function(e,t,n,i){if(null==e)return n(new Error(\"no url defined\"));var r=new i;return r.onload=function(){t(r)},r.onerror=function(){n(r)},r.src=e,e},videoUrl:function(e){return this.mediaUrl(e)},imageUrl:function(e){return this.mediaUrl(e)},audioUrl:function(e){return this.mediaUrl(e)},mediaUrl:function(e){return e},getRightUrlForSize:function(e,t,n){var i=t.width/t.height>n,r=i?\"width\":\"height\";e=e.map(function(e){var t=e.split(\"x\");return{width:parseInt(t[0]),height:parseInt(t[1]),joinedSize:e}});var o=e[0];return e.forEach(function(e){Math.abs(e[r]-t[r])<Math.abs(o[r]-t[r])&&(o=e)}),o}}),MS.MediaManager=MS._MediaManager.create({}),MS.StudioAdapterObject=MS.Object.extend({init:function(){},_json:null,_byName:null,fill:function(e){this._json=e},getJSON:function(){return this._json},get:function(e,t){var n=this._json[e];return void 0!==n&&n&&void 0!==n[t]||MS.ExceptionManager.error(new Error(e+\"[\"+t+\"] is not a valid type\")),n[t]},getAll:function(e){var t=this._json[e];if(void 0===t||!t)return null;var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(t[i]);return n},set:function(e,t,n){var i=this._json[e];return void 0!==i&&i||MS.ExceptionManager.error(new Error(e+\"[\"+t+\"] is not a valid type\")),void 0===i[t]?(i[t]=n,!0):!1}}),MS.StudioAdapter=new MS.StudioAdapterObject({}),MS.RuntimeVariableManagerObject=MS.Object.extend({_regex:\"%{MS:([a-zA-Z0-9_]+)}\",_variableMap:{},init:function(){this._regex=new RegExp(this._regex)},load:function(e){e||(e={}),this._variableMap=e},isVariable:function(e){return this._regex.test(e)},parse:function(e){if(void 0===e||!e)return e;if(\"string\"!=typeof e)return e;var t=e.match(this._regex);if(null==t||t.length<=0)return e;var n=t[1],i=this._variableMap[n];return void 0===i||null==i?e:i}}),MS.RuntimeVariableManager=MS.RuntimeVariableManagerObject.create({}),MS.View=MS.Object.extend({SWIPE_DISTANCE:5,id:null,dom:null,isRendered:!1,isRendering:!1,isElementReady:!1,cssClass:null,styles:{},shadows:{},layout:{},canInteract:!1,supportedStyleKeys:{backgroundColor:!0,borderStyle:!0,borderColor:!0,borderSize:!0,borderWidth:!0,borderRadius:!0,fontFamily:!0,fontSize:!0,letterSpacing:!0,fontStyle:!0,fontWeight:!0,textAlign:!0,lineHeight:!0,textDecoration:!0,textTransform:!0,color:!0},parent:null,children:[],_sharedProps:[],renderStart:function(e){},renderView:function(e){},renderDone:function(e){},updateView:function(){},clicked:function(){},swipeUp:function(){},swipeDown:function(){},swipeLeft:function(){},swipeRight:function(){},mouseMove:function(e,t){},mouseDrag:function(e,t){},mouseDown:function(e,t){},mouseUp:function(e,t){},mouseEnter:function(e,t){},mouseLeave:function(e,t){},render:function(){var e=this.json,t=this.element();if(this.isRendering||this.isRendered)return t;this.renderStart(t),this.isRendering=!0,this.renderLayout(t,this.layout),this.renderShadow(t),this.renderStyles(t),this._setupDOMListeners(t),this.renderView(t),t.className+=\" ms-view\",e&&e.type&&(t.className+=\" \"+e.type.toLowerCase().replace(\".\",\"-\"));var n=this;return this.renderChildren(t,function(){n.set(\"isRendered\",!0),n.renderDone(t)}),t},_share:function(){MS.ComponentRegistry.share(this.json.type,this)},_setSharedProps:function(){var e,t=this._sharedProps.length,n=MS.ComponentRegistry.getShared(this.json.type);if(t&&n){for(;t--;)e=this._sharedProps[t],this[e]=n[e];this.updateView()}},_modelIsShared:function(){return!!MS.ComponentRegistry.getShared(this.json.type)},element:function(){var e=this.dom;return null==e&&(e=this.dom=MS.$$(\"div\"),e.attr(\"id\",this.id)),e},renderChildren:function(e,t){function n(n){e.appendChild(n.dom),++o==r&&t()}var i=this.children,r=i.length;if(0===r)return t();var o=0;i.forEach(function(e){e._isElementReady===!0?n(e):e.addEventListener(\"elementReady\",null,n),e.render()})},renderLayout:function(e,t){e.css(\"position\",\"absolute\"),this.updateLayout(t)},renderShadow:function(e){var t,n=this.shadows,i={x:n.shadowPositionX||0,y:n.shadowPositionY||0,size:n.shadowSize||0,color:n.shadowColor||\"transparent\"};i.x+i.y+i.size!==0&&\"transparent\"!==i.color&&(t=i.x+\"px \"+i.y+\"px \"+i.size+\"px \"+i.size/4+\"px \"+i.color,e.css(\"boxShadow\",t))},renderStyles:function(e){this.cssClass&&e.attr(\"className\",this.cssClass);var t=this.styles;for(var n in t)t.hasOwnProperty(n)&&e.css(n,t[n])},appendChild:function(e,t){e.parent=this,this.children.push(e),this.isRendered&&void 0===t&&this.dom.appendChild(e.render())},elementReady:function(){var e=this.get(\"isRendered\"),t=!!this._isElementReady;t&&e?(this.set(\"isElementReady\",!0),this.fireEvent(\"elementReady\")):this.set(\"_isElementReady\",!0)}.observes(\"isRendered\"),css:function(e,t){var n=this.dom,i=this.layout,r=this.styles;return i.hasOwnProperty(e)&&(r=i),void 0!==t?(r[e]=t,n&&n.css(e,t),this):r[e]},attr:function(e,t){var n=this.dom;return void 0!==t?(n&&n.attr(e,t),this):n?n.attr(e):void 0},resolveLayout:function(e){var t={},n=t.top=e.top,i=t.left=e.left,r=e.right,o=e.bottom,a=t.width=e.width,s=t.height=e.height,u=null,c=null,d=e.aspectRatio;return(d&&\"number\"!=typeof a&&\"number\"!=typeof s||e.centerHorizontal&&\"number\"!=typeof a||e.centerVertical&&\"number\"!=typeof s)&&(t=this.getAbsoluteLayout(e)),d&&(a=t.width,s=t.height,null!==a?s=t.height=a/d:null!==s&&(a=t.width=s*d)),e.centerHorizontal&&(null!==i?r=i:null!==r?i=r:null!==a&&(i=\"50%\",c=-t.width/2)),e.centerVertical&&(null!==n?o=n:null!==o?n=o:null!==s&&(n=\"50%\",u=-t.height/2)),{top:n,left:i,right:r,bottom:o,width:a,height:s,marginTop:u,marginLeft:c,zIndex:e.zIndex,opacity:e.opacity,scale:e.scale,rotateZ:e.rotateZ,rotation:e.rotation,translateZ:e.translateZ,aspectRatio:d}},offsetParent:function(){return MS.View.Body},computedLayout:MS.memoize(\"computedLayout\",function(){var e,t,n=this.offsetParent();return n?(e=n.width(),t=n.height()):(e=0,t=0),this.getAbsoluteLayout(this.json,e,t)}),$getPercentToPixel:function(e,t,n,i){n.forEach(function(n){\"number\"==typeof e[n]?t[n]=e[n]:\"string\"==typeof e[n]?t[n]=parseInt(parseInt(e[n])/100*i):t[n]=null})},getAbsoluteLayout:function(e,t,n){var i=this.offsetParent();t=void 0===t?i.width():t,n=void 0===n?i.height():n;var r={};this.$getPercentToPixel(e,r,[\"left\",\"right\",\"width\"],t),this.$getPercentToPixel(e,r,[\"top\",\"bottom\",\"height\"],n);var o=r.top,a=r.left,s=r.right,u=r.bottom,c=r.width,d=r.height,l=e.centerVertical,h=e.centerHorizontal,p=e.aspectRatio,f={top:o,left:a,width:c,height:d};if(null!==o&&null!==d?(f.top=o,f.height=d):null!==o&&l===!0?(f.top=o,f.height=n-2*o):null!==o&&null!==u?(f.top=o,f.height=n-o-u):null!==d&&l===!0?(f.top=(n-d)/2,f.height=d):null!==d&&null!==u?(f.top=n-u-d,f.height=d):l===!0&&null!==u&&(f.top=u,f.height=n-2*u),null!==a&&null!==c?(f.left=a,f.width=c):null!==a&&h===!0?(f.left=a,f.width=t-2*a):null!==a&&null!==s?(f.left=a,f.width=t-a-s):null!==c&&h===!0?(f.left=(t-c)/2,f.width=c):null!==c&&null!==s?(f.left=t-s-c,f.width=c):h===!0&&null!==s&&(f.left=s,f.width=t-2*s),p){var m=2==[o,u,d,l].filter(function(e){return\"number\"==typeof e||e===!0}).length;m?(f.width=f.height*p,null!==s?f.left=t-s-f.width:h===!0&&(f.left=(t-f.width)/2),f.width=Math.round(f.width),f.left=Math.round(f.left)):(f.height=d=f.width/p,null!==u?f.top=n-u-d:l===!0&&(f.top=(n-f.height)/2),f.height=Math.round(f.height),f.top=Math.round(f.top))}return f},updateDimensions:function(e){this.css(\"width\",e.width),this.css(\"height\",e.height),this.css(\"marginTop\",e.marginTop),this.css(\"marginLeft\",e.marginLeft)},updateLayout:function(e){this.css(\"top\",e.top),this.css(\"left\",e.left),this.css(\"right\",e.right),this.css(\"bottom\",e.bottom),this.updateDimensions(e),this.css(\"zIndex\",e.zIndex),this.css(\"opacity\",e.opacity);var t=e.translateZ,n=e.rotation||e.rotateZ;t&&isFinite(t)&&this.addTransform(\"translateZ\",t+\"px\"),n&&isFinite(n)&&this.addTransform(\"rotate\",n+\"deg\")},_canInteractChanged:function(){for(var e=this.children,t=this.get(\"canInteract\"),n=0;n<e.length;++n)e[n].set(\"canInteract\",t)}.observes(\"canInteract\"),_isMouseEventOnTarget:function(e,t){return!(t.relatedTarget&&(t.relatedTarget===e||e.compareDocumentPosition(t.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY))},_addHoverEvent:function(e,t,n){var i=this,r=\"out\"===t?\"mouseleave\":\"mouseenter\",o=function(e){i._isMouseEventOnTarget(this,e)&&n.apply(i,e)};return e.addEventListener(r,o,!1),function(){e.removeEventListener(r,o)}},_setupDOMListeners:function(e){var t=this;MS.Device.canTouch()?(e.addEventListener(\"touchstart\",function(e){t._mouseDown(e)},!1),\"y\"!==beat.params.pagescroll&&e.addEventListener(\"touchmove\",function(e){e.preventDefault()},!1)):(e.addEventListener(\"mousedown\",function(e){t._mouseDown(e),t.canInteract&&!MS.__touchLock||t.stopPropagation?e.stopPropagation():e.preventDefault()},!1),e.addEventListener(\"mousemove\",function(e){!t.canInteract||MS.__touchLock?e.preventDefault():e.stopPropagation()},!1),this._addHoverEvent(e,\"in\",t._mouseEnter),this._addHoverEvent(e,\"out\",t._mouseLeave))},_addBodyListeners:function(){var e=this,t=document.body;this._removeBodyListeners(),MS.__touchLock=!0,this._docMouseMove=function(t){e._mouseMove(t)},this._docMouseUp=function(t){e._mouseUp(t)},MS.Device.canTouch()?(t.addEventListener(\"touchmove\",this._docMouseMove,!1),t.addEventListener(\"touchend\",this._docMouseUp,!1)):(t.addEventListener(\"mousemove\",this._docMouseMove,!1),t.addEventListener(\"mouseup\",this._docMouseUp,!1))},_removeBodyListeners:function(){var e=document.body;MS.Device.canTouch()?(e.removeEventListener(\"touchmove\",this._docMouseMove,!1),e.removeEventListener(\"touchend\",this._docMouseUp,!1)):(e.removeEventListener(\"mousemove\",this._docMouseMove,!1),e.removeEventListener(\"mouseup\",this._docMouseUp,!1)),MS.__touchLock=!1},_click:function(e){this.fireEvent(\"click\"),this.clicked()},_swipe:function(e,t,n){0===n||isNaN(n)||beat.trackWidgetInteraction(this,{distance:n,direction:t},\"b.swipe\"),this.fireEvent(t,e),\"swipe:up\"==t?this.swipeUp(e):\"swipe:down\"==t?this.swipeDown(e):\"swipe:left\"==t?this.swipeLeft(e):this.swipeRight(e)},_mouseDown:function(e){e.touches&&(e=e.touches[0]),this._touchInfo={startX:e.pageX,startY:e.pageY,startTime:new Date},this.mouseDown&&this.mouseDown({event:e}),this._addBodyListeners()},_mouseUp:function(e){var t=this._computeSwipe(),n=e;if(e.changedTouches&&(n=e.changedTouches[0]),n.target&&n.target.hasClass(\"block-overlay\"))return void this._removeBodyListeners();this._touchInfo=null,this.mouseUp&&this.mouseUp({event:e});try{(0===t||isNaN(t))&&this._click(n)}catch(e){MS.ExceptionManager.error(e,\"Something went wrong on mouseup event. Removing event listener\")}finally{this._removeBodyListeners()}},_mouseEnter:function(){this.mouseEnter(),this.fireEvent(\"hover:in\")},_mouseLeave:function(){this.mouseLeave(),this.fireEvent(\"hover:out\")},_computeSwipe:function(){if(null!=this._touchInfo){var e=this._touchInfo.endX-this._touchInfo.startX,t=this._touchInfo.endY-this._touchInfo.startY,n=Math.sqrt(e*e+t*t),i=Math.atan(t/e)/Math.PI*180,r=e>0,o=0>t;if(isNaN(n))return 0;var a=Math.abs(n);if(a<this.SWIPE_DISTANCE)return 0;var s,u=this._touchInfo.startTime.getTime(),c=(new Date).getTime(),d=c-u,l=MS.PageManager.isRotated;return 45>=i&&i>=-45?r?(s={distance:e,millis:d},this._swipe(s,l?\"swipe:up\":\"swipe:right\",n)):(s={distance:-e,millis:d},this._swipe(s,l?\"swipe:down\":\"swipe:left\",n)):o?(s={distance:-t,millis:d},l?(s.distance=-s.distance,this._swipe(s,\"swipe:left\",n)):this._swipe(s,\"swipe:up\",n)):(s={distance:t,millis:d},l?(s.distance=-s.distance,this._swipe(s,\"swipe:right\",n)):this._swipe(s,\"swipe:down\",n)),a}},_mouseMove:function(e){e.touches&&(e=e.touches[0]);var t,n,i;if(i=this._touchInfo){if(t=i.endX-i.startX,n=i.endY-i.startY,MS.PageManager.isRotated){var r=-t;t=n,n=r}i.endX=e.pageX,i.endY=e.pageY,this.mouseDrag({event:e,deltaX:isFinite(t)?t:0,deltaY:isFinite(n)?n:0})}}}),MS.View.Body={top:function(){return 0},left:function(){return 0},right:function(){return 0},bottom:function(){return 0},width:function(){return document.body.offsetWidth},height:function(){return document.body.offsetHeight}},function(){function e(e){return function(){var t=this.dom;return t&&t[e].apply(t,arguments),this}}function t(e,t){return function(n){var i=this.layout;if(void 0!==n)return this.css(e,n),i[e]=n,this;var r=i[e];return null===r||t&&\"number\"!=typeof r?this.computedLayout()[e]:r}}function n(e,t){return function(n){var i=this.layout;return void 0!==n?(this.addTransform(e,n+t),i[e]=n,this):i[e]}}for(var i,r,o,a,s=[\"show\",\"hide\",\"addTransform\",\"removeTransform\",\"removeAllTransforms\",\"addTransition\",\"removeTransition\",\"removeAllTransitions\",\"addAnimation\",\"removeAnimation\",\"removeAllAnimation\"],u=[\"top\",\"left\",\"right\",\"bottom\",\"width\",\"height\",\"marginTop\",\"marginLeft\",\"opacity\",\"zIndex\"],c=[[\"scale\",\"\"],[\"translateY\",\"px\"],[\"translateX\",\"px\"],[\"translateZ\",\"px\"],[\"rotateX\",\"deg\"],[\"rotateY\",\"deg\"],[\"rotateZ\",\"deg\"]];r=s.shift();)MS.View.prototype[r]=e(r);for(;r=u.shift();)MS.View.prototype[r]=t(r,-1!=[\"top\",\"left\",\"width\",\"height\"].indexOf(r));for(;i=c.shift();)r=i[0],o=\"rotateZ\"===r?\"rotate\":r,a=i[1],MS.View.prototype[r]=n(o,a)}(),MS.CreativeView=MS.View.extend(MS.Serializable,{load:function(e){this.loadCreativeView(function(){this.isLoaded=!0,e&&e()}.bind(this))},unload:function(e){this.unloadCreativeView(function(){this.isLoaded=!1,e&&e()}.bind(this))},loadCreativeView:function(e){this.font||this.text?(this.font&&MS.Plugin.loadFont(this.font,this.text?function(){}:e),this.text&&MS.Plugin.loadFontFromContent(this.text,e)):e&&e()},unloadCreativeView:function(e){e&&e()},initFromJson:function(e){this.id=this.type+\":\"+e.id,this.layout=this.resolveLayout(e),this.shadows={shadowPositionX:e.shadowPositionX,shadowPositionY:e.shadowPositionY,shadowSize:e.shadowSize,shadowColor:e.shadowColor};var t=this.styles={},n=this.supportedStyleKeys;for(var i in e)e.hasOwnProperty(i)&&i in n&&(t[i]=e[i]);\"font\"in e&&(this.font=e.font),this.initCreativeViewFromJson(this.json)},initCreativeViewFromJson:function(e){}}),MS.EventedView=MS.CreativeView.extend({events:null,canInteract:!1,stopPropagation:!1,_unloadEventsExpected:0,_unloadEventsRealized:0,initCreativeViewFromJson:function(e){this.initEventedViewFromJson(e);var t=this;t.events=[];this.json.events&&this.json.events.forEach(function(e){t.addEvent(MS.Builder.fromJson(e,\"Event\"))})},initEventedViewFromJson:function(e){},addEvent:function(e){var t=this.events;t.push(e),e.linkTo(this),e instanceof MS.Events.Unload&&e.actions.length>0&&(++this._unloadEventsExpected,e.addEventListener(\"allActionsFinished\",this,this._eventFinished))},_eventFinished:function(){++this._unloadEventsRealized==this._unloadEventsExpected&&(this._unloadEventsRealized=0,this.fireEvent(\"_readyToUnload\"))},beforePageShow:function(e){this.children.forEach(function(t){t.beforePageShow(e)}),this.events.forEach(function(t){t.beforePageShow(e)})},afterPageHide:function(e){this.children.forEach(function(t){t.afterPageHide(e)}),this.events.forEach(function(t){t.afterPageHide(e)})},loaded:function(){this._elementLoaded=!0,this._elementLoadedBefore||(this._elementLoadedBefore=!0,this.fireEvent(\"elementFirstLoaded\")),this.isSharable&&this._setSharedProps(),this.fireEvent(\"elementLoaded\")},unloaded:function(){this._elementLoaded=!1,this._elementUnloadedBefore||(this._elementUnloadedBefore=!0,this.fireEvent(\"elementFirstUnloaded\")),this.isSharable&&this._share(),this.fireEvent(\"elementUnloaded\")},unloadCreativeView:function(e){var t=this,n=!1,i=!1,r=function(){var r=t._unloadEventsExpected>0?n:!0,o=t.children.length>0?i:!0;r&&o&&e()},o=this.addEventListener(\"_readyToUnload\",null,function(){n=!0,t.removeEventListener(o),r()});this.children.length;this.children.forEach(function(e){}),this.unloaded(),r()},getLinkedPages:function(){var e=[];return this.children&&this.children.forEach(function(t){e=e.concat(t.getLinkedPages())}),this.events&&this.events.forEach(function(t){e=e.concat(t.getLinkedPages())}),e}}),MS._ModalDialogManager=MS.Object.extend({modalElement:null,containerEl:null,showModal:function(e){var t,n,i,r,o,a,s,u,c,d,l,h,p=this,f=MS.$(\"spire-modal-container\"),m=p.containerEl;return p.destroy(),e&&(t=e.title||\"\",n=e.message||\"\",i=e.closable!==!1,r=e.className||\"\",o=e.callback||!1,a=e.fallback||!1),t||n?(null===f&&(f=MS.$$(\"div\"),f.setAttribute(\"id\",\"spire-modal-container\"),MS.Spire.dom.appendChild(f)),\"string\"==typeof r&&\"\"!==r&&(p.className=r,f.addClass(r)),null===m&&(m=MS.$$(\"div\"),m.setAttribute(\"class\",\"container\"),f.appendChild(m),d=MS.$$(\"i\"),f.appendChild(d)),t&&(s=MS.$$(\"div\"),s.className=\"title\",s.html(t),m.appendChild(s)),n&&(u=MS.$$(\"div\"),u.className=\"message\",u.html(n),\nm.appendChild(u)),i&&(c=MS.$$(\"div\"),c.className=\"buttons\",m.appendChild(c),l=MS.$$(\"button\"),l.className=\"close\",l.setAttribute(\"type\",\"button\"),c.appendChild(l),\"function\"==typeof o&&\"function\"==typeof a?(l.html(\"Cancel\"),l.onclick=function(){a(),p.destroy(),p.hideModal()},h=MS.$$(\"button\"),h.className=\"confirm\",h.setAttribute(\"type\",\"button\"),h.html(\"Confirm\"),h.onclick=function(){o(),p.destroy(),p.hideModal()},c.appendChild(h)):(l.html(\"OK\"),l.onclick=function(){\"function\"==typeof o&&o(),p.destroy(),p.hideModal()})),f.show(),p.modalElement=f,p.containerEl=m,p):(p.hideModal(),p)},hideModal:function(){var e=this;return null!=e.modalElement&&e.modalElement.hide(),e},destroy:function(){var e=this;return null!=e.containerEl&&e.containerEl.html(\"\"),e.className&&e.modalElement.removeClass(e.className),e}}),MS.ModalDialogManager=new MS._ModalDialogManager,MS._ProgressBar=MS.Object.extend({enabled:!0,_loaderDiv:null,_spinnerDiv:null,_messageDiv:null,createLoader:function(e,t){var n,i,r,o,a,s=this;for(n=MS.$(\"spire-loader\"),(!n||t)&&(n=MS.$$(\"div\"),n.setAttribute(\"id\",\"spire-loader\"),e.appendChild(n)),i=MS.$$(\"div\"),r=MS.$$(\"div\"),o=MS.$$(\"div\"),a=0;3>a;++a)r.appendChild(MS.$$(\"i\"));i.className=\"message-container\",r.className=\"message-spinner\",o.className=\"message\",n.appendChild(i),i.appendChild(r),i.appendChild(o),n.appendChild(MS.$$(\"i\")),s._loaderDiv=n,s._spinnerDiv=i,s._messageDiv=o},showLoader:function(){this.enabled&&(this._loaderDiv.show(),this.hideSpinner())},hideLoader:function(){this._loaderDiv.hide()},showSpinner:function(e){return this.enabled&&(this._messageDiv.html(e),this._loaderDiv.addClass(\"show-message\")),this._messageDiv},hideSpinner:function(){return this._loaderDiv.removeClass(\"show-message\"),this._messageDiv},enableLoaders:function(){this.enabled=!0},disableLoaders:function(){this.enabled=!1,this.hideLoader()},destroy:function(){this._loaderDiv&&this._loaderDiv.parentNode&&this._loaderDiv.removeFromParent()}}),MS.ProgressBar=new MS._ProgressBar,MS.OrientationView=MS.Object.create({_el:null,_wantMode:null,wnd:window,_setup:function(){function e(){MS.PageManager.currentGroup.isInterstitial()&&i.orientationChanged()}function t(){MS.Device.isAndroid?setTimeout(function(){MS.PageManager.currentGroup.repositionCloseButton()},200):MS.PageManager.currentGroup.repositionCloseButton()}var n=this._el=MS.$$(\"div\");n.className=\"orientation-message\",null!==document.body&&document.body.appendChild(n);var i=this,r=window;i.wnd=window,r.top!==r.self&&(r=r.top);try{i.wnd=void 0!==r.orientation?r:window}catch(e){}\"onorientationchange\"in i.wnd||\"orientationchange\"in i.wnd?(i.wnd.addEventListener(\"orientationchange\",e,!0),i.wnd.addEventListener(\"orientationchange\",t,!0)):i.wnd.addEventListener(\"resize\",e,!0),i.wnd.addEventListener(\"resize\",t,!0)},orientationChanged:function(){var e=this,t=e.windowWidth(),n=e.windowHeight();if(1>=t||1>=n)return void setTimeout(function(){e.orientationChanged()},250);var i=e.wnd.orientation;void 0!==i?i%180===0?e._portraitMode():e._landscapeMode():n>=t?e._portraitMode():e._landscapeMode()},viewFitsOnScreen:function(e){return e.width()<=this.windowWidth()&&e.height()<=this.windowHeight()},windowWidth:function(){var e=this;return e.wnd.innerWidth},windowHeight:function(){var e=this;return e.wnd.innerHeight},enable:function(e){(MS.Device.isDevice||MS.Spire.creative.isResponsive)&&(null===this._el&&this._setup(),this.enabled=!0,this._wantMode=e,this.orientationChanged())},disable:function(){(MS.Device.isDevice||MS.Spire.creative.isResponsive)&&(this._wantMode=null,this.enabled=!1,this.hide())},switchToLandscape:function(){this.switchOrientation(!0)},switchToPortrait:function(){this.switchOrientation(!1)},switchOrientation:function(e){e=!!e;var t,n,i=this,r=!0;beat.params.prompt_rotation&&\"n\"===beat.params.prompt_rotation.toLowerCase()&&(r=!1),(MS.Spire.creative.isResponsive||!i.viewFitsOnScreen(MS.PageManager.currentGroup))&&(MS.Spire.autoRotate?(e?(t=\"landscape\",n=90):(t=\"portrait\",n=-90),MS.PageManager.isRotated=!0,MS.PageManager.orientation=t,MS.Spire.dom.addTransform(\"rotate\",n+\"deg\"),MS.Stage.rotate(n),MS.PageManager.centerGroup()):r&&(MS.Device.isDevice?i._el.html(\"<span>Please <b>rotate</b> your device to enjoy the experience!</span>\"):i._el.html(\"<span>Change window proportions to <b>\"+i._wantMode+\"</b> to enjoy the experience!</span>\"),i._showElement()),MS.Stage.updateDimensions())},hide:function(){this.enabled&&(MS.Spire.autoRotate?(MS.PageManager.isRotated=!1,MS.PageManager.orientation=void 0,MS.Spire.dom.removeAllTransforms(),MS.Stage.rotate(0),MS.PageManager.centerGroup()):this._hideElement(),MS.Stage.updateDimensions())},_showElement:function(){this._el&&(MS.Spire.dom.addClass(\"orientation-message-shown\"),this._el.show())},_hideElement:function(){this._el&&(MS.Spire.dom.removeClass(\"orientation-message-shown\"),this._el.hide())},_portraitMode:function(){var e=this;e.enabled&&(\"portrait\"===e._wantMode?e.hide():\"landscape\"===e._wantMode&&(MS.Device.isAndroid?setTimeout(function(){e.switchToLandscape()},300):e.switchToLandscape()))},_landscapeMode:function(){var e=this;e.enabled&&(\"landscape\"===e._wantMode?e.hide():\"portrait\"===e._wantMode&&(MS.Device.isAndroid?setTimeout(function(){e.switchToPortrait()},300):e.switchToPortrait()))}}),MS.Creative=MS.CreativeView.extend({type:\"Creative\",format:\"interstitial\",adMode:\"standard\",isResponsive:!1,lockOrientationBy:\"doNotLock\",staticGroup:null,bannerGroup:null,creativeGroup:null,companionGroup:null,initCreativeViewFromJson:function(e){var t,n=this;switch(n.adMode=e.adMode||\"standard\",n.isResponsive=!!e.isResponsive,n.lockOrientationBy=e.lockOrientationBy||\"doNotLock\",null!=e.static&&(n.staticGroup=MS.Builder.fromJson(e.static,\"PageGroup\")),n.closeButton={closeButtonShow:!0,closeButtonImage:e.closeButtonImage||null,closeButtonPosition:e.closeButtonPosition||\"topRight\",closeButtonDelay:e.closeButtonDelay||0},void 0!==e.closeButtonShow&&null!==e.closeButtonShow&&(n.closeButton.closeButtonShow=e.closeButtonShow),t=n.format=e.format.toLowerCase(),e.originalFormat?n.originalFormat=e.originalFormat.toLowerCase():n.originalFormat=t,t){case\"interstitial\":n.creativeGroup=MS.Builder.fromJson(e.creative,\"PageGroup\"),n.creativeGroup.format=\"interstitial\";break;case\"expandable\":n.bannerGroup=MS.Builder.fromJson(e.banner,\"PageGroup\"),n.creativeGroup=MS.Builder.fromJson(e.creative,\"PageGroup\"),n.creativeGroup.format=\"interstitial\",n.bannerGroup.format=\"banner\";break;case\"banner\":n.bannerGroup=MS.Builder.fromJson(e.banner,\"PageGroup\"),n.bannerGroup.format=\"banner\";break;case\"fallback\":n.staticGroup=MS.Builder.fromJson(e.static,\"PageGroup\");break;case\"vast\":n.creativeGroup=MS.Builder.fromJson(e.creative,\"PageGroup\"),n.companionGroup=MS.Builder.fromJson(e.companion,\"PageGroup\");break;default:MS.ExceptionManager.raise(new Error(\"unrecognized creative format: \"+t))}},preload:function(e){var t=this,n=\"function\"==typeof e?e:MS.noop;switch(t._loadHighResSpinner(),t.format){case\"interstitial\":t.creativeGroup.preload(n);break;case\"banner\":t.bannerGroup.preload(n);break;case\"expandable\":t.bannerGroup.preload(function(){n(),t.creativeGroup.preload()});break;case\"fallback\":t.staticGroup.preload(n)}},_loadHighResSpinner:function(){if(window.getDevicePixelRatio()>=2){var e=this,t=new Image;t.onload=function(){e.dom.addClass(\"spinner-loaded\")},t.src=\"https://spire.aarki.net/builds/spear/common/images/loader_v1_2x.gif\"}},renderView:function(e){var t=this;e.addClass(t.format),e.addClass(t.adMode.toLowerCase()),t.isResponsive&&e.addClass(\"responsive\")},showInterstitialOverlay:function(){},hideInterstitialOverlay:function(){},expand:function(e){this.showInterstitialOverlay(),e()},collapse:function(e){this.hideInterstitialOverlay(),e()},centerOnPage:function(e,t){var n,i,r,o=window.innerWidth,a=window.innerHeight,s=this.dom;if(MS.PageManager.isRotated){var u=e;e=t,t=u}n=Math.max(o/2-e/2,0),i=Math.max(a/2-t/2,0),r=Math.abs(e-t),\"landscape\"==MS.PageManager.orientation?(n=o/2-e/2-r/2,i=a/2-t/2+r/2):\"portrait\"==MS.PageManager.orientation&&(n=o/2-e/2+r/2,i=a/2-t/2-r/2),s.css(\"left\",n+\"px\"),s.css(\"top\",i+\"px\")}}),MS.PageGroup=MS.CreativeView.extend({type:\"PageGroup\",format:null,currentPage:null,pages:[],_overlay:null,_progressDiv:null,isSwitchingPage:!1,initCreativeViewFromJson:function(e){var t=this,n=t.pages=[];e.pages.forEach(function(e){e=MS.Builder.fromJson(e,\"Page\"),n.push(e)}),t.width()>t.height()?t.orientation=\"landscape\":t.orientation=\"portrait\"},isInterstitial:function(){return\"interstitial\"==this.format},isBanner:function(){return\"banner\"==this.format},load:function(){var e=this,t=e._progressDiv;e.dom.addClass(\"active\"),arguments.callee.base.apply(e,arguments),null!=t&&t.hideLoader()},loadCreativeView:function(e){function t(){\"function\"==typeof e&&e()}var n=this.pages;n.length>0?this.switchPage(n[0],t):t(),this.isInterstitial()&&(MS.Spire.creative.isResponsive?\"doNotLock\"!==MS.Spire.creative.lockOrientationBy&&(this.orientation=MS.Spire.creative.lockOrientationBy,MS.OrientationView.enable(this.orientation)):MS.OrientationView.enable(this.orientation))},unload:function(){this.dom.removeClass(\"active\"),arguments.callee.base.apply(this,arguments)},unloadCreativeView:function(e){this.isInterstitial()&&MS.ProgressBar.hideSpinner(),this.currentPage&&this.closeCurrentPage(function(){}),this.currentPage=null,\"function\"==typeof e&&e()},preload:function(e){var t=this,n=t.pages[0];n.load(function(){t._preloadLinkedPages(n,e)})},_preloadLinkedPages:function(e,t){function n(){++o<r.length||i()}var i=\"function\"==typeof t?t:MS.noop,r=e.getLinkedPages(),o=0;if(r.length>0)for(var a=0;a<r.length;++a)r[a].load(n);else i()},renderStart:function(e){var t=this._progressDiv=new MS._ProgressBar;t.createLoader(e,!0),t.showLoader()},renderView:function(e){var t=this;if(MS.Spire.options.bannerClickUrl&&t.isBanner()){var n=MS.$(\"div\"),i=t._bannerClickUrlView=MS.View.create({dom:n,styles:{}});i.top(0),i.left(0),i.right(0),i.bottom(0),i.zIndex(9999999);var r=MS.Spire.options.bannerClickUrl;i.addEventListener(\"click\",null,function(){MS.Plugin.gotoUrl(r)}),e.appendChild(i.render())}e.addClass(t.format+\"-group\")},renderDone:function(){this.elementReady()},updateDimensions:function(e){MS.Spire.creative.isResponsive||(this.css(\"width\",e.width),this.css(\"height\",e.height))},collapsible:function(){function e(){n.__closeButton&&n.__closeButton.removeFromParent();var e=n.__closeButton=MS.$$(\"div\"),i=\"&times;\",r=\"close-button\",o=e.style;t?(r+=\" close-button-custom\",i=\"&nbsp;\",o.width=a.width/2+\"px\",o.height=a.height/2+\"px\",o.borderWidth=\"0px\",o.backgroundImage=\"url(\"+t+\")\"):(o.width=\"17px\",o.height=\"17px\",o.borderWidth=\"2px\"),MS.PageManager.currentGroup.repositionCloseButton(),e.innerHTML='<span class=\"btn\">'+i+\"</span>\",e.className=r,setTimeout(function(){e.addEventListener(\"click\",n.__closeButtonOnClick,!1)},400),n.dom.appendChild(e),n.__addedCloseButton=!0,n.__closeButtonTimeout=null}var t,n=this,i=MS.Spire.creative.closeButton,r=beat.params,o=!0,a=i.closeButtonImage;n._showClosePosition=r&&r.show_close_position||i.closeButtonPosition,a&&(t=a.url),r&&r.show_close?(o=r.show_close,o=\"n\"===o?!1:o==parseFloat(o)?parseFloat(o):!0):(o=i.closeButtonShow,o&&i.closeButtonDelay>0&&(o=parseFloat(i.closeButtonDelay))),n.__addedCloseButton||(n.__closeButtonOnClick=function(){n.__addedCloseButton=!1,n.__closeButton&&n.__closeButton.removeFromParent(),MS.PageManager.closeCreative()},\"number\"==typeof o?n.__closeButtonTimeout=setTimeout(e,1e3*o):o===!0&&e())},repositionCloseButton:function(){var e=this.__closeButton,t=10;if(e){var n=e.style,i=this._showClosePosition,r=MS.PageManager.currentGroup,o={position:\"absolute\",top:t+\"px\",left:\"auto\",right:\"auto\"};if(MS.OrientationView.viewFitsOnScreen(r))\"topLeft\"===i?o.left=t+\"px\":o.right=t+\"px\";else{var a=r.dom.getBoundingClientRect();if(o.position=\"fixed\",o.top=Math.max(0,a.top)+t+\"px\",\"topLeft\"===i)o.left=Math.max(0,a.left)+t+\"px\";else{var s,u=parseInt(n.width)+2*parseInt(n.borderWidth);s=MS.OrientationView.windowWidth()>=a.width?(MS.OrientationView.windowWidth()-a.width)/2+a.width:MS.OrientationView.windowWidth(),o.left=Math.max(t,s-u-t)+\"px\"}}n.position=o.position,n.top=o.top,n.left=o.left,n.right=o.right,MS.Device.isAndroid&&(n.opacity=\"0.99\",setTimeout(function(){n.opacity=\"1\",n.display=\"none\",e.offsetHeight,n.display=\"\"},50))}},closeCurrentPage:function(e){var t=this,n=t.currentPage;n.set(\"canInteract\",!1),n.unload(e),t.detachPageFromPageGroup(t.currentPage),n.afterPageHide(n)},detachPageFromPageGroup:function(e){if(e instanceof MS.Page){var t=e.element(),n=t.parentNode;n&&n.removeChild(t)}},switchPage:function(e,t){function n(){\"function\"==typeof t&&t()}var i,r,o=this;if(!o.isSwitchingPage){if(!e||!e instanceof MS.Page)return void MS.log.error(\"trying to switch to an erroneous page\",e);if(e==o.currentPage)return void n();o.isSwitchingPage=!0,MS.ProgressBar.showLoader(),e.set(\"canInteract\",!1),o.showOverlay(),e.isRendered||e.render(),i=MS.Benchmark.begin(\"page:\"+e.json.name+\":load\"),r=!1,e.load(function(){return r?void MS.ExceptionManager.error(\"called twice\"):(r=!0,e.beforePageShow(e),e.element().hide(),o.dom.appendChild(e.element()),MS.ProgressBar.hideLoader(),o.transitionPage(e,function(){o.currentPage&&o.closeCurrentPage(),MS.PageManager.currentPage=o.currentPage=e,o.isSwitchingPage=!1,e.set(\"canInteract\",!0),o.hideOverlay(),e.loaded()}),i.end(),n(),o.isInterstitial()?beat.trackPageView(e):o.isBanner()&&beat.trackPageView(e,!0),void(MS.Spire.smartPreload&&setTimeout(function(){o._preloadLinkedPages(e)},0)))})}},createOverlay:function(){function e(e){return e.stopPropagation(),e.preventDefault(),!1}var t,n=this,i=n._overlay;null==i&&(i=n._overlay=MS.$$(\"div\"),i.addClass(\"block-overlay\"),MS.Browser.msie&&parseInt(MS.Browser.version)<=9&&i.addClass(\"msie\"),t=MS.Device.touchable?\"touchend\":\"mouseup\",i.addEventListener(\"click\",e,!0),i.addEventListener(t,e,!0)),n.element().appendChild(i)},showOverlay:function(){this._overlay.show()},hideOverlay:function(){var e=this;e.isSwitchingPage||e._overlay.hide()},cssOrJSAnimate:function(e,t,n,i,r,o,a,s,u){function c(){\"function\"==typeof u&&u()}var d=e.css(\"zIndex\");e.css(t,o),e.css(\"display\",\"block\"),e.css(\"zIndex\",\"99995\"),MS.Support.css(\"transition\")?setTimeout(function(){e.addTransition(t,s/1e3,\"ease-out\"),setTimeout(function(){e.css(t,a),setTimeout(function(){e.removeTransition(t),e.css(\"zIndex\",d),c()},s+10)},25)},0):MS.FX.animate({duration:s,complete:c,delta:MS.FX.easing.quadratic,step:function(e){var t=i+e*(r-i);n(t)}},e)},transitionPage:function(e,t){function n(){\"function\"==typeof t&&t()}var i=this,r=e.element(),o=e.transition,a=e.transitionDuration,s=e.transitionDirection,u=e.layout.width,c=e.layout.height;switch(o){case\"fade\":i.cssOrJSAnimate(r,\"opacity\",function(e){r.css(\"opacity\",e)},0,1,\"0\",\"1\",a,n);break;case\"slide\":var d,l,h=0;MS.Support.css(\"transform\")?(d=\"left\"==s||\"right\"==s?\"translateX\":\"translateY\",l=\"left\"==s?u:\"right\"==s?-u:\"up\"==s?c:-c,i.cssOrJSAnimate(r,\"transform\",function(e){r.css(\"transform\",d+\"(\"+e+\"px)\")},l,h,d+\"(\"+l+\"px)\",d+\"(\"+h+\"px)\",a,n)):(d=\"left\"==s?\"right\":\"right\"==s?\"left\":\"up\"==s?\"bottom\":\"top\",l=\"left\"==s||\"right\"==s?-u:-c,i.cssOrJSAnimate(r,d,function(e){r.css(d,e+\"px\")},l,h,l+\"px\",h+\"px\",a,n));break;case\"flip\":var p=i.currentPage?i.currentPage.element():null;i.element().css(\"perspective\",\"1000\"),r.addTransform(\"rotateY\",\"180deg\"),r.css(\"display\",\"block\"),l=180,h=0,MS.FX.animate({duration:a,complete:function(){r.css(\"transform\",\"\"),p&&p.css(\"transform\",\"\"),n()},delta:MS.FX.easing.quadratic,step:function(e){var t=l+e*(h-l);r.css(\"transform\",\"rotateY(\"+t+\"deg)\"),p&&p.css(\"transform\",\"rotateY(\"+(180+t)+\"deg)\")}},r);break;default:r.css(\"display\",\"block\"),n()}}}),MS.Page=MS.EventedView.extend({type:\"Page\",widgets:[],droppables:[],isFallbackPage:!1,initEventedViewFromJson:function(e){var t=this;this.widgets=[],e.widgets.forEach(function(e){t.addWidget(MS.Builder.fromJson(e,\"Widget\"))}),this.transition=e.transition||\"cut\",this.transitionDuration=e.transitionDuration,this.transitionDirection=e.transitionDirection,this.isFallbackPage=0==e.id&&0==e.group},eventedViewChildren:function(){return this.widgets},addWidget:function(e){this.widgets.push(e),e.page=this,this.appendChild(e),e.setPageForChildWidgets(this)},load:function(e){if(this.isLoaded){if(this.isFallbackPage&&0==this.widgets.length){var t=this.dom,n=MS.$$(\"div\");n.addClass(\"fallback-image-container\"),t.appendChild(n)}e(this)}else{var i=this;this.loadCreativeView(function(){i.isLoaded=!0,e()})}},loadCreativeView:function(e){var t=this,n=this.widgets,i=n.length,r=0,o=function(){r+=1,r>=i&&e&&(n.forEach(function(e){if(!e.isRendered){var n=e.render();n.removeFromParent(),t.element().appendChild(n)}}),e())};return 0==i?o():void n.forEach(function(e){e.load(o)})},unloadCreativeView:function(e){var t=this.widgets,n=t.length+1,i=0,r=function(){++i==n&&e&&e()};t.forEach(function(e){e.unload(function(){r()})}),arguments.callee.base.call(this,r)},loaded:function(){this.widgets.forEach(function(e){e.loaded()}),arguments.callee.base.apply(this)},renderView:function(e){e.css(\"overflow\",\"hidden\")},renderDone:function(){},registerDroppable:function(e){this.droppables.push(e)},notifyDrop:function(e,t,n){for(var i=0;i<this.droppables.length;++i)this.droppables[i].notifyDrop(e,t,n)}}),MS.Widget=MS.EventedView.extend({type:\"Widget\",page:null,preserve3d:!1,initEventedViewFromJson:function(e){this.initWidgetFromJson(e)},initWidgetFromJson:function(e){},loaded:function(){var e=this;!e._elementLoadedBefore&&e.dom&&(e.dom.className+=\" ms-widget\",e.preserve3d&&(e.dom.className+=\" preserve-3d\")),arguments.callee.base.apply(e,arguments)},renderView:function(e){},renderDone:function(){},getPageName:function(){return this.page?this.page.json.name:\"\"},setPageForChildWidgets:function(e){this.widgets&&this.widgets.forEach(function(t){t.page=e,t.setPageForChildWidgets(e)})},offsetParent:function(){return this.parent&&this.parent.parent||MS.View.Body},_click:function(e){var t,n,i,r,o=MS.PageManager.currentGroup.currentPage,a=o&&o.dom&&o.dom.getBoundingClientRect();a&&(t=~~(e.pageX-a.left),n=~~(e.pageY-a.top),i=~~(t/a.width*100),r=~~(n/a.height*100),beat.trackWidgetInteraction(this,beat._lastClick={x:t,y:n,h:i,v:r},\"b.click\")),arguments.callee.base.apply(this,arguments)}}),MS.Widgets={},MS.Protocols={},MS.Feed=MS.Object.extend(MS.Serializable,{type:\"Feed\",isInitialized:!1,enabled:!1,url:null,feedName:null,mapping:null,widgets:null,result:null,initFromJson:function(e){this._startTime=(new Date).getTime(),this.id=e.id,this.widgets=e.widgets,this.enabled=e.enabled,this.feedURL=e.feedURL,this.feedName=e.feedName,this.mapping=e.mapping,this.isEnabled()&&this.initFeedFromJson(e)},isEnabled:function(){return this.enabled&&this.widgets&&this.widgets.length>0},initFeedFromJson:function(){var e=this;if(e._status=\"init\",!this.feedURL||!this.mapping)return void this.onInitialized();for(var t=0;t<this.widgets.length;t++){var n=MS.StudioAdapter.get(\"Widget\",this.widgets[t]);n.feed=this.id}window.beat.params.feed_results&&window.beat.params.feed_results[this.id]&&\"{{feed_results}}\"!==window.beat.params.feed_results[this.id]?(e.result=JSON.parse(window.beat.params.feed_results[this.id]),e._status=e.result&&e.result.length?\"success\":\"empty\",e.onInitialized()):window.beat.get(window.beat.replaceURLMacros(e.feedURL,\"\\\\{arg_(\\\\w+)\\\\}\"),function(t){e.result=JSON.parse(t),e._status=e.result&&e.result.length?\"success\":\"empty\",e.onInitialized()},function(t){MS.log.error(\"%c[Feed]\",\"color: red;\",\"error while loading feed\",e.feedName,t),e._status=\"fail\",e.onInitialized(t)})},onInitialized:function(e){if(this.isInitialized=!0,!this._tracked){var t={status:this._status,time:(new Date).getTime()-this._startTime};void 0!==e&&null!==e&&(t.error=e),window.beat.track(\"m.feed\",t),this._tracked=!0}this.fireEvent(\"feedLoaded\")}}),MS.Event=MS.Object.extend(MS.Serializable,{type:\"Event\",source:null,actions:[],userInitiated:!1,_actionsInflight:0,initFromJson:function(e){var t=this,n=this.actions=[];e.actions.forEach(function(e){e=MS.Builder.fromJson(e,\"Action\"),n.push(e),e.addEventListener(\"action:started\",t,t._actionStarted),e.addEventListener(\"action:finished\",t,t._actionFinished)}),this.initEventFromJson(e),this.event=e.event},initEventFromJson:function(e){},_actionStarted:function(){},_actionFinished:function(){0==--this._actionsInflight&&this.fireEvent(\"allActionsFinished\")},getEventName:function(){return this.event},shouldRun:function(e,t,n){return!0},linkTo:function(e){var t=this;t.source=e,e&&e.addEventListener?e.addEventListener(t.getEventName(),t,t.run):MS.ExceptionManager.error(new Error(\"Event cannot figure out which page it belongs to\"));var n=t.getParentPage(e);t.page=n,t.actions.forEach(function(t){t.page=n,t.linkTo(e)})},run:function(e,t,n){var i=this;if(i.userInitiated){var r=i.getParentPage();beat.trackInteraction(MS.Spire.option(\"interactionTag\"),r.json.name,i.json.name)&&r.fireEvent(\"firstInteraction\")}i.shouldRun(e,t,n)&&(i._actionsInflight=i.actions.length,MS.ActionScheduler.scheduleActions(i.actions))},beforePageShow:function(e){this.actions.forEach(function(t){t.activate(),t.beforePageShow(e)})},afterPageHide:function(e){this.actions.forEach(function(t){t.deactivate(),t.afterPageHide(e)})},getLinkedPages:function(){var e=[];return this.actions.forEach(function(t){e=e.concat(t.getLinkedPages())}),e},getParentPage:function(){return this.source instanceof MS.Page?this.source:this.source instanceof MS.Widget?this.source.page:(MS.ExceptionManager.error(new Error(\"Event cannot figure out which page it belongs to\")),null)}}),MS.Events={},MS.Events.Load=MS.Event.extend({initEventFromJson:function(e){},getEventName:function(){return\"elementLoaded\"}}),MS.Events.Unload=MS.Event.extend({initEventFromJson:function(e){},getEventName:function(){return\"elementUnloaded\"}}),MS.Action=MS.Object.extend(MS.Serializable,{type:\"Action\",source:null,triggerType:null,shouldSkip:!1,isActive:!1,initFromJson:function(e){void 0!==e.shouldSkip&&(this.shouldSkip=e.shouldSkip),this.triggerType=e.trigger;var t=this;MS.ComponentRegistry.get(\"Event\",e.event,function(e){t.event=e}),this.initActionFromJson(e)},initActionFromJson:function(e){},linkTo:function(e){this.source=e,this.linked(e)},linked:function(){},start:function(){},run:function(e){e()},end:function(){},activate:function(){this.set(\"isActive\",!0)},deactivate:function(){this.set(\"isActive\",!1)},beforePageShow:function(e){},afterPageHide:function(e){},getLinkedPages:function(){return[]},getPageName:function(){var e=this.event.getParentPage();return e?e.json.name:null}}),MS.Actions={},MS.Widgets.Spot=MS.Widget.extend({renderView:function(e){MS.version.lt(\"1.2.0\")&&(MS.Device.isAndroid&&!MS.Device.androidChrome?e.addTransform(\"translate3d\",\"0,0,10px\",!0):e.addTransform(\"translate3d\",\"0,0,999px\",!0)),MS.Browser.msie&&e.appendChild(MS.$$(\"div\").css(\"backgroundColor\",\"rgb(255, 255, 255)\").css(\"opacity\",\"0.01\").css(\"filter\",\"alpha(opacity=1)\").css(\"position\",\"absolute\").css(\"top\",\"0px\").css(\"left\",\"0px\").css(\"width\",\"100%\").css(\"height\",\"100%\")),this.elementReady()}}),MS.Widgets.Image=MS.Widget.extend({url:null,initWidgetFromJson:function(e){this.url=this.getRightImageUrl(e.image)},loadCreativeView:function(e){var t=this;t.url?MS.MediaManager.loadImage(t.url,e,function(){MS.ExceptionManager.error(new Error(\"error loading image: \"+t.url)),t.url=null,e()}):e()},updateLayout:function(e){arguments.callee.base.apply(this,arguments),this.url||(this.url=this.getRightImageUrl(this.json.image),this.applySource())},applySource:function(){this.image&&this.image.attr(\"src\",MS.MediaManager.imageUrl(this.url))},renderView:function(e){var t=this.image=MS.$$(\"img\"),n=MS.$$(\"div\");n.addClass(\"widget-wrapper\"),this.applySource(),n.appendChild(t),e.appendChild(n),this.elementReady()},getRightImageUrl:function(e){if(e&&!(this.offsetParent().width()<=1)){var t={width:window.devicePixelRatio*this.width(),height:window.devicePixelRatio*this.height()},n=e.url;if(!e.urls||!e.urls.sizes||0===e.urls.sizes.length)return n;var i=e.urls.prefix,r=e.width/e.height,o=MS.MediaManager.getRightUrlForSize(e.urls.sizes,t,r),a=e.name.replace(/[^\\w\\.-]/g,\"_\").replace(/_+/g,\"_\");return!n.endsWith(a)&&n.endsWith(a.toLowerCase())&&(a=a.toLowerCase()),i+\"_\"+o.joinedSize+\"_\"+a}}}),MS.Events.Click=MS.Event.extend({userInitiated:!0,initEventFromJson:function(e){},getEventName:function(){return\"click\"}}),MS.Actions.PlaySequence=MS.Action.extend({shouldSkip:!1,sequence:null,__timeout:null,initActionFromJson:function(e){e.sequence&&(this.sequence=MS.Builder.fromJson(e.sequence,\"MotionSequence\"))},afterPageHide:function(e){var t=this.sequence;t&&(t.stop(e),clearTimeout(this.__timeout))},run:function(e){var t=this.sequence;return t?(t.play(),void(this.__timeout=setTimeout(e,t.duration()*t.repeat))):void e()}}),MS.MotionSequence=MS.Object.extend(MS.Serializable,{type:\"MotionSequence\",tracks:[],initFromJson:function(e){var t=this;this.fps=e.fps,this.frames=e.frames,this.repeat=e.repeat,MS.ComponentRegistry.get(\"Page\",e.page,function(e){t.page=e});for(var n,i=e.tracks,r=i.length,o=this.tracks=new Array(r),a=0;r>a;++a)n=o[a]=MS.Builder.fromJson(i[a],\"MotionTrack\"),n.linkTo(this)},play:function(){for(var e=this.tracks,t=0,n=e.length;n>t;++t)e[t].play();this.fireEvent(\"sequence:playing\")},stop:function(){for(var e=this.tracks,t=0,n=e.length;n>t;++t)e[t].stop();this.fireEvent(\"sequence:stopped\")},duration:function(){return this.frames/this.fps*1e3}}),MS.MotionTrack=MS.Object.extend(MS.Serializable,{type:\"MotionTrack\",widget:null,sequence:null,keyframes:null,__timeout:null,initFromJson:function(e){var t=this;MS.ComponentRegistry.get(\"Widget\",e.widget,function(e){t.widget=e}),MS.ComponentRegistry.get(\"MotionSequence\",e.sequence,function(e){t.sequence=e}),this.keyframeIds=e.keyframes},linkTo:function(e){this.sequence=e;for(var t=this.keyframeIds,n=t.length,i=this.keyframes=new Array(n),r=0;n>r;++r)i[r]=MS.StudioAdapter.get(\"MotionKeyframe\",t[r]);i.sort(function(e,t){return e.frame-t.frame});var o=MS.Browser;e.fallback=!MS.Support.animation()||o.android&&-1!=o.version.indexOf(\"2.\")},keyframeToCSS:function(e,t){for(var n,i,r=[],o=t?\" !important\":\"\",a=[\"top\",\"left\",\"width\",\"height\"],s=0;s<a.length;++s)n=a[s],i=e[n],null!==i&&void 0!==i&&r.push(n+\":\"+i+\"px\"+o);var u=MS.Device.vendor.prefixValue;return null!==e.opacity&&void 0!==e.opacity&&r.push(\"opacity:\"+e.opacity+o),null!==e.rotateZ&&void 0!==e.rotateZ&&r.push(u+\"transform:rotate(\"+e.rotateZ+\"deg)\"+o),null!==e.easing&&void 0!==e.easing&&r.push(u+\"animation-timing-function:\"+e.easing+o),r.join(\";\")},play:function(){function e(){for(var e in p)p.hasOwnProperty(e)&&(o.json[e]=p[e]);o.computedLayout.purge(),o.updateLayout(f)}function t(n){i=h[n],i?(g=(g=h[n-1])&&g.frame||1,y=(i.frame-g)/u*1e3,a.animate({top:i.top+\"px\",left:i.left+\"px\",width:i.width+\"px\",height:i.height+\"px\",rotate:i.rotateZ,opacity:i.opacity},y,i.easing,function(){t(++n)})):--c>0?(r._resetStyles(w,a),t(0)):(a.removeClass(\"animating\"),e())}function n(e){var t=this.widget.getAbsoluteLayout(e);return t.opacity=e.opacity,t.rotateZ=e.rotateZ,t.easing=e.easing,t.frame=e.frame,t.track=e.track,t}this.stop();var i,r=this,o=this.widget,a=o.element(),s=this.sequence,u=s.fps,c=s.repeat,d=this.keyframes,l=d.length,h=new Array(l);if(0!==l){var p=o.resolveLayout(n.call(this,d[l-1])),f=MS.copy(p);for(var m in f)f.hasOwnProperty(m)&&null===f[m]&&(f[m]=\"\");for(var v=0;l>v;++v)h[v]=n.call(this,d[v]);if(s.fallback){var g,y,w={top:a.css(\"top\"),left:a.css(\"left\"),right:a.css(\"right\"),bottom:a.css(\"bottom\"),width:a.css(\"width\"),height:a.css(\"height\"),marginTop:a.css(\"marginTop\"),marginLeft:a.css(\"marginLeft\"),rotate:a.rotation(),opacity:a.css(\"opacity\")};a.addClass(\"animating\"),t(0)}else{var M,S=MS.Device.vendor.prefixValue,b=\"track_\"+this.componentId,_=b+\"_keyframe\",E=\"@\"+S+\"keyframes\",k=S+\"animation\",P=[],T=[],x=h[0],C=h[h.length-1];for(v=0;v<h.length;++v)i=h[v],M=(i.frame-1)/s.frames*100,P.push(M+\"%{\"+this.keyframeToCSS(i)+\"}\");P.push(\"100%{\"+this.keyframeToCSS(C)+\"}\"),P=E+\" \"+_+\"{\"+P.join(\"\")+\"}\",T.push(k+\"-name:\"+_),T.push(k+\"-iteration-count:\"+s.repeat),T.push(k+\"-duration:\"+s.duration()+\"ms\"),T.push(k+\"-fill-mode:forwards\"),T=\".\"+b+\"{\"+T.join(\";\")+\"}\";var O=this.styleElement=MS.$$(\"style\");O.type=\"text/css\";var I=P+\"\\n\"+T;O.styleSheet?O.styleSheet.cssText=I:O.appendChild(document.createTextNode(I));var L=document.body||document.head;L&&L.appendChild(O),o.updateLayout(x),a.addClass(b),a.addClass(\"animating\"),clearTimeout(this.__timeout),this.__timeout=setTimeout(function(){e(),a.removeClass(\"animating\"),a.removeClass(b),r.styleElement&&(r.styleElement.removeFromParent(),r.styleElement=null)},s.duration()*s.repeat)}}},_resetStyles:function(e,t){t.css(\"top\",e.top).css(\"left\",e.left).css(\"right\",e.right).css(\"bottom\",e.bottom).css(\"width\",e.width).css(\"height\",e.height).css(\"marginTop\",e.marginTop).css(\"marginLeft\",e.marginLeft).css(\"opacity\",e.opacity).rotation(e.rotate)},stop:function(){var e=this.widget.element();this.sequence.fallback?e.stopAnimation():(e.removeClass(\"track_\"+this.componentId),clearTimeout(this.__timeout),this.styleElement&&(this.styleElement.removeFromParent(),this.styleElement=null))}}),MS.Link=MS.Action.extend({link:null,linkType:null,initActionFromJson:function(e){var t=this;t.link=t.buildLink(e),(\"tel\"===t.linkType||\"sms\"===t.linkType)&&(t.number=e.number)},buildLink:function(e){var t=this;return\"web\"===t.linkType?beat.clickUrl()?beat.clickUrl():MS.Formatters.url(MS.RuntimeVariableManager.parse(e.link)):\"sms\"===t.linkType?\"sms:\"+MS.Formatters.phoneNumber(MS.RuntimeVariableManager.parse(e.number)):\"tel\"===t.linkType?\"tel:\"+MS.Formatters.phoneNumber(MS.RuntimeVariableManager.parse(e.number)):(MS.ExceptionManager.raise(new Error(\"unrecognized linkType: \"+t.linkType)),null)},run:function(e){\"web\"!==this.linkType&&MS.Plugin.gotoUrl(this.link),e()},start:function(){var e=this,t=e.getPageName();\"web\"===e.linkType?(beat.trackOnce(e,\"m.gotoUrl\",{url:e.link},null,{page:t}),beat.trackClickThrough(e.link,t)):\"sms\"===e.linkType?beat.trackOnce(e,\"m.smsNumber\",{number:e.number},null,{page:t}):\"tel\"===e.linkType&&beat.trackOnce(e,\"m.callNumber\",{number:e.number},null,{page:t})}}),MS.Actions.CallPhone=MS.Link.extend({linkType:\"tel\",run:function(e){var t=this;MS.Device.isDevice?arguments.callee.base.apply(t,arguments):t.showMessage(),e()},showMessage:function(){var e,t=this;e=\"Please call\",e+='<br><a href=\"'+t.link+'\" target=\"_blank\">'+t.number+\"</a>\",e+='<br><button onclick=\"MS.ProgressBar.hideSpinner();\">OK</button>',MS.ProgressBar.showSpinner(e)}}),MS.Actions.TextPhone=MS.Link.extend({linkType:\"sms\"}),MS.Actions.WebLink=MS.Link.extend({linkType:\"web\"});\n\n!function(e,a,t){\"use strict\";e.MWAPI||(e.MWAPI=a.MWAPI);var o=e.MWAPI;t.CreativeBuilder._oldRenderIAB=t.CreativeBuilder.prototype.init,t.CreativeBuilder.prototype.init=function(){var a=function(){};t.Creative._oldInitCreativeViewFromJson=t.Creative.prototype.initCreativeViewFromJson,t.Creative.prototype.initCreativeViewFromJson=function(e){var a=this;\"string\"==typeof e.positionHorizontal&&\"string\"==typeof e.positionVertical&&(a.positionHorizontal=e.positionHorizontal,a.positionVertical=e.positionVertical),\"string\"==typeof e.swipeableDirection&&(a.swipeableDirection=e.swipeableDirection),t.Creative._oldInitCreativeViewFromJson.apply(a,arguments)},t.PageManagerObject._oldCloseCreative=t.PageManagerObject.prototype.closeCreative,t.PageManagerObject.prototype.closeCreative=function(){var e=this;e._isFullScreen&&e.interstitialMode?o._removeIframe():t.PageManagerObject._oldCloseCreative.apply(e,arguments)},t.PageManagerObject._oldSetup=t.PageManagerObject.prototype.setup,t.PageManagerObject.prototype.setup=function(){function a(){if(!s)try{s=!0,t.PageManagerObject._oldSetup.apply(r,d)}catch(e){t.ExceptionManager.error(e)}}var r=this,i=r.creative,n={},l={},p={},s=!1,d=arguments;e.beat&&\"object\"===t.type(beat.params)&&(n=beat.params),r._isFullScreen=\"y\"===n.fullscreen||\"fullscreen\"===i.expansionMode,r.fallbackMode?l=r.staticGroup:r.interstitialMode?l=r.creativeGroup:r.bannerMode?l=r.bannerGroup:(l=r.bannerGroup,p=r.creativeGroup),o.setup(l.json,p.json,r.fallbackMode),a(),r._isFullScreen&&!r.fallbackMode&&r.interstitialMode&&r.currentGroup.collapsible()},t.PageManagerObject._oldPrivateCloseCreative=t.PageManagerObject.prototype._closeCreative,t.PageManagerObject.prototype._closeCreative=function(){return t.PageManagerObject._oldPrivateCloseCreative.apply(this,arguments)?o.collapse():!1},t.CreativeBuilder._oldCheckFallback=t.CreativeBuilder.prototype._checkFallback,t.CreativeBuilder.prototype._checkFallback=function(){var e=this,a=t.Device.isAndroid&&parseFloat(t.Browser.osversion)<4.1;a?e._goFallback():t.CreativeBuilder._oldCheckFallback.apply(e,arguments)},t.PageGroup._oldRepositionCloseButton=t.PageGroup.prototype.repositionCloseButton,t.PageGroup.prototype.repositionCloseButton=function(){var e=this;t.PageGroup._oldRepositionCloseButton.apply(e,arguments);var a=setInterval(function(){t.PageGroup._oldRepositionCloseButton.apply(e,arguments)},50);setTimeout(function(){clearInterval(a)},1e3)},t.CreativeBuilder._oldRenderIAB.apply(this,arguments);var r=this.creative,i=r.adMode;t.PageManager.fallbackMode||\"mobilePull\"!==i&&\"mobileSlider\"!==i?(t.PageManagerObject._oldOpenCreative=t.PageManagerObject.prototype._openCreative,t.PageManagerObject.prototype._openCreative=function(){var e=this,a=e.creativeGroup;return t.PageManagerObject._oldOpenCreative.apply(e,arguments)?o.expand(a.width(),a.height()):!1}):(t.Creative._oldCreativeRenderViewMobilePull=t.Creative.prototype.renderView,t.Creative.prototype.renderView=function(e){var a=this,o=a.bannerGroup,r=a.creativeGroup,n=Math.max(o.width(),r.width());a.swipeableDirection&&e.addClass(\"swipeable-\"+a.swipeableDirection),a.positionHorizontal&&e.addClass(\"position-horizontal-\"+a.positionHorizontal),a.positionVertical&&e.addClass(\"position-vertical-\"+a.positionVertical),\"mobilePull\"===i&&a.dom.css(\"margin-left\",-n/2+\"px\"),t.Creative._oldCreativeRenderViewMobilePull.apply(a,arguments)},t.Creative.prototype.centerOnPage=function(a,o){var r=this,n=e.innerWidth,l=e.innerHeight,p=t.PageManager.bannerGroup,s=t.PageManager.creativeGroup,d=p.width(),u=p.height(),c=s.width(),g=s.height(),v=r.dom,P=0,b=0;\"mobilePull\"===i?(a=Math.max(d,c),b=Math.max(n/2-a/2,0)):\"mobileSlider\"===i&&(o=Math.max(u,g),P=Math.max(l/2-o/2,0)),v.css(\"top\",P+\"px\"),v.css(\"left\",b+\"px\")},t.PageManagerObject._oldSetupMobilePull=t.PageManagerObject.prototype.setup,t.PageManagerObject.prototype.setup=function(){var e=this,a=e.bannerGroup,o=e.creativeGroup;t.PageManagerObject._oldSetupMobilePull.apply(e,arguments),e.prependCreativeToDom(a,o)},t.PageManagerObject._oldOpenCreativeMobilePull=t.PageManagerObject.prototype._openCreative,t.PageManagerObject.prototype._openCreative=function(){var e=this,a=e.bannerGroup.width(),r=e.bannerGroup.height(),n=e.creativeGroup.width(),l=e.creativeGroup.height(),p=Math.max(a,n),s=r+l;return\"mobilePull\"===i?(p=Math.max(a,n),s=r+l):\"mobileSlider\"===i&&(p=a+n,s=Math.max(r,l)),t.PageManagerObject._oldOpenCreativeMobilePull.apply(e,arguments)?o.expand(p,s):!1},t.PageManagerObject._oldExpandToGroupMobilePull=t.PageManagerObject.prototype.expandToGroup,t.PageManagerObject.prototype.expandToGroup=function(){var e;return t.PageManager._switchPageFromExpandCollapse=!0,e=t.PageManagerObject._oldExpandToGroupMobilePull.apply(this,arguments),t.PageManager._switchPageFromExpandCollapse=!1,e},t.PageManagerObject._oldCollapseToGroupMobilePull=t.PageManagerObject.prototype.collapseToGroup,t.PageManagerObject.prototype.collapseToGroup=function(){var e;return t.PageManager._switchPageFromExpandCollapse=!0,e=t.PageManagerObject._oldCollapseToGroupMobilePull.apply(this,arguments),t.PageManager._switchPageFromExpandCollapse=!1,e},t.PageManagerObject.prototype.prependCreativeToDom=function(e,a){a.show(),a.pages.length>0&&a.prependCreativeToDom(a.pages[0])},t.PageManagerObject.prototype.hideGroupAfterUnload=a,t.PageManagerObject.prototype.resizeCreativeViewFromGroup=function(){var e,a,t=this,o=t.spire,r=t.bannerGroup,n=t.creativeGroup,l=o.dom,p=r.width(),s=r.height(),d=n.width(),u=n.height();\"mobilePull\"===i?(e=Math.max(p,d),a=s+u):\"mobileSlider\"===i&&(e=p+d,a=Math.max(s,u)),l.css(\"width\",e+\"px\"),l.css(\"height\",a+\"px\")},t.PageGroup.prototype.prependCreativeToDom=function(e){var a=this;return e&&e instanceof t.Page?(a.createOverlay(),e.set(\"canInteract\",!1),e.isRendered||e.render(),void a.dom.appendChild(e.element())):void t.log.error(\"trying to switch to an erroneous page\",e)},t.PageGroup._oldUpdateDimensions=t.PageGroup.prototype.updateDimensions,t.PageGroup.prototype.updateDimensions=function(e){var a=this;t.Spire.creative.isResponsive?\"mobilePull\"===i?(this.css(\"width\",\"100%\"),this.css(\"height\",e.height)):\"mobileSlider\"===i&&(this.css(\"width\",e.width),this.css(\"height\",\"100%\")):t.PageGroup._oldUpdateDimensions.apply(a,arguments)},t.PageGroup._oldTransitionPageMobilePull=t.PageGroup.prototype.transitionPage,t.PageGroup.prototype.transitionPage=function(e,a){var o=this,r=e.dom,i=t.PageManager.currentGroup.pages[0];e===i&&null===o.currentPage?(r.show(),\"function\"==typeof a&&a()):t.PageGroup._oldTransitionPageMobilePull.apply(o,arguments)},t.PageGroup._oldUnloadCreativeViewMobilePull=t.PageGroup.prototype.unloadCreativeView,t.PageGroup.prototype.unloadCreativeView=function(){var e=this,a=e.pages[0],o=e.currentPage;t.PageGroup._oldUnloadCreativeViewMobilePull.apply(e,arguments),\"interstitial\"===e.format&&o!==a&&setTimeout(function(){o.hide(),a.show()},250)},t.Stage._oldUnloadUpdateStylesMobilePull=t.Stage.updateStyles,t.Stage.updateStyles=function(){arguments[0]=\"transparent\",t.Stage._oldUnloadUpdateStylesMobilePull.apply(this,arguments)},t.PageGroup.prototype.collapsible=a,t.PageGroup._oldDetachPageFromPageGroupMobilePull=t.PageGroup.prototype.detachPageFromPageGroup,t.PageGroup.prototype.detachPageFromPageGroup=function(e){t.PageManager._switchPageFromExpandCollapse||e.hide()})},e.IframeControllerAPI={expand:function(){t.PageManager.openCreative()},collapse:function(){t.PageManager.closeCreative()},showOverlay:function(){t.PageManager.bannerGroup.showOverlay()},hideOverlay:function(){t.PageManager.bannerGroup.hideOverlay()}}}(window,document,MS),beat.milestone(\"c.parse\");var _buildBM=MS.Benchmark.begin(\"c.build\");MS.CreativeBuilder.build(MS.mixin({json:MOBSPIRE_JSON},MOBSPIRE_CONFIG),window.MOBSPIRE_TAG_OPTIONS),_buildBM.end(),beat.milestone(\"c.build\");var readyCalled=!1,ready=function(){if(!readyCalled){readyCalled=!0;var e=MS.Benchmark.begin(\"c.render\");if(MS.Spire.render(),e.end(),beat.milestone(\"c.render\"),beat.trackRendered(),MS.Device.androidChrome){var a=document.createTextNode(\"a\"),t=MS.$(\"mobspire-advert\"),o=t.style.display;t.appendChild(a),t.style.display=\"none\",setTimeout(function(){a.parentNode.removeChild(a),t.style.display=o},10)}var r=MS.Spire.creative,i=document.body;if(\"vast\"===r.format){r.centerOnPage=function(e,a){var t,o=window.innerWidth,r=this.dom,i=100;t=Math.max(o/2-e/2,0),r.css(\"left\",t+\"px\"),r.css(\"top\",i+\"px\")}.bind(r),r.centerOnPage();var n=r.companionGroup.pages,l=r.creativeGroup.pages[0].widgets[0].json.video,p=320/(l.sourceWidth>l.sourceHeight?l.sourceWidth:l.sourceHeight),s='<div style=\"position:absolute;bottom:0;right:0;left:0;top:430px;overflow:scroll;background:rgba(233,233,233,0.6);\"><div id=\"companion-group\" style=\"left:50%;transform: translate3d(-50%, 0, 0)\"></div></div>';i.insertAdjacentHTML(\"beforeend\",s);var d=MS.$(\"companion-group\");d.css(\"zoom\",p),n.forEach(function(e){e.layout.scale=p;var a=e.render().cloneNode(!0);a.css(\"margin\",5/p+\"px auto\"),a.css(\"position\",\"relative\"),d.appendChild(a)})}if(\"native\"===r.json._cacheRealFormat){var u='<div class=\"preview-note\">NOTE: Final native ad styling/elements are controlled by placement they serve to. The below represents image and text elements only. </div>';i.insertAdjacentHTML(\"beforeend\",u)}}};\"complete\"==document.readyState?ready():(document.addEventListener(\"DOMContentLoaded\",ready,!1),window.onload=ready);\n\n\n        </script></body></html>", trackingKey = '598a515338222d8ada83c0bbbef70de8', creativeConfig = {"closeButtonPosition": "topRight", "studioVersion": "3.3.190", "orientation": "portrait", "name": "300x250 Amica", "format": "banner", "variantType": "Variant.Creative", "banner": 2, "closeButtonShow": true, "screenColor": "transparent", "id": 1, "adMode": "standard", "static": 0, "variants": [], "type": "Creative", "spearVersion": "1.5.158", "closeButtonDelay": 0}; !function(e,t){"use strict";function i(){return{iframe:null,iframeContainerDiv:null,fakeElement:null,topIframe:null,topWindow:null,adMode:"standard",trackingKey:"",uniqueTrackingKey:"",topIframeInitialStyles:"",beforeExpandIframeStyles:"",beforeExpandTopIframeStyles:"",beforeExpandIframeContainerDivStyles:"",adSettings:{beatParams:{},creativeConfig:{},primaryGroupConfig:{},secondaryGroupConfig:{},isExpanded:!1,isFullscreen:!1,isResponsive:!1,isFallbackMode:!1,primaryWidth:1,primaryHeight:1,secondaryWidth:1,secondaryHeight:1,primaryMinWidth:"0px",primaryMinHeight:"0px",primaryMaxWidth:"auto",primaryMaxHeight:"auto",secondaryMinWidth:"0px",secondaryMinHeight:"0px",secondaryMaxWidth:"auto",secondaryMaxHeight:"auto",positionHorizontal:"center",swipeableDirection:"up",positionVertical:"bottom",expansionMode:"pushContentDown"},timers:{},otherTags:{},device:{},browser:{},showAd:function(e,t){var i,a,o,s,l=this,d=l.adSettings;l.trackingKey=n,l.uniqueTrackingKey=r,l.name=t.name||"",l.adMode=t.adMode||"standard",l.adFormat=t.format||"interstitial",i=d.beatParams=l._getNeededBeatParams(),d.expansionMode=i.expansionMode||t.expansionMode||"pushContentDown",d.isFullscreen=!!i.fullscreen||"fullscreen"===d.expansionMode,d.isResponsive=!!t.isResponsive&&"standard"===t.adMode,d.creativeConfig=t,l._setOtherTags(),l._setTopIframeAndWindow(),l._createIframe(function(){a=l._buildHook(),o=l.iframe.contentDocument,s=l.iframe.contentWindow,o.open(),s.MWAPI=a,o.MWAPI=a,o.write(e),o.close()})},hideAd:function(){var e=this,t=e.iframeContainerDiv.style;try{e.setStyle(t,{display:"none",width:"0px",height:"0px",position:"",top:"",right:"",bottom:"",left:"","-webkit-transform":"","-ms-transform":"",transform:""},!0)}catch(t){return e._errorLogging(t),!1}return!0},_createIframe:function(e){if("function"!=typeof e)return void this._errorLogging("Iframe does not created. missing argument callback.");var i,n,r,a,o,s=this,l=s.adMode,d=s.topIframe,p=s.adSettings,c=p.isResponsive,f=p.expansionMode,m=s.iframe=t.createElement("iframe"),u=m.style,h=s.iframeContainerDiv=t.createElement("div"),g=h.style,y=s.uniqueTrackingKey,x="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",v=s._getDocument,b=s._getWindow;if(null!==d&&(o=d.style,s.topIframeInitialStyles=o.cssText),m.addEventListener("load",e,!1),s.setAttribute(m,{id:"aarki_iframe_"+y,scrolling:"no",webkitallowfullscreen:"webkitallowfullscreen",mozallowfullscreen:"mozallowfullscreen",allowfullscreen:"allowfullscreen",allowTransparency:"true"}),s.setStyle(u,{width:"100%",height:"100%",border:"0px none"}),h.setAttribute("id","aarki_div_"+y),s.setStyle(g,{display:"inline-block",width:"1px",height:"1px",border:"0px none",float:"none",background:"transparent",overflow:"visible","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"0px","padding-top":"0px","padding-right":"0px","padding-bottom":"0px","padding-left":"0px","z-index":999909},!0),h.appendChild(m),i=s._getAarkiTagScript(),null===d||"standard"===l&&"overContent"!==f)a=h;else{d.parentNode.insertBefore(h,d),d.style.display="none",a=s.fakeElement=t.createElement("img"),a.src=x;var w=setInterval(function(){d.style.display="none"},100);setTimeout(function(){clearInterval(w)},1e3)}if(null===v.body)b.addEventListener("load",function(){s.setStyle(v.body.style,{margin:"0px"},!0),v.body.appendChild(a)},!1);else{if(c&&0===v.body.offsetHeight){var S={width:"100%",height:"100%"};""===v.body.style.margin&&(S.margin="0px"),s.setStyle(v.body.style,S),s.setStyle(v.documentElement.style,{width:"100%",height:"100%"})}y&&i?i.parentNode.insertBefore(a,i):(n=v.querySelectorAll("script"),r=n[n.length-1],r.parentNode.insertBefore(a,r))}},_removeIframe:function(){var e=this,t=e.iframeContainerDiv,i=t.parentNode,n=e.topIframe;return n&&(n.style.cssText=e.topIframeInitialStyles),i?(i.removeChild(t),!0):!1},_buildHook:function(){var e=this;return{iframe:e.iframe,_getAarkiTagScript:e._getAarkiTagScript(),setup:function(t,i,n){return e.setup(t,i,n)},expand:function(t,i){return e.expand(t,i)},collapse:function(){return e.collapse()},hideAd:function(){return e.hideAd()},_removeIframe:function(){return e._removeIframe()}}},setup:function(e,t,i){if("object"!=typeof e)return!1;t=t||{},i=i===!0;var n,r,a,o,s=this,l=s.adMode,d=s.iframe,p=s.topIframe,c=s.fakeElement,f=d.contentWindow,m=s.adSettings,u=m.isResponsive,h=s.iframeContainerDiv;if(s.device=f.MS.Device,s.browser=f.MS.Browser,s.iframeController=f.IframeControllerAPI,m.primaryGroupConfig=e,m.secondaryGroupConfig=t,m.primaryWidth=e.width||1,m.primaryHeight=e.height||1,m.secondaryWidth=t.width||1,m.secondaryHeight=t.height||1,i&&(m.isFallbackMode=!0,l="adhesion"===l||"mobilePull"===l||"mobileSlider"===l?s.adMode="adhesion":s.adMode="standard",m.isFullscreen=!1,u=m.isResponsive=!1,"fullscreen"===m.expansionMode&&(m.expansionMode="pushContentDown")),u)n=s._setupResponsive();else switch(l){default:case"standard":l=s.adMode="standard",n=s._setupStandard();break;case"adhesion":n=s._setupAdhesive();break;case"mobilePull":n=s._setupSwipeable();break;case"mobileSlider":n=s._setupSwipeable()}return r=n.iframeStyle,o=n.topIframeStyle,a=n.iframeContainerDivStyle,s.setStyle(d.style,r),null!==p&&s.setStyle(p.style,o,!0),s.setStyle(h.style,a,!0),null!==c&&s.setStyle(c.style,{width:m.primaryWidth+"px",height:m.primaryHeight+"px"}),!0},_setupStandard:function(){var e=this,t=e.adFormat,i=e.topIframe,n=e.adSettings,r=n.isFullscreen,a=n.primaryWidth,o=n.primaryHeight,s={},l={},d={};if(s.width=a+"px",s.height=o+"px",l.position="relative",l.width=a+"px",l.height=o+"px",r&&"interstitial"===t){var p={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",width:"100%",height:"100%","z-index":999999};null!==i&&(d=p),s=p,l=p}else null!==i&&(d.width=a+"px",d.height=o+"px");return{iframeStyle:s,topIframeStyle:d,iframeContainerDivStyle:l}},_setupResponsive:function(){var e=this,t=e.topIframe,i=e.adSettings,n=i.isFullscreen,r=e.iframeContainerDiv,a=n&&"interstitial"===e.adFormat,o=i.primaryGroupConfig,s=i.secondaryGroupConfig,l=o.minWidth||null,d=o.minHeight||null,p=o.maxWidth||null,c=o.maxHeight||null,f=s.minWidth||null,m=s.minHeight||null,u=s.maxWidth||null,h=s.maxHeight||null,g=r.parentNode.style,y={},x={},v={};if(l=a||null===l?"0px":l+"px",d=a||null===d?"0px":d+"px",p=a||null===p?"auto":p+"px",c=a||null===c?"auto":c+"px",f=a||null===f?"0px":f+"px",m=a||null===m?"0px":m+"px",u=a||null===u?"auto":u+"px",h=a||null===h?"auto":h+"px",i.primaryMinWidth=l,i.primaryMinHeight=d,i.primaryMaxWidth=p,i.primaryMaxHeight=c,i.secondaryMinWidth=f,i.secondaryMinHeight=m,i.secondaryMaxWidth=u,i.secondaryMaxHeight=h,y["min-width"]=l,y["min-height"]=d,y["max-width"]=p,y["max-height"]=c,x["min-width"]=l,x["min-height"]=d,x["max-width"]=p,x["max-height"]=c,x.position="absolute",x.top="50%",x.left="50%",x["-webkit-transform"]="translate(-50%, -50%)",x["-ms-transform"]="translate(-50%, -50%)",x.transform="translate(-50%, -50%)",(""===g.position||"static"===g.position)&&e.setStyle(g,{position:"relative"}),e._getWindowSelf!==e._getWindowTop&&(e.device.isAndroid&&!e.device.isAndroidChrome?e.setStyle(r.ownerDocument.body.style,{margin:"0"},!0):x.position="fixed"),a){var b={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",width:"100%",height:"100%","z-index":999999};null!==t&&(v=b),y=b,x=b}else x.width="100%",x.height="100%";return{iframeStyle:y,topIframeStyle:v,iframeContainerDivStyle:x}},_allowHideOnScroll:!0,_setupAdhesive:function(){function e(e){s.scroll&&clearTimeout(s.scroll),s.scroll=setTimeout(n,e||150)}function t(){s.orientationChangeScroll&&clearTimeout(s.orientationChangeScroll),s.orientationChangeScroll=setTimeout(function(){s.orientationChangeScrollInterval&&clearInterval(s.orientationChangeScrollInterval),s.orientationChangeScrollInterval=setInterval(function(){o.setStyle(h,{opacity:.99},!0),setTimeout(function(){o.setStyle(h,{opacity:1},!0)},1)},200)},2e3)}function i(){o._allowHideOnScroll&&o.setStyle(h,{display:"none"},!0)}function n(){o.setStyle(h,{display:"block"},!0)}var r,a,o=this,s=o.timers,l=o.iframe,d=o.adSettings,p=d.primaryWidth,c=d.primaryHeight,f=d.creativeConfig,m=l.contentWindow,u=o.iframeContainerDiv,h=u.style,g=m.MS.Device.isAndroid,y=m.MS.Device.isAndroidChrome,x=d.positionHorizontal=f.positionHorizontal||"center",v=d.positionVertical=f.positionVertical||"bottom",b={},w={},S={};switch(null!==o.topIframe?(r=o.topIframe,a=o.topWindow):(r=o._getDocument,a=o._getWindow),b.display="block",b.width=p+"px",b.height=c+"px",b.position="absolute",b["z-index"]=999959,w.width=p+"px",w.height=c+"px",w.position="fixed",w["z-index"]=999959,"bottom"===v?(b.bottom="0px",w.bottom="0px"):(b.top="0px",w.top="0px"),x){case"center":b.left="0px",w.left="50%",w["margin-left"]=-parseInt(p)/2+"px";break;case"left":b.left="0px",w.left="0px";break;case"right":b.right="0px",w.right="0px"}return o._canTouch?g&&!y?(r.addEventListener("touchmove",function(t){t.target!==l&&(i(),e(500))},!0),r.addEventListener("scroll",function(t){t.target!==l&&(i(),e(250))},!0)):(r.addEventListener("touchmove",function(e){e.target!==l&&i()},!0),r.addEventListener("touchend",function(t){t.target!==l&&e()},!0),r.addEventListener("scroll",function(t){t.target!==l&&(i(),e())},!0)):r.addEventListener("scroll",function(t){t.target!==l&&(i(),e())},!0),("onorientationchange"in a||"orientationchange"in a)&&a.addEventListener("orientationchange",t,!0),a.addEventListener("resize",t,!0),{iframeStyle:b,topIframeStyle:S,iframeContainerDivStyle:w}},_positionName:"bottom",_setupSwipeable:function(){function e(e){e.touches&&(e=e.touches[0]),z=L="mobilePull"===h?e.screenY:e.screenX,P=!0,O=null,c={},m._allowHideOnScroll=!1}function t(e){if(e.touches&&(e=e.touches[0]),null!==L){switch(H){case"up":d=e.screenY,s=L-d,l=z-d;break;case"right":d=e.screenX,s=d-L,l=d-z;break;case"down":d=e.screenY,s=d-L,l=d-z;break;case"left":d=e.screenX,s=L-d,l=z-d}g.isExpanded&&(l=-l),0>l&&(z=d),n=s+parseInt(A[r]),L=d,O=Math.abs(l),O>5&&!C.isSwitchingPage&&(a=p>n?p:n>0?0:n,c[r]=a+"px",m.setStyle(A,c,!0),P&&l>5&&(P=!1,m.iframeController.showOverlay(),m._swipeableResize(!1),m._forEachOtherTags(function(e){m.setStyle(e.iframeContainerDiv.style,{"pointer-events":"none"},!0)})))}}function i(){null!==L&&(O>5?(o=parseInt(A[r])-p/2,0>o?(g.isExpanded?m.iframeController.collapse():m._swipeablePositionAnimate(!0),m._allowHideOnScroll=!0):(g.isExpanded?m._swipeablePositionAnimate(!1):m.iframeController.expand(),m._allowHideOnScroll=!1)):g.isExpanded||(m._allowHideOnScroll=!0),m._forEachOtherTags(function(e){m.setStyle(e.iframeContainerDiv.style,{"pointer-events":""},!0)}),P=!0,z=null,L=null,O=null)}var n,r,a,o,s,l,d,p,c,f,m=this,u=m.iframe,h=m.adMode,g=m.adSettings,y=g.primaryWidth,x=g.primaryHeight,v=g.secondaryWidth,b=g.secondaryHeight,w=u.ownerDocument,S=u.contentWindow,_=u.contentDocument,T=g.creativeConfig,I=S.MS,C=I.PageManager.bannerGroup,W=m.iframeContainerDiv,A=W.style,M=m._setupAdhesive(),E=M.iframeStyle,k=M.topIframeStyle,D=M.iframeContainerDivStyle,H=g.swipeableDirection=T.swipeableDirection||"up",P=!0,z=null,L=null,O=null;switch(f=null!==m.topIframe?m.topWindow:m._getWindow,H){case"up":p=-b,r=m._positionName="bottom";break;case"right":p=-v,r=m._positionName="left";break;case"down":p=-b,r=m._positionName="top";break;case"left":p=-v,r=m._positionName="right"}return E[r]="0px",D[r]=p+"px","mobilePull"===h?(E.height=x+b+"px",D.height=x+b+"px"):(E.width=y+v+"px",D.width=y+v+"px"),setTimeout(function(){var n="mousedown",r="mousemove",a="mouseup";m._canTouch&&(n="touchstart",r="touchmove",a="touchend"),C.dom.addEventListener(n,e,!0),_.addEventListener(r,t,!0),w.addEventListener(r,t,!0),_.addEventListener(a,i,!0),w.addEventListener(a,i,!0),("onorientationchange"in f||"orientationchange"in f)&&f.addEventListener("orientationchange",i,!0),f.addEventListener("resize",i,!0)},1),{iframeStyle:E,topIframeStyle:k,iframeContainerDivStyle:D}},expand:function(e,t){var i,n,r,a,o,s=this,l=s.adMode,d=s.timers,p=s.iframe,c=p.style,f=s.topIframe,m=s.adSettings,u=m.isResponsive,h=s.iframeContainerDiv,g=h.style;if(m.isExpanded)return!1;if(m.isExpanded=!0,s.beforeExpandIframeStyles=c.cssText,f&&(i=f.style,s.beforeExpandTopIframeStyles=i.cssText),s.beforeExpandIframeContainerDivStyles=g.cssText,u)o=s._expandResponsive();else switch(l){case"standard":o=s._expandStandard(e,t);break;case"adhesion":o=s._expandAdhesive(e,t);break;case"mobilePull":o=s._expandSwipeable();break;case"mobileSlider":o=s._expandSwipeable()}return n=o.iframeStyle,r=o.topIframeStyle,a=o.iframeContainerDivStyle,s.setStyle(p.style,n),null!==f&&s.setStyle(f.style,r,!0),s.setStyle(h.style,a,!0),"adhesion"!==l&&"mobilePull"!==l&&"mobileSlider"!==l||!s.device.isIOS||(d.expandTimer&&(clearTimeout(d.expandTimer),d.expandTimer=null),d.expandInterval=setInterval(function(){s.setStyle(g,{opacity:.99},!0),setTimeout(function(){s.setStyle(g,{opacity:1},!0)},1)},1e3/60),d.expandTimer=setTimeout(function(){clearInterval(d.expandInterval),d.expandInterval=null},3e3)),!0},_expandStandard:function(e,t){var i=this,n=e,r=t,a=i.topIframe,o=i.adSettings,s=o.isFullscreen,l=o.expansionMode,d={},p={},c={};if(d.width=n+"px",d.height=r+"px",p.position="relative",p["z-index"]=999919,"overContent"!==l?(p.width=n+"px",p.height=r+"px"):(d.position="absolute",d.top="0px",d.left="0px"),s){var f={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",width:"100%",height:"100%","z-index":999999};null!==a&&(c=f),d=f,p=f}else null!==a&&(c.width=n+"px",c.height=r+"px");return{iframeStyle:d,topIframeStyle:c,iframeContainerDivStyle:p}},_expandResponsive:function(){var e=this,t=e.topIframe,i=e.adSettings,n=i.isFullscreen,r=i.secondaryMinWidth,a=i.secondaryMinHeight,o=i.secondaryMaxWidth,s=i.secondaryMaxHeight,l={},d={},p={};if(l["min-width"]=r,l["min-height"]=a,l["max-width"]=o,l["max-height"]=s,d["min-width"]=r,d["min-height"]=a,d["max-width"]=o,d["max-height"]=s,n){var c={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",width:"100%",height:"100%","-webkit-transform":"none","-ms-transform":"none",transform:"none","z-index":999999};null!==t&&(p=c),l=c,d=c}else d.width="100%",d.height="100%",d.position="absolute",d.top="50%",d.left="50%",d["-webkit-transform"]="translate(-50%, -50%)",d["-ms-transform"]="translate(-50%, -50%)",d.transform="translate(-50%, -50%)";return e._getWindowSelf!==e._getWindowTop&&(!e.device.isAndroid||e.device.isAndroidChrome)&&(d.position="fixed"),{iframeStyle:l,topIframeStyle:p,iframeContainerDivStyle:d}},_expandAdhesive:function(e,t){var i=this,n=e,r=t,a=i.adSettings,o=a.isFullscreen,s={},l={},d={};if(i._allowHideOnScroll=!1,s.width=n+"px",s.height=r+"px",l.width=n+"px",l.height=r+"px",o){var p={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",width:"100%",height:"100%","margin-left":"0px","z-index":999999};s=p,l=p}else"center"===a.positionHorizontal&&(l["margin-left"]=-n/2+"px");return{iframeStyle:s,topIframeStyle:d,iframeContainerDivStyle:l}},_expandSwipeable:function(){var e=this,t={},i={},n={};return e._swipeablePositionAnimate(!1),e._allowHideOnScroll=!1,{iframeStyle:t,topIframeStyle:n,iframeContainerDivStyle:i}},_swipeablePositionAnimate:function(e){e=!!e;var t,i=this,n=i.adMode,r=i.timers,a=i.adSettings,o=i.iframeContainerDiv.style,s=a.secondaryGroupConfig,l=s.width,d=s.height,p=i._positionName,c=p+" 0.25s cubic-bezier(0.645, 0.045, 0.355, 1.000)",f={};t="mobilePull"===n?d:l,i.setStyle(o,{"-webkit-transition":c,transition:c},!0),e?f[p]=-t+"px":f[p]="0px",i.setStyle(o,f,!0),i._swipeableResize(e),r.swipeablePositionAnimateTimer&&(clearTimeout(r.swipeablePositionAnimateTimer),r.swipeablePositionAnimateTimer=null),r.swipeablePositionAnimateTimer=setTimeout(function(){a.isExpanded||i.iframeController.hideOverlay(),i.setStyle(o,{"-webkit-transition":"initial",transition:"initial"},!0)},250)},_swipeableResize:function(e){e=!!e;var t,i,n,r,a,o,s=this,l=s.adMode,d=s.timers,p=s.adSettings,c=p.isResponsive,f=p.positionHorizontal,m=p.primaryWidth,u=p.primaryHeight,h=p.secondaryWidth,g=p.secondaryHeight,y=1,x=0,v={},b={};c||("mobilePull"===l?(t=m,i=h,r="width",a="margin-left"):(t=u,i=g,r="height",a="margin-top"),e?(y=250,n=t,o=999959):(n=Math.max(t,i),o=999969),"mobilePull"===l&&"center"===f&&(x=-parseInt(n)/2),v[r]=n+"px",v[a]=x+"px",v["z-index"]=o,b[r]=n+"px",d.swipeableResizeTimer&&(clearTimeout(d.swipeableResizeTimer),d.swipeableResizeTimer=null),d.swipeableResizeTimer=setTimeout(function(){s.setStyle(s.iframe.style,b),s.setStyle(s.iframeContainerDiv.style,v,!0)},y))},collapse:function(){var e=this,t=e.adMode,i=e.iframe,n=e.topIframe,r=e.iframeContainerDiv,a=r.style;return e.adSettings.isExpanded?(e.adSettings.isExpanded=!1,i.style.cssText=e.beforeExpandIframeStyles,n&&(n.style.cssText=e.beforeExpandTopIframeStyles),a.cssText=e.beforeExpandIframeContainerDivStyles,("adhesion"===t||"mobilePull"===t||"mobileSlider"===t)&&(e._allowHideOnScroll=!0,"adhesion"!==t&&e._swipeablePositionAnimate(!0)),!0):!1},_setTopIframeAndWindow:function(){var e,t,i,n,r,a=this,o=null,s=a._getWindow,l=0;for(a.topIframe=o,a.topWindow=s;;){if(100===++l)break;if(s===s.top)return a.topIframe=o,a.topWindow=s,!0;e=s,s=s.parent;try{if(void 0===s.document)break;n=s.document.getElementsByTagName("iframe")}catch(t){return a._errorLogging(t),a.topIframe=o,a.topWindow=e,!1}for(r=n.length,i=0;r>i;++i){t=n[i];try{if(t.contentWindow===e){a.topIframe=o=t;break}}catch(e){}}}return!0},_setOtherTags:function(){var e,t=this,i=a.WebTag.tags,n=t.uniqueTrackingKey;for(e in i)i.hasOwnProperty(e)&&e!=="aarki_"+n&&(t.otherTags[e]=i[e]);return t.otherTags},_forEachOtherTags:function(e){var t=this;if("function"==typeof e){var i,n=t.otherTags;for(i in n)n.hasOwnProperty(i)&&e(n[i])}else t._errorLogging(e+" is not a function")},_errorLogging:function(e){"string"==typeof e&&(e=new Error(e));try{this.iframe.contentWindow.MS.ExceptionManager.error(e)}catch(t){this._getWindow.console.info("%c[MWAPI]","color: red;",e)}},setStyle:function(e,t,i){i=!!i;var n=this,r="",a=function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})};if(void 0===e&&null===e||"object"!=typeof t||t instanceof Array)n._errorLogging("Error applying styles: missing required parameter/s");else{i&&(r="important");for(var o in t)if(t.hasOwnProperty(o))if("number"==typeof t[o]||"string"==typeof t[o]){var s=t[o].toString();if("setProperty"in e)e.setProperty(o,s,r);else{var l=a(o);e[l]=s}}else n._errorLogging("Error applying style for: "+o)}},setAttribute:function(e,t){if(void 0===e||null===e||"object"!=typeof t||t instanceof Array)this._errorLogging("Error applying arguments: missing required parameter/s");else for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])},_getWindow:function(){return e}(),_getWindowTop:function(){return e.top}(),_getWindowSelf:function(){return e.self}(),_getDocument:function(){return t}(),_getAarkiTagScript:function(){var e,t=this._getDocument,i=this.trackingKey,n=(a.WebTag.tagDuplicatesCount[i]||1)-1;return e=t.querySelectorAll("#mobspire-ad-tag_"+i)[n]||t.querySelectorAll("#mobspire-ad-tag")[n]},_neededBeatParams:["fullscreen","expansion_mode"],_getNeededBeatParams:function(){var e,t=this,i={},n=t._getAarkiTagScript(),r=n?n.src:null,a=function(e){return e.replace(/_(.)/g,function(e,t){return t.toUpperCase()})};if(r&&r.indexOf("?")>0){r=r.substring(r.indexOf("?")+1).split("#")[0],r=r.toLowerCase(),e=r.split("&");for(var o=0;o<e.length;++o){var s=e[o].split("="),l=s[0],d=s[1];s.length>=1&&t._neededBeatParams.indexOf(l)>-1&&(d&&(d=a(decodeURIComponent(d))),"y"===d?d=!0:"n"===d&&(d=!1),i[a(l)]=d)}}return i},_canTouch:function(){return!!("ontouchstart"in e)||!!("onmsgesturechange"in e)&&-1!==e.navigator.userAgent.search("Windows Phone")}()}}var n,r,a=e.MS=e.MS||{};a.WebTag=a.WebTag||{},a.WebTag.tagDuplicatesCount=a.WebTag.tagDuplicatesCount||{},a.WebTag.tags=a.WebTag.tags||{},a.WebTag.init=function(e){if("string"!=typeof e)throw"WebTag initialisation failed. :(";return n=e,a.WebTag.tagDuplicatesCount[n]=(a.WebTag.tagDuplicatesCount[n]||0)+1,r=n+"_"+a.WebTag.tagDuplicatesCount[n],a.WebTag.tags["aarki_"+r]=new i,a.WebTag.tags["aarki_"+r]},a.WebTag.show=function(e,t){if("string"!=typeof e||"object"!=typeof t)throw"WebTag initialisation failed. :(";a.WebTag.tags["aarki_"+r].showAd(e,t)},i.construtor=i}(window,document);
 MS.WebTag.init(trackingKey); MS.WebTag.show(html, creativeConfig); })(); 