function getBuildInfo(){return"version:10.69.1 build:UNKNOWN date:2018-7-18 16:59:47"}function initMoatTrackingLegacy(a,b,c,d,e){var f=document.createElement("script"),g=[];b={adData:{ids:b,duration:c,url:e},dispatchEvent:function(a){this.sendEvent?(g&&(g.push(a),a=g,g=!1),this.sendEvent(a)):g.push(a)}},c="_moatApi"+Math.floor(1e8*Math.random());var h,i;try{h=a.ownerDocument,i=h.defaultView||h.parentWindow}catch(a){h=document,i=window}return i[c]=b,f.type="text/javascript",a&&a.insertBefore(f,a.childNodes[0]||null),f.src="https://z.moatads.com/"+d+"/moatvideo.js#"+c,b}!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.OpenVV=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,b){"use strict";function c(a){this.time=a.time,this.target=a.target,this.rootBounds=a.rootBounds,this.boundingClientRect=a.boundingClientRect,this.intersectionRect=a.intersectionRect||k(),this.isIntersecting=!!a.intersectionRect;var b=this.boundingClientRect,c=b.width*b.height,d=this.intersectionRect,e=d.width*d.height;this.intersectionRatio=c?e/c:this.isIntersecting?1:0}function d(a,b){var c=b||{};if("function"!=typeof a)throw new Error("callback must be a function");if(c.root&&1!=c.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=f(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=a,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(c.rootMargin),this.thresholds=this._initThresholds(c.threshold),this.root=c.root||null,this.rootMargin=this._rootMarginValues.map(function(a){return a.value+a.unit}).join(" ")}function e(){return a.performance&&performance.now&&performance.now()}function f(a,b){var c=null;return function(){c||(c=setTimeout(function(){a(),c=null},b))}}function g(a,b,c,d){"function"==typeof a.addEventListener?a.addEventListener(b,c,d||!1):"function"==typeof a.attachEvent&&a.attachEvent("on"+b,c)}function h(a,b,c,d){"function"==typeof a.removeEventListener?a.removeEventListener(b,c,d||!1):"function"==typeof a.detatchEvent&&a.detatchEvent("on"+b,c)}function i(a,b){var c=Math.max(a.top,b.top),d=Math.min(a.bottom,b.bottom),e=Math.max(a.left,b.left),f=Math.min(a.right,b.right),g=f-e,h=d-c;return g>=0&&h>=0&&{top:c,bottom:d,left:e,right:f,width:g,height:h}}function j(a){var b;try{b=a.getBoundingClientRect()}catch(a){}return b?(b.width&&b.height||(b={top:b.top,right:b.right,bottom:b.bottom,left:b.left,width:b.right-b.left,height:b.bottom-b.top}),b):k()}function k(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(a,b){for(var c=b;c;){if(c==a)return!0;c=m(c)}return!1}function m(a){var b=a.parentNode;return b&&11==b.nodeType&&b.host?b.host:b}if(!("IntersectionObserver"in a&&"IntersectionObserverEntry"in a&&"intersectionRatio"in a.IntersectionObserverEntry.prototype)){var n=[];d.prototype.THROTTLE_TIMEOUT=100,d.prototype.POLL_INTERVAL=null,d.prototype.observe=function(a){if(!this._observationTargets.some(function(b){return b.element==a})){if(!a||1!=a.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:a,entry:null}),this._monitorIntersections()}},d.prototype.unobserve=function(a){this._observationTargets=this._observationTargets.filter(function(b){return b.element!=a}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},d.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},d.prototype.takeRecords=function(){var a=this._queuedEntries.slice();return this._queuedEntries=[],a},d.prototype._initThresholds=function(a){var b=a||[0];return Array.isArray(b)||(b=[b]),b.sort().filter(function(a,b,c){if("number"!=typeof a||isNaN(a)||a<0||a>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return a!==c[b-1]})},d.prototype._parseRootMargin=function(a){var b=a||"0px",c=b.split(/\s+/).map(function(a){var b=/^(-?\d*\.?\d+)(px|%)$/.exec(a);if(!b)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(b[1]),unit:b[2]}});return c[1]=c[1]||c[0],c[2]=c[2]||c[0],c[3]=c[3]||c[1],c},d.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this._checkForIntersections(),this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(g(a,"resize",this._checkForIntersections,!0),g(b,"scroll",this._checkForIntersections,!0),"MutationObserver"in a&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(b,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},d.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,h(a,"resize",this._checkForIntersections,!0),h(b,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},d.prototype._checkForIntersections=function(){var a=this._rootIsInDom(),b=a?this._getRootRect():k();this._observationTargets.forEach(function(d){var f=d.element,g=j(f),h=this._rootContainsTarget(f),i=d.entry,k=a&&h&&this._computeTargetAndRootIntersection(f,b),l=d.entry=new c({time:e(),target:f,boundingClientRect:g,rootBounds:b,intersectionRect:k});i?a&&h?this._hasCrossedThreshold(i,l)&&this._queuedEntries.push(l):i&&i.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},d.prototype._computeTargetAndRootIntersection=function(c,d){if("none"!=a.getComputedStyle(c).display){for(var e=j(c),f=e,g=m(c),h=!1;!h;){var k=null,l=1==g.nodeType?a.getComputedStyle(g):{};if("none"==l.display)return;if(g==this.root||g==b?(h=!0,k=d):g!=b.body&&g!=b.documentElement&&"visible"!=l.overflow&&(k=j(g)),k&&!(f=i(k,f)))break;g=m(g)}return f}},d.prototype._getRootRect=function(){var a;if(this.root)a=j(this.root);else{var c=b.documentElement,d=b.body;a={top:0,left:0,right:c.clientWidth||d.clientWidth,width:c.clientWidth||d.clientWidth,bottom:c.clientHeight||d.clientHeight,height:c.clientHeight||d.clientHeight}}return this._expandRectByRootMargin(a)},d.prototype._expandRectByRootMargin=function(a){var b=this._rootMarginValues.map(function(b,c){return"px"==b.unit?b.value:b.value*(c%2?a.width:a.height)/100}),c={top:a.top-b[0],right:a.right+b[1],bottom:a.bottom+b[2],left:a.left-b[3]};return c.width=c.right-c.left,c.height=c.bottom-c.top,c},d.prototype._hasCrossedThreshold=function(a,b){var c=a&&a.isIntersecting?a.intersectionRatio||0:-1,d=b.isIntersecting?b.intersectionRatio||0:-1;if(c!==d)for(var e=0;e<this.thresholds.length;e++){var f=this.thresholds[e];if(f==c||f==d||f<c!=f<d)return!0}},d.prototype._rootIsInDom=function(){return!this.root||l(b,this.root)},d.prototype._rootContainsTarget=function(a){return l(this.root||b,a)},d.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},d.prototype._unregisterInstance=function(){var a=n.indexOf(this);-1!=a&&n.splice(a,1)},a.IntersectionObserver=d,a.IntersectionObserverEntry=c}}(window,document)},{}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=(c.getDetails=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{viewportWidth:Math.max(document.body.clientWidth,window.innerWidth)||-1,viewportHeight:Math.max(document.body.clientHeight,window.innerHeight)||-1,elementWidth:a.clientWidth||-1,elementHeight:a.clientHeight||-1,iframeContext:e(),focus:d()}},c.isInFocus=function(){return("undefined"===document.hidden||!0!==document.hidden)&&(e()===f.CROSS_DOMAIN_IFRAME||(!window.document.hasFocus||window.top.document.hasFocus()))}),e=c.iFrameContext=function(){try{if(window.top===window)return f.ON_PAGE;for(var a=window;a.parent!==a;){if(a.parent.document.domain!==a.document.domain)return f.CROSS_DOMAIN_IFRAME;a=a.parent}f.SAME_DOMAIN_IFRAME}catch(a){return f.CROSS_DOMAIN_IFRAME}},f=c.iFrameServingScenarios={ON_PAGE:"on page",SAME_DOMAIN_IFRAME:"same domain iframe",CROSS_DOMAIN_IFRAME:"cross domain iframe"}},{}],3:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.validateStrategy=c.validateCriteria=c.validElement=c.validTechnique=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=a("../Measurement/MeasurementTechniques/BaseTechnique"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=(c.validTechnique=function(a){return"function"==typeof a&&Object.getOwnPropertyNames(f.default).reduce(function(b,c){return c&&d(a[b])===d(f.default[b])},!0)},c.validElement=function(a){return a&&a.toString().indexOf("Element")>-1},c.validateCriteria=function(a){var b=a.inViewThreshold,c=a.timeInView,d=!1,e=[];return("number"!=typeof b||b>1)&&(d=!0,e.push("inViewThreshold must be a number equal to or less than 1")),("number"!=typeof c||c<0)&&(d=!0,e.push("timeInView must be a number greater to or equal 0")),{invalid:d,reasons:e.join(" | ")}});c.validateStrategy=function(a){var b=a.autostart,c=a.techniques,d=a.criteria,e=!1,f=[];"boolean"!=typeof b&&(e=!0,f.push("autostart must be boolean")),Array.isArray(c)&&0!==c.length||(e=!0,f.push("techniques must be an array containing atleast on measurement techniques"));var h=g(d);return h.invalid&&(e=!0,f.push(h.reasons)),{invalid:e,reasons:f.join(" | ")}}},{"../Measurement/MeasurementTechniques/BaseTechnique":6}],4:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.START="start",c.STOP="stop",c.CHANGE="change",c.COMPLETE="complete",c.UNMEASUREABLE="unmeasureable",c.INVIEW="inview",c.OUTVIEW="outview"},{}],5:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("../Timing/InViewTimer"),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=a("./Strategies/"),k=a("../Helpers/Validators"),l=a("../Environment/Environment"),m=d(l),n=a("./Events"),o=d(n),p=function(){function a(b){var c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,a),this._listeners={start:[],stop:[],change:[],complete:[],unmeasureable:[]},this._element=b,this._strategy=f({},j.DEFAULT_STRATEGY,d),this._criteriaMet=!1;var g=(0,k.validateStrategy)(this._strategy);if(g.invalid)throw g.reasons;this._technique=this._selectTechnique(this._strategy.techniques),this._technique&&this._addSubscriptions(this._technique),this.unmeasureable?setTimeout(function(){return c._publish(o.UNMEASUREABLE,m.getDetails(c._element))},0):this._strategy.autostart&&this._technique.start()}return g(a,[{key:"start",value:function(){this._technique.start()}},{key:"dispose",value:function(){this._technique&&this._technique.dispose(),this.timer&&this.timer.dispose()}},{key:"onViewableStart",value:function(a){return this._addCallback(a,o.START)}},{key:"onViewableStop",value:function(a){return this._addCallback(a,o.STOP)}},{key:"onViewableChange",value:function(a){return this._addCallback(a,o.CHANGE)}},{key:"onViewableComplete",value:function(a){return this._addCallback(a,o.COMPLETE),this.criteriaMet&&this._techniqueChange(o.COMPLETE,this._technique),this}},{key:"onUnmeasureable",value:function(a){return this._addCallback(a,o.UNMEASUREABLE),this.unmeasureable&&this._techniqueChange(o.UNMEASUREABLE),this}},{key:"_selectTechnique",value:function(a){return a.filter(k.validTechnique).map(this._instantiateTechnique.bind(this)).find(function(a){return!a.unmeasureable})}},{key:"_instantiateTechnique",value:function(a){return new a(this._element,this._strategy.criteria)}},{key:"_addSubscriptions",value:function(a){a&&(a.onInView(this._techniqueChange.bind(this,o.INVIEW,a)),a.onChangeView(this._techniqueChange.bind(this,o.CHANGE,a)),a.onOutView(this._techniqueChange.bind(this,o.OUTVIEW,a)))}},{key:"_techniqueChange",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=void 0,d=this._appendEnvironment(b);switch(a){case o.INVIEW:this._criteriaMet||(this.timer=new i.default(this._strategy.criteria.timeInView),this.timer.elapsed(this._timerElapsed.bind(this,b)),this.timer.start(),c=o.START);break;case o.CHANGE:c=a;break;case o.COMPLETE:this._criteriaMet||(this._criteriaMet=!0,c=a);break;case o.OUTVIEW:this._criteriaMet||(this.timer&&(this.timer.stop(),delete this.timer),c=o.STOP);break;case o.UNMEASUREABLE:c=o.UNMEASUREABLE}c&&this._publish(c,d)}},{key:"_publish",value:function(a,b){Array.isArray(this._listeners[a])&&this._listeners[a].forEach(function(a){return a(b)})}},{key:"_timerElapsed",value:function(a){this._techniqueChange(o.COMPLETE,a)}},{key:"_addCallback",value:function(a,b){if(this._listeners[b]&&"function"==typeof a)this._listeners[b].push(a);else if("function"!=typeof a)throw"Callback must be a function";return this}},{key:"_appendEnvironment",value:function(a){return f({},{percentViewable:void 0===a.percentViewable?-1:a.percentViewable,technique:a.techniqueName||-1,viewable:void 0===a.viewable?-1:a.viewable},m.getDetails(this._element))}},{key:"unmeasureable",get:function(){return!this._technique||this._technique.unmeasureable}}]),a}();c.default=p,b.exports=c.default},{"../Environment/Environment":2,"../Helpers/Validators":3,"../Timing/InViewTimer":13,"./Events":4,"./Strategies/":10}],6:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.listeners={inView:[],outView:[],changeView:[]},this.percentViewable=0}return e(a,[{key:"onInView",value:function(a){return this.addCallback(a,"inView")}},{key:"onChangeView",value:function(a){return this.addCallback(a,"changeView")}},{key:"onOutView",value:function(a){return this.addCallback(a,"outView")}},{key:"addCallback",value:function(a,b){if("function"==typeof a&&this.listeners[b])this.listeners[b].push(a);else if("function"!=typeof a)throw"callback must be function";return this}},{key:"start",value:function(){}},{key:"dispose",value:function(){}},{key:"unmeasureable",get:function(){return!1}},{key:"viewable",get:function(){return!1}},{key:"techniqueName",get:function(){return"BaseTechnique"}}]),a}();c.default=f,b.exports=c.default},{}],7:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./BaseTechnique"),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=a("../../Helpers/Validators"),k=a("../Strategies/"),l=function(a){function b(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.DEFAULT_STRATEGY.criteria;d(this,b);var f=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));if(void 0!==c&&a)f.element=a,f.criteria=c,f.inView=!1,f.started=!1,f.notificationLevels=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],-1===f.notificationLevels.indexOf(f.criteria.inViewThreshold)&&f.notificationLevels.push(f.criteria.inViewThreshold);else if(!a)throw"element not provided";return f}return f(b,a),g(b,[{key:"start",value:function(){this.observer=new window.IntersectionObserver(this.viewableChange.bind(this),{threshold:this.notificationLevels}),this.observer.observe(this.element)}},{key:"dispose",value:function(){this.observer&&(this.observer.unobserve(element),this.observer.disconnect(element))}},{key:"viewableChange",value:function(a){a&&a.length&&void 0!==a[0].intersectionRatio&&(this.percentViewable=a[0].intersectionRatio,a[0].intersectionRatio<this.criteria.inViewThreshold&&this.started&&(this.inView=!1,this.listeners.outView.forEach(function(a){return a()})),a[0].intersectionRatio>=this.criteria.inViewThreshold&&(this.started=!0,this.inView=!0,this.listeners.inView.forEach(function(a){return a()})),this.listeners.changeView.forEach(function(a){return a()}))}},{key:"unmeasureable",get:function(){return!window.IntersectionObserver||this.usesPolyfill||!(0,j.validElement)(this.element)}},{key:"viewable",get:function(){return this.inView}},{key:"techniqueName",get:function(){return"IntersectionObserver"}},{key:"usesPolyfill",get:function(){return"number"==typeof window.IntersectionObserver.prototype.THROTTLE_TIMEOUT}}]),b}(i.default);c.default=l,b.exports=c.default},{"../../Helpers/Validators":3,"../Strategies/":10,"./BaseTechnique":6}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./IntersectionObserver"),j=d(i),k=a("intersection-observer"),l=(d(k),a("../../Environment/Environment")),m=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(l),n=function(a){function b(){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return g(b,a),h(b,[{key:"unmeasureable",get:function(){return m.iFrameContext()===m.iFrameServingScenarios.CROSS_DOMAIN_IFRAME}},{key:"techniqueName",get:function(){return"IntersectionObserverPolyFill"}}]),b}(j.default);c.default=n,b.exports=c.default},{"../../Environment/Environment":2,"./IntersectionObserver":7,"intersection-observer":1}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./IntersectionObserver");Object.defineProperty(c,"IntersectionObserver",{enumerable:!0,get:function(){return d(e).default}});var f=a("./IntersectionObserverPolyfill");Object.defineProperty(c,"IntersectionObserverPolyfill",{enumerable:!0,get:function(){return d(f).default}});var g=a("./BaseTechnique");Object.defineProperty(c,"BaseTechnique",{enumerable:!0,get:function(){return d(g).default}})},{"./BaseTechnique":6,"./IntersectionObserver":7,"./IntersectionObserverPolyfill":8}],10:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}Object.defineProperty(c,"__esModule",{value:!0}),c.StrategyFactory=c.DEFAULT_STRATEGY=void 0;var e=a("../../Helpers/Validators"),f=d(e),g=a("../MeasurementTechniques/"),h=d(g),i=a("../../Options/ViewabilityCriteria"),j=d(i),k=c.DEFAULT_STRATEGY={autostart:!0,techniques:[h.IntersectionObserver,h.IntersectionObserverPolyfill],criteria:j.MRC_VIDEO};c.StrategyFactory=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.autostart,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.techniques,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.criteria,d={autostart:a,techniques:b,criteria:c},e=f.validateStrategy(d);if(e.invalid)throw e.reasons;return d}},{"../../Helpers/Validators":3,"../../Options/ViewabilityCriteria":12,"../MeasurementTechniques/":9}],11:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./Measurement/Events"),i=e(h),j=a("./Timing/InViewTimer"),k=d(j),l=a("./Measurement/Strategies/"),m=e(l),n=a("./Environment/Environment"),o=(e(n),a("./Measurement/MeasurementExecutor")),p=d(o),q=a("./Options/ViewabilityCriteria"),r=e(q),s=a("./Measurement/MeasurementTechniques/"),t=e(s),u=function(){function a(){f(this,a),this.executors=[]}return g(a,[{key:"measureElement",value:function(a,b){var c=new p.default(a,b);return this.executors.push(c),c}},{key:"dispose",value:function(){this.executors.forEach(function(a){return a.dispose()})}}]),a}();c.default=u,u.ViewabilityCriteria=r,u.MeasurementExecutor=p.default,u.MeasurementTechniques=t,u.InViewTimer=k.default,u.Strategies=m,u.Events=i,b.exports=c.default},{"./Environment/Environment":2,"./Measurement/Events":4,"./Measurement/MeasurementExecutor":5,"./Measurement/MeasurementTechniques/":9,"./Measurement/Strategies/":10,"./Options/ViewabilityCriteria":12,"./Timing/InViewTimer":13}],12:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.MRC_VIDEO={inViewThreshold:.5,timeInView:2e3},c.MRC_DISPLAY={inViewThreshold:.5,timeInView:1e3},c.customCriteria=function(){return{inViewThreshold:arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,timeInView:arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3}}},{}],13:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this.duration=b,this.listeners=[],this.completed=!1}return e(a,[{key:"timerComplete",value:function(){this.completed=!0,this.listeners.forEach(function(a){return a()})}},{key:"elapsed",value:function(a){"function"==typeof a&&this.listeners.push(a)}},{key:"start",value:function(){this.endTimer(),this.timer=setTimeout(this.timerComplete.bind(this),this.duration)}},{key:"stop",value:function(){this.endTimer()}},{key:"endTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.listeners.length=0)}},{key:"dispose",value:function(){this.endTimer()}}]),a}();c.default=f,b.exports=c.default},{}]},{},[11])(11)}),function(a,b){"use strict";var c="model",d="name",e="type",f="vendor",g="version",h="mobile",i="tablet",j={extend:function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},has:function(a,b){return"string"==typeof a&&-1!==b.toLowerCase().indexOf(a.toLowerCase())},lowerize:function(a){return a.toLowerCase()},major:function(a){return"string"==typeof a?a.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},k={rgx:function(){var a,b,c,d,e,f,g={},h=0,i=arguments;for(c=0;c<i[1].length;c++)d=i[1][c],g["object"==typeof d?d[0]:d]=void 0;for(;h<i.length&&!e;){var j=i[h],k=i[h+1];for(a=b=0;a<j.length&&!e;)if(e=j[a++].exec(this.getUA()))for(c=0;c<k.length;c++)f=e[++b],d=k[c],"object"==typeof d&&d.length>0?2===d.length?"function"==typeof d[1]?g[d[0]]=d[1].call(this,f):g[d[0]]=d[1]:3===d.length?"function"!=typeof d[1]||d[1].exec&&d[1].test?g[d[0]]=f?f.replace(d[1],d[2]):void 0:g[d[0]]=f?d[1].call(this,f,d[2]):void 0:4===d.length&&(g[d[0]]=f?d[3].call(this,f.replace(d[1],d[2])):void 0):g[d]=f||void 0;h+=2}return g},str:function(a,b){for(var c in b)if("object"==typeof b[c]&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(j.has(b[c][d],a))return"?"===c?void 0:c}else if(j.has(b[c],a))return"?"===c?void 0:c;return a}},l={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[d,g],[/(opios)[\/\s]+([\w\.]+)/i],[[d,"Opera Mini"],g],[/\s(opr)\/([\w\.]+)/i],[[d,"Opera"],g],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[d,g],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[d,"IE"],g],[/(edge)\/((\d+)?[\w\.]+)/i],[d,g],[/(yabrowser)\/([\w\.]+)/i],[[d,"Yandex"],g],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],g],[/(micromessenger)\/([\w\.]+)/i],[[d,"WeChat"],g],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[g,[d,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[d,/(.+)/,"$1 WebView"],g],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[g,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[d,g],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[d,"UCBrowser"],g],[/(dolfin)\/([\w\.]+)/i],[[d,"Dolphin"],g],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[d,"Chrome"],g],[/;fbav\/([\w\.]+);/i],[g,[d,"Facebook"]],[/fxios\/([\w\.-]+)/i],[g,[d,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[g,[d,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[g,d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[g,k.str,l.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[d,g],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],g],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,g]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",j.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",j.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",j.lowerize]]],
device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[c,f,[e,i]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[f,"Apple"],[e,i]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[f,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[f,c,[e,i]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[c,[f,"Amazon"],[e,i]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[c,k.str,l.device.amazon.model],[f,"Amazon"],[e,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,f,[e,h]],[/\((ip[honed|\s\w*]+);/i],[c,[f,"Apple"],[e,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[f,c,[e,h]],[/\(bb10;\s(\w+)/i],[c,[f,"BlackBerry"],[e,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[c,[f,"Asus"],[e,i]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[f,"Sony"],[c,"Xperia Tablet"],[e,i]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[f,"Sony"],[c,"Xperia Phone"],[e,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[f,c,[e,"console"]],[/android.+;\s(shield)\sbuild/i],[c,[f,"Nvidia"],[e,"console"]],[/(playstation\s[34portablevi]+)/i],[c,[f,"Sony"],[e,"console"]],[/(sprint\s(\w+))/i],[[f,k.str,l.device.sprint.vendor],[c,k.str,l.device.sprint.model],[e,h]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[f,c,[e,i]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[f,[c,/_/g," "],[e,h]],[/(nexus\s9)/i],[c,[f,"HTC"],[e,i]],[/(nexus\s6p)/i],[c,[f,"Huawei"],[e,h]],[/(microsoft);\s(lumia[\s\w]+)/i],[f,c,[e,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[f,"Microsoft"],[e,"console"]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[f,"Microsoft"],[e,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[f,"Motorola"],[e,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[f,"Motorola"],[e,i]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[f,j.trim],[c,j.trim],[e,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[f,"Samsung"],[e,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[c,[f,"Sharp"],[e,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[f,"Samsung"],c,[e,i]],[/smart-tv.+(samsung)/i],[f,[e,"smarttv"],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[f,"Samsung"],c,[e,h]],[/sie-(\w+)*/i],[c,[f,"Siemens"],[e,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[f,"Nokia"],c,[e,h]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[c,[f,"Acer"],[e,i]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[f,"LG"],c,[e,i]],[/(lg) netcast\.tv/i],[f,c,[e,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[c,[f,"LG"],[e,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[f,"Lenovo"],[e,i]],[/linux;.+((jolla));/i],[f,c,[e,h]],[/((pebble))app\/[\d\.]+\s/i],[f,c,[e,"wearable"]],[/android.+;\s(glass)\s\d/i],[c,[f,"Google"],[e,"wearable"]],[/android.+;\s(pixel c)\s/i],[c,[f,"Google"],[e,i]],[/android.+;\s(pixel xl|pixel)\s/i],[c,[f,"Google"],[e,h]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[c,/_/g," "],[f,"Xiaomi"],[e,h]],[/android.+a000(1)\s+build/i],[c,[f,"OnePlus"],[e,h]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[e,j.lowerize],f,c]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[g,[d,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,g],[/rv\:([\w\.]+).*(gecko)/i],[g,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,g],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[d,[g,k.str,l.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[g,k.str,l.os.windows.version]],[/\((bb)(10);/i],[[d,"BlackBerry"],g],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[d,g],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[d,"Symbian"],g],[/\((series40);/i],[d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"],g],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[d,g],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],g],[/(sunos)\s?([\w\.]+\d)*/i],[[d,"Solaris"],g],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[d,g],[/(haiku)\s(\w+)/i],[d,g],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[d,"iOS"],[g,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[d,"Mac OS"],[g,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[d,g]]},n=function(b,c){if(!(this instanceof n))return new n(b,c).getResult();var d=b||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),e=c?j.extend(m,c):m;return this.getBrowser=function(){var a=k.rgx.apply(this,e.browser);return a.major=j.major(a.version),a},this.getCPU=function(){return k.rgx.apply(this,e.cpu)},this.getDevice=function(){return k.rgx.apply(this,e.device)},this.getEngine=function(){return k.rgx.apply(this,e.engine)},this.getOS=function(){return k.rgx.apply(this,e.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=a,this},this};n.VERSION="0.7.12",n.BROWSER={NAME:d,MAJOR:"major",VERSION:g},n.CPU={ARCHITECTURE:"architecture"},n.DEVICE={MODEL:c,VENDOR:f,TYPE:e,CONSOLE:"console",MOBILE:h,SMARTTV:"smarttv",TABLET:i,WEARABLE:"wearable",EMBEDDED:"embedded"},n.ENGINE={NAME:d,VERSION:g},n.OS={NAME:d,VERSION:g},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.UAParser=n):"function"==typeof define&&define.amd?define(function(){return n}):a.UAParser=n;var o=a.jQuery||a.Zepto;if(void 0!==o){var p=new n;o.ua=p.getResult(),o.ua.get=function(){return p.getUA()},o.ua.set=function(a){p.setUA(a);var b=p.getResult();for(var c in b)o.ua[c]=b[c]}}}("object"==typeof window?window:this);var ADG=ADG||{};ADG.html5={},ADG.html5.addPackageName=function(a){for(var b=a.split("."),c=this,d=0;d<b.length;d++)c[b[d]]=c[b[d]]||{},c=c[b[d]]},ADG.html5.getPackage=function(name){return this.addPackageName(name),eval("this."+name)};var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.Utils=Package.Utils||function(){var a=["rockyou.com","gourmetads.com","ad.manager.s3.amazonaws.com"],b=function(a){return null==a},c=function(a){return!b(a)&&Array.isArray(a)},d=function(a,b){try{if("object"!=typeof a)throw"::mergeObjects() -- Invalid type Error ["+typeof a+"] given as 1st parameter.  Arguments must be of type 'object'";if("object"!=typeof b)throw"::mergeObjects() -- Invalid type Error ["+typeof b+"] given as 2nd parameter.  Arguments must be of type 'object'";var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c}catch(a){return log.error(a),null}},e=function(){var a=function(){},d=function(b,d){if(!f(b))if(c(b)){if(b.length>0)for(var e=0;e<b.length;e++)try{d(b[e],e)}catch(b){if(b instanceof a)break}}else d(b,0)},e=function(b,c){if(!f(b))for(var d in b)if(b.hasOwnProperty(d))try{c(d,b[d])}catch(b){if(b instanceof a)break}},f=function(a){if(b(a))return!0;if(c(a))return!(a.length>0);try{return!Object.keys(a).length}catch(a){}return!0};return{each:d,eachMap:e,Break:a,isNullOrEmpty:f,contains:function(a,d){return!f(a)&&(c(a)?a.indexOf(d)>-1:a.hasOwnProperty(d)&&!b(a[d]))},shuffle:function(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}}}(),f=function(){var a;try{a=window.top.location.href}catch(a){}if(!a)try{a=window.location.href}catch(a){}return a||""},g=function(){var a=document.referrer;try{a=window.top.document.referrer}catch(b){if(window.parent)try{a=window.parent.document.referrer}catch(a){}}if(!a&&window.opener)try{a=window.opener.location.href}catch(a){}return a||""},h=function(){var b=!1,c=ADG.html5.com.genesismedia.admanager.utils.Url.parse(f()).host;return a.some(function(a){return c.search(a)>=0&&(b=!0,!0)}),b},i=function(a){var b="",c=a||f();if(null!=c&&""!=c){var d=/:\/\/(.[^\/]+)/;b=c.match(d)[1];for(var e,g=b.split(".").reverse(),h=new Array,i=0;i<g.length&&(e=g[i],h.push(e),2==e.length&&2==String(g[0]).length||!(h.length>1));i++);b=h.reverse().join(".")}return b};return{isNull:b,isArray:c,mergeObjects:d,Iterable:e,break:e.Break,each:e.each,getPageUrl:f,getRefererUrl:g,getRootDomain:i,pt:h}}();var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.StringUtils=function(){this.classConstructor=arguments.callee,this.classConstructor.DOCUMENT_INFO=function(){var a=function(){try{return void 0!=top.location&&void 0!=top.location.href}catch(a){return!1}return!0}(),b=window;if(!0===a)b=top;else for(;b.parent&&b.parent!=b;){var c=b.parent;try{var d=c.location.href;if(""===d)break;b=c}catch(a){break}}var e=b.location.href,f=b.location.host;if(!a&&b.document.referrer){var g=document.createElement("a");g.href=e=b.document.referrer,g.host&&g.host.length>0&&(f=g.host)}return{url:b.location.href,href:e,referrer:b.document.referrer,title:b.document.title,host:f}}(),this.classConstructor.HAS_GEOLOCATION=function(){return navigator.geolocation?1:0}(),this.classConstructor.VALID_URL_REGEX=new RegExp(/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?/),this.classConstructor.filterAdTag=function(a){var b=a,c=b.indexOf("pgDomain=");return c<=0&&(b=b.replace("ac?","ac?pgDomain=[INSERT_PAGE_URL:encode]&")),c=b.indexOf("vpw="),c<=0&&(b=b.replace("ac?","ac?vpw=[PLAYER_WIDTH]&vph=[PLAYER_HEIGHT]&")),b=b.replace("ac?","ac?vpaidt=js&vpaidv=1,2&"),this.filterPixel(b)},this.classConstructor.filterPixelArray=function(a){for(var b=0;b<a.length;b++)a[b]&&""!=a[b]&&(a[b]=this.filterPixel(a[b]));return a},this.classConstructor.filterPixel=function(a){var b=ADG.html5.com.genesismedia.admanager.AdManager.getInstance(),c=b.pageUrl?b.pageUrl:this.DOCUMENT_INFO.href,d=this.DOCUMENT_INFO.referrer,e=this.trimSubDomain(this.DOCUMENT_INFO.host);!1===function(){try{return void 0!=top.location&&void 0!=top.location.href}catch(a){return!1}return!0}()&&d&&d.length>0&&!b.pageUrl&&(c=d);var f=document.title,g=this.trimWhitespace(a),h=String((new Date).getTime()),i=b.getAdWidth(),j=b.getAdHeight(),k=d;""==k&&(k=c),isNaN(i)&&(i=-1),i<=1&&(i=0),isNaN(j)?j=-1:j<=1&&(j=0),i=Math.floor(i),j=Math.floor(j);var l="",m="";try{l=b.vastObjectManager.mediaObject.mediaName,m=b.vastObjectManager.mediaObject.mediaGuid}catch(a){l="",m=""}var n=ADG.html5.com.genesismedia.admanager.events.KibanaTracker.errorCode;return-1==n&&(n="[ERRORCODE]"),g=g.split("[ERRORCODE]").join(n),g=g.split("REPLACE_ME_WITH_A_TIMESTAMP").join(h),g=g.split("%%CACHEBUSTER%%").join(h),g=g.split("[CACHE_BUSTER]").join(h),g=g.split("CACHEBUSTER").join(h),g=g.split("INSERT_RANDOM_NUMBER_HERE").join(h),g=g.split("[timestamp]").join(h),g=g.split("[TIMESTAMP]").join(h),g=g.split("[INSERT_PAGE_TITLE]").join(f),g=g.split("[page_title]").join(f),g=g.split("%5Bpage_title%5D").join(f),g=g.split("[DOMAIN_NAME]").join(e),g=g.split("[INSERT_PAGE_URL]").join(c),g=g.split("[PAGE_URL]").join(c),g=g.split("[Page_URL]").join(c),g=g.split("[page_url]").join(c),g=g.split("%5Bpage_url%5D").join(c),g=g.split("[SOURCE_PAGE_URL]").join(c),g=g.split("[SOURCE_PAGE_URL:encode]").join(encodeURIComponent(c)),g=g.split("[SOURCE_PAGE_URL:REQUIRED]").join(c),g=g.split("%%REFERRER_URL%%").join(c),g=g.split("[INSERT_PAGE_URL:encode]").join(encodeURIComponent(c)),g=g.split("[INSERT_PAGE_URL:double_encode]").join(encodeURIComponent(encodeURIComponent(c))),g=g.split("[page_referer]").join(d),g=g.split("%5Bpage_referer%5D").join(d),g=g.split("[PAGE_REFERER]").join(k),g=g.split("[PAGE_REFERER:encode]").join(encodeURIComponent(k)),g=g.split("%%WIDTH%%").join(i),g=g.split("[VIDEO_WIDTH]").join(i),g=g.split("[PLAYER_WIDTH]").join(i),g=g.split("[PLAYER_WIDTH:REQUIRED]").join(i),g=g.split("%%HEIGHT%%").join(j),g=g.split("[VIDEO_HEIGHT]").join(j),g=g.split("[PLAYER_HEIGHT]").join(j),g=g.split("[PLAYER_HEIGHT:REQUIRED]").join(j),g=g.split("[media_name]").join(l),g=g.split("%5Bmedia_name%5D").join(l),g=g.split("[media_guid]").join(m),g=g.split("%5Bmedia_guid%5D").join(m),g=g.split("[UUID]").join(b.guid),g=g.split("[BUILD_DATE]").join(b.classConstructor.BUILD_DATE),g=g.split("[BUILD_NUMBER]").join(b.classConstructor.BUILD_NUMBER),g=g.split("[BUILD_VERSION]").join(b.classConstructor.BUILD_VERSION),g=g.split("[DEVICE_LANGUAGE]").join(navigator.language),g=g.split("[DEVICE_WIDTH]").join(screen.width),g=g.split("[DEVICE_HEIGHT]").join(screen.height),g=g.split("[GEOLOCATION_AVAILABLE]").join(this.HAS_GEOLOCATION)},this.classConstructor.evalURL=function(a){return this.VALID_URL_REGEX.test(a)},this.classConstructor.getXMLNodeValue=function(a,b){if(a)if(b){var c=a.getElementsByTagName(b);if(c.length>0&&c[0].firstChild)return c[0].firstChild.wholeText?c[0].firstChild.wholeText.trim():c[0].firstChild.nodeValue}else if(a.firstChild)return a.firstChild.wholeText?a.firstChild.wholeText.trim():a.firstChild.nodeValue;return""},this.classConstructor.getXMLNodeAttribute=function(a,b,c){if(a&&b){var d=a.getElementsByTagName(b);if(d.length>0&&d[0].getAttribute(c))return d[0].getAttribute(c).trim()}return""},this.classConstructor.toUnderscoreCase=function(a){return a&&""!=a?a.replace(/\.?([A-Z])/g,function(a,b){return"_"+b.toLowerCase()}).replace(/^_/,""):""},this.classConstructor.trimWhitespace=function(a){return a?a.replace(/^s+|\s+/g,""):""},this.classConstructor.trimSubDomain=function(a){if(!a)return"";var b=a.length-4;if(a.indexOf(".com")===b||a.indexOf(".org")===b||a.indexOf(".net")===b){var c=a.split(".");return c.length>2?c[c.length-2]+"."+c[c.length-1]:a}return 0===a.indexOf("www.")?a.substring(4,a.length):0===a.indexOf("m.")?a.substring(2,a.length):a};var a=function(a){return void 0===a||null===a},b=function(b){return!a(b)&&Array.isArray(b)};this.classConstructor.Strings=function(){var c=function(b){return!(!a(b)&&""!=b)},d=function(a){return"string"==typeof a||a instanceof String},e=function(b){return a(b)?"":b},f=function(b,c){return a(b)?c:b},g=function(a,b){return~a.indexOf(b)},h=function(a){return!c(a)&&("1"==a||"true"==a||"t"==a)},i=function(a){var b=a,d=!1,e=!1,f={trimResults:function(){return d=!0,f},omitEmptyStrings:function(){return e=!0,f},split:function(a){var f=new Array;if(!c(a)){var g=a.split(b);ADG.html5.com.genesismedia.admanager.utils.Utils.Iterable.each(g,function(a){if(!c(a)&&d)try{a=a.trim()}catch(a){}e&&c(a)||f.push(a)})}return f}};return f};return{isString:d,isNullOrEmpty:c,nullToEmpty:e,nullTo:f,contains:g,toBoolean:h,Joiner:function(b){var d=b,e=!1,f=!1,g={skipNulls:function(){return e=!0,g},nullsToEmpty:function(){return f=!0,g},join:function(b){var g=new Array;return Iterable.each(b,function(b){var d=b;e&&a(b)||(f&&c(b)&&(d=""),g.push(d))}),g.join(d)}};return g},MapJoiner:function(c,d){var f=c,g=d,h=!1,i=!1,j=function(a){return i?e(a):a},k={skipNulls:function(){return h=!0,k},nullsToEmpty:function(){return i=!0,k},join:function(c){var d=new Array;return Iterable.eachMap(c,function(c,e){if(!a(c)){if(h&&a(e))return;b(e)?Iterable.each(e,function(b){h&&a(b)||d.push([c,j(b)].join(g))}):d.push([c,j(e)].join(g))}}),d.join(f)}};return k},Splitter:i}}()},new Package.StringUtils;var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.JSUtils=function(){this.classConstructor=arguments.callee,this.classConstructor.injectJS=function(a,b){var c=function(a,b){var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src=a,b.appendChild(c)};a&&(ADG.html5.com.genesismedia.admanager.utils.Logger.log("injectJS(): "+a),Array.isArray(a)?a.map(function(a){c(a,b)}):c(a,b))}},new Package.JSUtils;var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.Logger=function(){this.classConstructor=arguments.callee,this.classConstructor.devMode=!1,this.classConstructor.FATAL=1e3,this.classConstructor.ERROR=8,this.classConstructor.WARN=6,this.classConstructor.INFO=4,this.classConstructor.DEBUG=2,this.classConstructor.ALL=0,this.classConstructor.getLevelString=function(a){switch(a){case this.FATAL:return"FATAL";case this.ERROR:return"ERROR";case this.WARN:return"WARN";case this.INFO:return"INFO";case this.DEBUG:return"DEBUG";case this.ALL:return"ALL";default:return"UNKNOWN_LEVEL"}},this.classConstructor.serverLogLevel=this.ERROR,this.classConstructor.infoBeaconCt=0,this.eventTracker=null,this.classConstructor.fnServerBeaconCall=function(a,b){var c={category:this.getLevelString(a),name:this.infoBeaconCt.toString(),message:b},d=window.btoa(JSON.stringify(c));this.eventTracker&&this.eventTracker.track({evt:"AdError",em:d})},this.classConstructor.setEventTracker=function(a){this.eventTracker=a},this.classConstructor.setDevMode=function(a){this.devMode=a},this.classConstructor.setServerLogLevel=function(a){this.log("setServerLogLevel: "+a),"number"==typeof a&&(this.serverLogLevel=a)},this.classConstructor.output=function(a,b){this.infoBeaconCt++;var c="["+this.getLevelString(a)+"] "+b;this.devMode&&console.log(c),a>=this.serverLogLevel&&this.fnServerBeaconCall(a,c)},this.classConstructor.log=function(a){this.output(this.DEBUG,a)},this.classConstructor.debug=function(a){this.output(this.DEBUG,a)},this.classConstructor.warn=function(a){this.output(this.WARN,a)},this.classConstructor.error=function(a){this.output(this.ERROR,a)},this.classConstructor.info=function(a){this.output(this.INFO,a)},this.classConstructor.event=function(a){this.output(this.ALL+a)}},new Package.Logger;var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.UserAgent=function(){this.classConstructor=arguments.callee;var a=null;try{a=(new UAParser).getResult()}catch(b){a=null}if(null==a)try{a=(new exports.UAParser).getResult()}catch(b){a=null}if(null==a)try{a=$.ua}catch(a){return{}}return{name:a.browser.name,version:a.browser.version,os:a.os.name,osVersion:a.os.version,tablet:"tablet"===a.device.type,mobile:"mobile"===a.device.type,ios:"iOS"===a.os.name,android:"Android"===a.os.name,deviceType:a.device.type||"desktop",deviceVendor:a.device.vendor||"",deviceModel:a.device.model||"",engine:a.engine.name||"",engineVersion:a.engine.version||""}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.Url=Package.Url||function(){var a=ADG.html5.com.genesismedia.admanager.utils.Utils,b=ADG.html5.com.genesismedia.admanager.utils.StringUtils.Strings,c=a.Iterable,d=b.MapJoiner("&","="),e=b.Splitter("&").trimResults().omitEmptyStrings(),f=function(c,d){if(!a.isNull(d)){var e=g(d,!0);if(!b.isNullOrEmpty(e))return c.indexOf("?")>0?c+"&"+e:c+"?"+e}return c},g=function(e,f){if(!a.isNull(e)){var g={};return 0==f?g=e:c.eachMap(e,function(d,e){a.isArray(e)?(g[d]=new Array,c.each(e,function(a){b.isNullOrEmpty(a)||g[d].push(encodeURIComponent(a))})):b.isNullOrEmpty(e)||(g[d]=encodeURIComponent(e))}),d.join(g)}return""},h=function(d){var f=a.mergeObjects(d||{},{}),h=function(b,d){if(!a.isNull(b))if(c.contains(f,b)){if(!a.isArray(f[b])){var e=f[b];f[b]=new Array,f[b].push(e)}f[b]=f[b].concat(d)}else f[b]=d},i=function(a,b){f[a]=b};return{add:h,set:i,extend:function(a){c.eachMap(a,function(a,b){h(a,b)})},replace:function(a){c.eachMap(a,function(a,b){i(a,b)})},get:function(b){return a.isNull(b)?f:c.contains(f,b)?f[b]:null},toQueryString:function(){return g(f,!0)},remove:function(a){delete f[a]},fromQueryString:function(a){if(!b.isNullOrEmpty(a)){var d=e.split(a);c.each(d,function(a){if(!b.isNullOrEmpty(a)){var c=a.split("=",2);h(c[0],decodeURIComponent(c[1]))}})}}}};return{toQueryString:g,addQueryParams:f,ParamCollection:h,parse:function(a){if(b.isNullOrEmpty(a))return null;var c={scheme:"",host:"",path:"",base:"",query:h()},d=a.split("//",2);2==d.length&&(c.scheme=d[0].replace(":",""),a=d[1]);var e="";if(d=a.split("/"),d.length>=2){c.host=d.shift();var f=d.join("/").split("?");2==f.length?(c.path=f[0],e=f[1]):c.path=d[1]}else{var f=a.split("?");2==f.length?(c.host=f[0],e=f[1]):c.host=a}c.query.fromQueryString(e);var g="";return b.isNullOrEmpty(c.scheme)||(g+=c.scheme+"://"),g+=c.host,b.isNullOrEmpty(c.path)||(g+="/"+c.path),c.base=g,c}}}();var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils"),Class=Package.NumberUtils={};Class.getRandomNum=function(a,b){return Math.floor(Math.random()*(1+b-a))+a},Class.getRandomNumWithException=function(a,b,c){for(var d=this.getRandomNum(a,b);d==c;)d=this.getRandomNum(a,b);return d},Class.msTommmFormat=function(a){var b=""+a;return b=b.slice(b.length-3,b.length)},Class.msToSSLeadingZero=function(a){var b=Math.floor(a/1e3%60);return b<10?"0"+String(b):String(b)},Class.msToMMLeadingZero=function(a){var b=Math.round(Math.floor(a/1e3/60));return b<10?"0"+String(b):String(b)},Class.msToMMNoLeadingZero=function(a){var b=Math.round(Math.floor(a/1e3/60));return String(b)},Class.msToHHLeadingZero=function(a){var b=Math.round(Math.floor(a/1e3/60/60));return b<10?"0"+String(b):String(b)},Class.formatTime=function(a){return this.msToHHLeadingZero(a)+":"+this.msToMMLeadingZero(a)+":"+this.msToSSLeadingZero(a)+"."+this.msTommmFormat(a)},Class.getTimeUTCStamp=function(a){return(new Date).toUTCString()},Class.calcAspectChange=function(a,b,c,d,e){e||(e=0);var f=0==e?a/b:e,g=c,h=d;return f>=1?(h=c/f)>c&&(h=c,g=h*f):(g=d*f)>d&&(g=d,h=g/f),{ratio:f,width:g,height:h}},Class.HHSSMMToSecond=function(a){var b=a,c=b.indexOf(".");c>=0&&(b=b.substring(0,c));var d=b.split(":");return 3600*d[0]+60*d[1]+1*d[2]},Class.fromString=function(a){var b=Number(a);return isNaN(b)?0:b},function(){function a(a){var b=a.__resizeTriggers__,c=b.firstElementChild,d=b.lastElementChild,e=c.firstElementChild;d.scrollLeft=d.scrollWidth,d.scrollTop=d.scrollHeight,e.style.width=c.offsetWidth+1+"px",e.style.height=c.offsetHeight+1+"px",c.scrollLeft=c.scrollWidth,c.scrollTop=c.scrollHeight}function b(a){return a.offsetWidth!=a.__resizeLast__.width||a.offsetHeight!=a.__resizeLast__.height}function c(c){var d=this;a(this),this.__resizeRAF__&&h(this.__resizeRAF__),this.__resizeRAF__=g(function(){b(d)&&(d.__resizeLast__.width=d.offsetWidth,d.__resizeLast__.height=d.offsetHeight,d.__resizeListeners__.forEach(function(a){a.call(d,c)}))})}function d(){if(!f){var a=(r||"")+".resize-triggers { "+(s||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c),f=!0}}var e=document.attachEvent,f=!1;if(!e){var g=function(){var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};return function(b){return a(b)}}(),h=function(){var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(b){return a(b)}}(),i=!1,j="",k="animationstart",l="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),n="",o=document.createElement("fakeelement");if(void 0!==o.style.animationName&&(i=!0),!1===i)for(var p=0;p<l.length;p++)if(void 0!==o.style[l[p]+"AnimationName"]){n=l[p],n+"Animation",j="-"+n.toLowerCase()+"-",k=m[p],i=!0;break}var q="resizeanim",r="@"+j+"keyframes "+q+" { from { opacity: 0; } to { opacity: 0; } } ",s=j+"animation: 1ms "+q+"; "}window.addResizeListener=function(b,f){e?b.attachEvent("onresize",f):(b.__resizeTriggers__||(getComputedStyle(b)&&"static"==getComputedStyle(b).position&&(b.style.position="relative"),d(),b.__resizeLast__={},b.__resizeListeners__=[],(b.__resizeTriggers__=document.createElement("div")).className="resize-triggers",b.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',b.appendChild(b.__resizeTriggers__),a(b),b.addEventListener("scroll",c,!0),k&&b.__resizeTriggers__.addEventListener(k,function(c){c.animationName==q&&a(b)})),b.__resizeListeners__.push(f))},window.removeResizeListener=function(a,b){e?a.detachEvent("onresize",b):(a.__resizeListeners__.splice(a.__resizeListeners__.indexOf(b),1),a.__resizeListeners__.length||(a.removeEventListener("scroll",c),a.__resizeTriggers__=!a.removeChild(a.__resizeTriggers__)))}}();var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils"),Class=Package.GUIDUtils={};Class.create=function(){var a=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(a+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:3&c|8).toString(16)})};var Package=ADG.html5.getPackage("com.genesismedia.admanager.utils");Package.VastUtils=function(){this.classConstructor=arguments.callee,this.classConstructor.autoplayBlackList=["viralgains"],this.classConstructor.shouldAvoidAutoplay=function(a){for(var b=0;b<this.autoplayBlackList.length;b++){var c=this.autoplayBlackList[b].toLocaleLowerCase();if(a.toLocaleLowerCase().indexOf(c)>=0)return!0}return!1}},new Package.VastUtils;var Package=ADG.html5.getPackage("com.genesismedia.admanager.events");Package.AdEvents=function(){this.classConstructor=arguments.callee,this.classConstructor.STANDARD_AD_DURATION=15,this.classConstructor.RETAIL_AD_LOAD_READY="retailAdLoadReady",this.classConstructor.RETAIL_AD_LOAD_ERROR="retailAdLoadError",this.classConstructor.RETAIL_AD_READY="retailAdReady",this.classConstructor.RETAIL_AD_ERROR="retailAdError",this.classConstructor.RETAIL_AD_PLAY_ERROR="retailAdPlayError",this.classConstructor.INNER_AD_LOAD_FAILURE="innerAdLoadFailure",this.classConstructor.USER_INTERACTION_START="userInteractionStart",this.classConstructor.USER_INTERACTION_AFTER_START="userInteractionAfterStart",this.classConstructor.BILLABLE_TIME_REACHED="billableTimeReached",this.classConstructor.DEFAULT_ELIGIBLE_AD_TIME=15,this.classConstructor.ELIGIBLE_AD_PLAYBACK="eligibleAdPlayback",this.classConstructor.ELIGIBLE_AD_START="eligibleAdStart"},new Package.AdEvents;var Package=ADG.html5.getPackage("com.genesismedia.admanager.events");Package.EventTracker=function(){var a=ADG.html5.com.genesismedia.admanager.utils.StringUtils,b=ADG.html5.com.genesismedia.admanager.utils.Utils;if(this.classConstructor=arguments.callee,this.classConstructor.DOCUMENT_HOST=a.DOCUMENT_INFO.host,this.classConstructor.DOCUMENT_HREF=a.DOCUMENT_INFO.href,this.classConstructor.DOCUMENT_REFERRER=a.DOCUMENT_INFO.referrer,this.classConstructor.Image=Image,this.classConstructor.adAttemptFired=!1,this.classConstructor.atlog=!0,this.classConstructor.viewability=-1,this.classConstructor.nameTable={},this.classConstructor.nameTable.AdImpression="rollimp",this.classConstructor.nameTable.AdVideoStart="rollst",this.classConstructor.nameTable.AdVideoFirstQuartile="roll25",this.classConstructor.nameTable.AdVideoMidpoint="roll50",this.classConstructor.nameTable.AdVideoThirdQuartile="roll75",this.classConstructor.nameTable.AdVideoComplete="roll100",this.classConstructor.nameTable.AdClickThru="rollck",this.classConstructor.nameTable.AdError="error",this.classConstructor.nameTable.ad_request="adattempt",this.classConstructor.nameTable.adattemptdetails="adattemptdetails",this.classConstructor.baseUrl="",this.classConstructor.baseParams={},this.classConstructor.additionalParams={},this.classConstructor.sameDomain=function(){try{return void 0!=top.location&&void 0!=top.location.href}catch(a){return!1}return!0}(),!1===this.classConstructor.sameDomain&&this.classConstructor.DOCUMENT_REFERRER&&this.classConstructor.DOCUMENT_REFERRER.length>0){this.classConstructor.DOCUMENT_HREF=this.classConstructor.DOCUMENT_REFERRER;var c=document.createElement("a");c.href=this.classConstructor.DOCUMENT_REFERRER,c.host&&c.host.length>0&&(this.DOCUMENT_HOST=c.host)}this.classConstructor.setBaseUrl=function(a){var b=a.split("?");if(this.baseUrl=b[0]+"?",b.length>1)for(var c=b[1].split("&"),d=0;d<c.length;d++){var e=c[d],f=e.substring(0,e.indexOf("=")),g=decodeURIComponent(e.substring(e.indexOf("=")+1,e.length));0!==g.indexOf("http%3A%2F%2F")&&0!==g.indexOf("https%3A%2F%2F")||(g=decodeURIComponent(g)),this.baseParams[f]=g}},this.classConstructor.fireAdAttempt=function(){if(this.atlog){this.adAttemptFired=!0;var a=ADG.html5.com.genesismedia.admanager.AdManager.getInstance().adIndex;this.track({evt:"ad_request",seq:a})}},this.classConstructor.clearAdAttempt=function(){this.atlog&&(this.adAttemptFired=!1)},this.classConstructor.fireAdAttemptDetails=function(a){if(this.atlog){var b=ADG.html5.com.genesismedia.admanager.AdManager.getInstance();if(b&&b.adTimer&&this.adAttemptFired){var c=Date.now()-b.adTimer;this.track({evt:"adattemptdetails",result:a,response_time:c})}}},this.classConstructor.track=function(a){if(""!==this.baseUrl){var c={},d=this.normalizeName(a.evt);if(d){c.ev=d,a.em&&(c.em=a.em),a.result&&(c.result=a.result),a.response_time&&(c.response_time=a.response_time),a.seq&&(c.seq=a.seq);var e=ADG.html5.com.genesismedia.admanager.AdManager.getInstance(),f=null;e.vastObjectManager&&(f=e.vastObjectManager.mediaObject);var g=this.baseUrl,h=this.filterUrl(this.DOCUMENT_REFERRER);!0===function(){try{return void 0!=top.location&&void 0!=top.location.href}catch(a){return!1}return!0}()&&(h=this.filterUrl(top.document.referrer));var i=e.getAdWidth(),j=e.getAdHeight();isNaN(i)?i=-1:i<=1&&(i=0),isNaN(j)?j=-1:j<=1&&(j=0),i=Math.floor(i),j=Math.floor(j);for(var k in this.baseParams)c[k]=this.baseParams[k];c.bd=e.classConstructor.BUILD_DATE,c.bv=e.classConstructor.BUILD_VERSION,c.bn=e.classConstructor.BUILD_NUMBER,c.vpaid="js",c.dm=e.pageUrl?b.getRootDomain(e.pageUrl):this.DOCUMENT_HOST,c.loc=e.pageUrl?e.pageUrl:this.filterUrl(this.DOCUMENT_HREF),c.rr=h,c.v=this.viewability,c.sw=Math.round(i),c.sh=Math.round(j);for(var k in this.additionalParams)c[k]=this.additionalParams[k];f&&(f.rtbMeta&&f.rtbMeta.length>0&&(c.rm=f.rtbMeta),f.alignmentMeta&&(c.al=f.alignmentMeta),f.placementMeta&&(c.pm=f.placementMeta));(new this.Image).src=g+this.objToUrlQuery(c)}}},this.classConstructor.setData=function(a){"string"==typeof a.tp&&""!==a.tp&&(this.additionalParams.tp=a.tp),"string"==typeof a.rcode&&""!==a.rcode&&(this.additionalParams.fc=a.rcode)},this.classConstructor.filterUrl=function(a){try{var b=a.split("?")[0];return b=b.replace("https://",""),b=b.replace("http://",""),"/"===b.charAt(b.length-1)&&(b=b.substring(0,b.length-1)),b}catch(a){return""}},this.classConstructor.objToUrlQuery=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},this.classConstructor.normalizeName=function(a){return a&&this.nameTable[a]?this.nameTable[a]:null}},new Package.EventTracker
;var Package=ADG.html5.getPackage("com.genesismedia.admanager.events");Package.KibanaTracker=function(){var a=ADG.html5.com.genesismedia.admanager.utils.UserAgent,b=ADG.html5.com.genesismedia.admanager.utils.StringUtils;if(this.classConstructor=arguments.callee,this.classConstructor.DOCUMENT_HOST=b.DOCUMENT_INFO.host,this.classConstructor.DOCUMENT_HREF=b.DOCUMENT_INFO.href,this.classConstructor.DOCUMENT_REFERRER=b.DOCUMENT_INFO.referrer,this.classConstructor.PIXEL_URL="//gmpx.bzgint.com/collectorx/"+this.classConstructor.DOCUMENT_HOST,this.classConstructor.Image=Image,this.classConstructor.userAgent=new a,this.classConstructor.nameTable={},this.classConstructor.nameTable.AdLoaded="ad_loaded",this.classConstructor.nameTable.AdStarted="ad_started",this.classConstructor.nameTable.AdStopped="ad_stopped",this.classConstructor.nameTable.AdLinearChange="ad_linear_change",this.classConstructor.nameTable.AdExpandedChange="ad_expanded_change",this.classConstructor.nameTable.AdRemainingTimeChange="ad_remaining_time_change",this.classConstructor.nameTable.AdVolumeChange="ad_volume_change",this.classConstructor.nameTable.AdImpression="ad_impression",this.classConstructor.nameTable.AdVideoStart="ad_video_start",this.classConstructor.nameTable.AdVideoFirstQuartile="ad_video_first_quartile",this.classConstructor.nameTable.AdVideoMidpoint="ad_video_midpoint",this.classConstructor.nameTable.AdVideoThirdQuartile="ad_video_third_quartile",this.classConstructor.nameTable.AdVideoComplete="ad_video_complete",this.classConstructor.nameTable.AdClickThru="ad_click_thru",this.classConstructor.nameTable.AdUserAcceptInvitation="ad_user_accept_invitation",this.classConstructor.nameTable.AdUserMinimize="ad_user_minimize",this.classConstructor.nameTable.AdUserClose="ad_user_close",this.classConstructor.nameTable.AdPaused="ad_paused",this.classConstructor.nameTable.AdResumed="ad_resumed",this.classConstructor.nameTable.AdPlaying="ad_playing",this.classConstructor.nameTable.AdLog="ad_log",this.classConstructor.nameTable.AdError="ad_error",this.classConstructor.ignoreList={},this.classConstructor.ignoreList.furi=!0,this.classConstructor.ignoreList.evuri=!0,this.classConstructor.ignoreList.assets=!0,this.classConstructor.ignoreList.vastUri=!0,this.classConstructor.ignoreList.vastPlain=!0,this.classConstructor.ignoreList.log=!0,this.classConstructor.ignoreList.fl=!0,this.classConstructor.ignoreList.tmedia=!0,this.classConstructor.ignoreList.rto=!0,this.classConstructor.ignoreList.serverLogLevel=!0,this.classConstructor.ignoreList.bto=!0,this.classConstructor.ignoreList.cto=!0,this.classConstructor.ignoreList.vto=!0,this.classConstructor.ignoreList.cid=!0,this.classConstructor.ignoreList.rtbMeta=!0,this.classConstructor.ignoreList.guaranteed=!0,this.classConstructor.ignoreList.mcall=!0,this.classConstructor.mediaObject={},this.classConstructor.errorCode=-1,this.classConstructor.additionalParams={player_type:"html5"},this.classConstructor.sameDomain=function(){try{return void 0!=top.location&&void 0!=top.location.href}catch(a){return!1}return!0}(),!1===this.classConstructor.sameDomain&&this.classConstructor.DOCUMENT_REFERRER&&this.classConstructor.DOCUMENT_REFERRER.length>0){this.classConstructor.DOCUMENT_HREF=this.classConstructor.DOCUMENT_REFERRER;var c=document.createElement("a");c.href=this.classConstructor.DOCUMENT_REFERRER,c.host&&c.host.length>0&&(this.DOCUMENT_HOST=c.host)}this.classConstructor.getExternalParams=function(a){var b={};for(var c in this.mediaObject)this.ignoreList[c]||"string"!=typeof this.mediaObject[c]&&"number"!=typeof this.mediaObject[c]&&this.mediaObject[c].constructor!==Array||(b[c]=this.mediaObject[c]);for(var c in this.additionalParams)b[c]=this.additionalParams[c];if(a)for(var d in a)b[d]=a[d];return b},this.classConstructor.track=function(a,b,c){var d=ADG.html5.com.genesismedia.admanager.AdManager.getInstance(),e=(this.PIXEL_URL,encodeURIComponent(this.filterUrl(this.DOCUMENT_REFERRER)));!0===function(){try{return void 0!=top.location&&void 0!=top.location.href}catch(a){return!1}return!0}()&&(e=encodeURIComponent(this.filterUrl(top.document.referrer))),""==e&&(e="direct");var f=d.getAdWidth(),g=d.getAdHeight();isNaN(f)?f=-1:f<=1&&(f=0),isNaN(g)?g=-1:g<=1&&(g=0),f=Math.floor(f),g=Math.floor(g);var h={};h.uuid=d.guid,h.tpc="cs",h.width=Math.round(f),h.height=Math.round(g),h.time=d.getLifetime(),h.url=encodeURIComponent(this.filterUrl(this.DOCUMENT_HREF)),h.domain=this.DOCUMENT_HOST,h.referrer=e,h.cdiframe=!this.sameDomain,h.admanager=!0,-1!==this.errorCode&&"ads_load_failure"===a.evt&&(h.errorCode=this.errorCode),this.userAgent&&(h.browser_name=this.userAgent.name,h.browser_version=this.userAgent.version,h.device_os=this.userAgent.os,h.device_os_version=this.userAgent.osVersion,h.device_type=this.userAgent.deviceType,h.device_vendor=this.userAgent.deviceVendor,h.device_model=this.userAgent.deviceModel,h.engine=this.userAgent.engine,h.engine_version=this.userAgent.engineVersion);for(var i in this.mediaObject)this.ignoreList[i]||"string"!=typeof this.mediaObject[i]&&"number"!=typeof this.mediaObject[i]&&this.mediaObject[i].constructor!==Array||(h[i]=this.mediaObject[i]);for(var i in this.additionalParams)h[i]=this.additionalParams[i];for(var j in a)h[j]="evt"==j?this.normalizeName(a[j]):a[j];if(b)for(var k in b)h[k]=b[k];if(c)for(var l in c)h[l]=c[l]},this.classConstructor.addParams=function(a){for(var b in a)this.ignoreList[b]||"string"!=typeof a[b]&&"number"!=typeof a[b]||(this.additionalParams[b]=a[b])},this.classConstructor.setInitParams=function(a){var b=this.getParams(a,"ac?");b.siteid&&(this.additionalParams.site_id=b.siteid),b.pgid&&(this.additionalParams.page_id=b.pgid)},this.classConstructor.getAdParams=function(a){var b={};return a.campaignId&&(b.campaign_id=a.campaignId),a.creativeId&&(b.creative_id=a.creativeId),a.insertionId&&(b.insertion_id=a.insertionId),b},this.classConstructor.getParams=function(a,b){var c={};if(b||(b="?"),null!=a&&a.indexOf(b)>-1){var d=a.split(b)[1];if(d&&d.length>0)for(var e=d.split("&"),f=0;f<e.length;f++){queryParam=e[f];var g=queryParam.substring(0,queryParam.indexOf("=")),h=queryParam.substring(queryParam.indexOf("=")+1,queryParam.length);c[g]=h}}return c},this.classConstructor.objToUrlQuery=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},this.classConstructor.filterUrl=function(a){try{var b=a.split("?")[0];return b=b.replace("https://",""),b=b.replace("http://",""),"/"===b.charAt(b.length-1)&&(b=b.substring(0,b.length-1)),b}catch(a){return""}},this.classConstructor.normalizeName=function(a){var b=a;return this.nameTable[b]&&(b=this.nameTable[b]),b}},new Package.KibanaTracker;var Package=ADG.html5.getPackage("com.genesismedia.admanager.events");Package.PixelTracker=function(){var a=ADG.html5.com.genesismedia.admanager.events.EventTracker,b=ADG.html5.com.genesismedia.admanager.events.KibanaTracker;this.classConstructor=arguments.callee,this.classConstructor.Image=Image,this.classConstructor.enable=!0,this.classConstructor.fire=function(c,d,e,f){if(this.enable&&(d&&(b.track({evt:d},e,f),a.track({evt:d})),c))for(var g=0;g<c.length;g++)if(c[g]&&""!=c[g]){var h=new this.Image;h.src=c[g]}}},new Package.PixelTracker;var Package=ADG.html5.getPackage("com.genesismedia.admanager.events");Package.ThirdPartyTracker=function(){this.classConstructor=arguments.callee,this.classConstructor.ALT_MOAT_PARTNER_CODE="altitudedigital923lsdkfj20edkjkjjd6",this.classConstructor.GENESIS_MOAT_PARTNER_CODE="genesismediavideo91098djls921",this.classConstructor.genesisEnableMoat=!1,this.classConstructor.genesisMoatApi=null,this.classConstructor.moatPlacementClientCode=null,this.classConstructor.altitudeMoatApi=null,this.classConstructor.slot=null,this.classConstructor.pixels={impressionJS:new Array,impression:new Array},this.classConstructor.siteGuid="",this.classConstructor.placementGuid="",this.classConstructor.publisherGuid="",this.classConstructor.tmeta="";var a=ADG.html5.com.genesismedia.admanager.utils.JSUtils,b=ADG.html5.com.genesismedia.admanager.events.PixelTracker,c=ADG.html5.com.genesismedia.admanager.utils.Logger,d=ADG.html5.com.genesismedia.admanager.utils.StringUtils;this.classConstructor.initMoat=function(){var a=ADG.html5.com.genesismedia.admanager.AdManager,b=(ADG.html5.com.genesismedia.admanager.events.KibanaTracker,this.moatPlacementClientCode);if(c.log("initMoat(): using placement-level clientCode: "+b),a.getInstance().vastObjectManager.mediaObject){var d=a.getInstance().vastObjectManager.mediaObject;if(d.mcall&&d.mcall.custom&&d.mcall.custom.moat&&d.mcall.custom.moat.clientCode&&(b=d.mcall.custom.moat.clientCode,c.log("initMoat(): using media-level clientCode: "+b)),c.log("initMoat(): clientCode: "+b),c.log("this.genesisEnableMoat: "+this.genesisEnableMoat),this.genesisEnableMoat||b){var e={level1:d.advertiserGuid,level2:d.ioGuid,level3:d.campaignGuid,level4:d.guid,slicer1:this.siteGuid,slicer2:this.placementGuid,zMoatClientId:b,zMoatTID:this.tmeta};this.altitudeMoatApi=initMoatTrackingLegacy(a.getInstance().environmentVars.slot,e,a.getInstance().getAdDuration(),this.ALT_MOAT_PARTNER_CODE,null),c.log("initMoat(): MOAT is SET")}else c.log("initMoat(): MOAT is NOT set")}else c.error("No media found - initMoat called to early!")},this.classConstructor.dispatchEvent=function(a){if(this.altitudeMoatApi){c.log("Sending Altitude Moat event: "+a);var b=ADG.html5.com.genesismedia.admanager.AdManager;this.altitudeMoatApi.dispatchEvent({type:a,adVolume:b.getInstance().getAdVolume()})}},this.classConstructor.callOps=function(e){e&&e.calls&&(e.calls.op&&(c.log("callOps() firing opp pixels: "+e.calls.op),b.fire(d.filterPixelArray(e.calls.op),null,null)),a.injectJS(e.calls.oj,ADG.html5.com.genesismedia.admanager.AdManager.getInstance().environmentVars.slot))},this.classConstructor.loadPixels=function(a){a&&a.calls&&(a.calls.ip&&(this.pixels.impression=d.filterPixelArray(a.calls.ip)),a.calls.ij&&(this.pixels.impressionJS=d.filterPixelArray(a.calls.ij)))},this.classConstructor.callImps=function(){b.fire(this.pixels.impression,null,null),a.injectJS(this.pixels.impressionJS,ADG.html5.com.genesismedia.admanager.AdManager.getInstance().environmentVars.slot)},this.classConstructor.enableMoat=function(a,b){c.log("enableMoat()"),a&&a.enableMoat&&"true"==a.enableMoat&&(this.genesisEnableMoat=!0,c.log("enableMoat(): genesisEnableMoat = true")),b&&b.calls&&b.calls.custom&&b.calls.custom.moat&&b.calls.custom.moat.clientCode&&(this.moatPlacementClientCode=b.calls.custom.moat.clientCode,c.log("Setting placement-level moat clientCode: "+this.moatPlacementClientCode)),b&&b.params&&(this.siteGuid=b.params.siteg,this.placementGuid=b.params.placeg,this.publisherGuid=b.params.pubg,this.tmeta=b.params.tmeta)}},new Package.ThirdPartyTracker;var Package=ADG.html5.getPackage("com.genesismedia.admanager");Package.AdManager=function(a){function b(){x.log("AdManager ::: loadNextAd: "+t.adIndex);var a=!1;return t.ads&&t.adIndex<t.ads.length&&(x.log("AdManager ::: start timer"),d(),t.vastObjectManager&&t.vastObjectManager.unsubscribe(C.DONE),t.vastObjectManager=new C,t.vastObjectManager.subscribe(l,C.DONE),t.vastObjectManager.init(t.ads[t.adIndex++]),G.mediaObject=t.vastObjectManager.mediaObject,t.kibanaParams=G.getAdParams(t.vastObjectManager),t.kibanaParams.sequence_id=t.adIndex,G.track({evt:"ad_request"},t.kibanaParams),E.fireAdAttempt(),a=!0),{hasAd:a}}function c(){return!(!t.ads||t.adIndex>=t.ads.length)}function d(){g(),O=setTimeout(e,t.adTimeout),t.adTimer=Date.now()}function e(){G.track({evt:"ad_wait_timeout"},t.kibanaParams),E.fireAdAttemptDetails("timeout"),x.log("adWaitTimerHandler triggered"),g(),c()?(f(),b()):(t.opportunityNotFilled=!0,G.mediaObject={},G.track({evt:"opportunity_not_filled"},t.kibanaParams),E.fireAdAttemptDetails("no_ad"),f(),p())}function f(){if(clearInterval(P),E.clearAdAttempt(),t.VPAIDAd){for(var a in t.callbacks)try{t.VPAIDAd.unsubscribe(a)}catch(a){}try{t.VPAIDAd.stopAd(),t.VPAIDAd=null}catch(a){}}t.vastObjectManager&&(t.vastObjectManager=null)}function g(){if(O>-1)try{x.log("AdManager :: An an ad wait timer was removed"),clearTimeout(O),O=-1}catch(a){}}function h(a){G.setInitParams(a),M=new B(R,Number(G.additionalParams.page_id),j,a)}function j(a){R&&G.addParams(M.kibanaParams),a=M.filterAdUrl(a),G.track({evt:"ad_opportunity"},t.kibanaParams);var b;b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),b.onreadystatechange=function(){4==b.readyState&&(200==b.status?(G.track({evt:"ad_response_received"},t.kibanaParams),t.mediaInfo=JSON.parse(b.responseText),k(t.mediaInfo)):0!=b.status||Q?G.track({evt:"no_ad_response"},t.kibanaParams):(Q=!0,b.abort(),b.open("GET",a,!0),b.withCredentials=!1,b.send()))};try{z.evalURL(a)?(b.open("GET",a,!0),b.withCredentials=!0,Q=!1,b.send()):(G.mediaObject={},G.track({evt:"opportunity_default"},t.kibanaParams))}catch(a){G.mediaObject={},G.track({evt:"opportunity_default"},t.kibanaParams)}}function k(a){if(a){E.setData(a);var b=a.vmedia||[],c=a.rmedia||[],d=a.amedia||[],e=a.bm||{},f=a.bp||{},g=a.mcalls||{};t.ads=new Array;for(var h=0;h<b.length;h++){var i=b[h],j=new K;j.mediaType=K.MEDIA_TYPE_VAST,j.guid=i.guid||"",j.advertiserGuid=i.advguid||"",j.placementGuid=i.pguid||"",j.ioGuid=i.ioguid||"",j.campaignGuid=i.campguid||"",j.mediaGuid=i.guid||"",j.mediaName=i.name||"",j.vastUri=i.uri||"",j.vastPlain=i.vast||"",j.cpm=y.fromString(i.cpm),j.priority=y.fromString(i.dp),j.weight=y.fromString(i.dw),j.order=y.fromString(i.do),j.guaranteed=y.fromString(i.dg),j.mcall=g[j.mediaGuid]||{},j.addAlignmentMeta(i.al),j.addAlignmentMeta(e[i.pguid]),j.addPlacementMeta(f[i.pguid]),i.uri?x.log("Added vast media: "+i.uri):x.log("Added vast media: "+i.vast),t.ads.push(j)}for(var k=0;k<c.length;k++){var l=c[k],j=new K;j.mediaType=K.MEDIA_TYPE_RTB,j.guid=l.guid||"",j.advertiserGuid=l.advguid||"",j.placementGuid=l.pguid||"",j.ioGuid=l.ioguid||"",j.campaignGuid=l.campguid||"",j.mediaGuid=l.guid||"",j.mediaName=l.name||"",j.vastUri=l.uri||"",j.vastPlain=l.vast||"",j.cpm=y.fromString(l.cpm),j.order=y.fromString(l.do),j.guaranteed=y.fromString(l.dg),j.mcall=g[j.mediaGuid]||{},j.addAlignmentMeta(l.al),j.addAlignmentMeta(e[l.pguid]),j.addPlacementMeta(f[l.pguid]),x.log("Added vast media: "+l.uri),t.ads.push(j)}for(var m=0;m<d.length;m++){var n=d[m],j=new K;j.mediaType=K.MEDIA_TYPE_ASSET,j.guid=n.guid||"",j.advertiserGuid=n.advguid||"",j.placementGuid=n.pguid||"",j.ioGuid=n.ioguid||"",j.campaignGuid=n.campguid||"",j.mediaGuid=n.guid||"",j.mediaName=n.name||"",j.cpm=y.fromString(n.cpm),j.priority=y.fromString(n.dp),j.weight=y.fromString(n.dw),j.order=y.fromString(n.do),j.guaranteed=y.fromString(n.dg),j.mcall=g[j.mediaGuid]||{};for(var o=0;o<n.assets.length;o++){var q=n.assets[o],r=new L;r.uri=q.uri||"",r.mimeType=q.mime||"",r.width=y.fromString(q.width),r.height=y.fromString(q.height),r.bitRate=y.fromString(q.bitrate),r.duration=q.duration||"",r.clickThroughUrl=q.clickThroughUrl||"",x.info("Added AssetMedia: "+r.uri),j.assets.push(r)}j.addAlignmentMeta(n.al),j.addAlignmentMeta(e[n.pguid]),j.addPlacementMeta(f[n.pguid]),t.ads.push(j)}t.ads&&t.ads.length>1&&(t.ads=K.sortMedia(t.ads)),s("AdLoaded"),t.ads.length>0||(G.mediaObject={},G.track({evt:"opportunity_default"},t.kibanaParams),p(!0))}}function l(a){if(t.vastObjectManager&&t.vastObjectManager.vastObjects&&t.vastObjectManager.vastObjects[0])if(t.vastObject=t.vastObjectManager.vastObjects[0],t.vastObject.isVPAID)m();else{var d=new D;t.onVPAIDReady(d)}else-1===G.errorCode&&(G.errorCode=303),F.fire(z.filterPixelArray(t.vastObjectManager.pixels.error),"ads_load_failure",t.kibanaParams,{ad_failure_reason:"innerAdError"}),E.fireAdAttemptDetails("error"),c()?(f(),b()):(t.opportunityNotFilled=!0,G.mediaObject={},G.track({evt:"opportunity_not_filled"},t.kibanaParams),E.fireAdAttemptDetails("no_ad"),f(),p())}function m(){t.vpaidFrame=document.createElement("iframe"),t.vpaidFrame.style.display="none",t.vpaidFrame.onload=function(){var a=t.vpaidFrame.contentWindow.document.createElement("script");a.src=t.vastObject.mediaFile,a.onload=function(){t.onVPAIDReady({getVPAIDAd:t.vpaidFrame.contentWindow.getVPAIDAd})},t.vpaidFrame.contentWindow.document.body.appendChild(a)},document.body.appendChild(t.vpaidFrame)}function n(a){t.openvv=new OpenVV;var b=t.environmentVars.videoSlot;t.openvv.measureElement(b).onViewableComplete(function(a){x.log("Viewable Complete "+a),t.adnotviewable=!1,E.viewability=1,F.fire(t.vastObject.pixels.viewable,"AdViewable",t.kibanaParams)}).onUnmeasureable(function(){x.log("Unmeasureable"),t.adnotviewable=!1,E.viewability=-1,F.fire(t.vastObject.pixels.viewUndetermined,"AdViewUndetermined",t.kibanaParams)})}function o(a){g(),t.startFired||(H.initMoat(),"IE"!==t.userAgent.name?n():t.adnotviewable=!1,s("AdStarted"),s("AdImpression"),s("AdVideoStart"),F.fire(t.vastObject.pixels.impression,"AdImpression",t.kibanaParams,{impression_triggered_by:a}),I.injectJS(t.vastObject.pixels.impressionJS,t.environmentVars.slot),H.callImps(),F.fire(t.vastObject.pixels.start,"AdStarted",t.kibanaParams),G.track({evt:"AdVideoStart"},t.kibanaParams),E.fireAdAttemptDetails("ad"),E.track({evt:"AdVideoStart"}),t.startFired=!0,t.skipCountdown<0&&t.vastObject.skipoffset>-1&&(t.skipCountdown=t.vastObject.skipoffset),t.skipCountdown>-1&&t.skipDiv&&(t.skipDiv.style.display="block",t.skip=new J(t.skipDiv,t.skipCountdown),t.skip.subscribe(q,"SkipAd"),0===t.skipCountdown?t.skip.initSkip():t.skipCountdown>0&&t.skip.startCountdown()),t.reposition(),P=setInterval(function(){var a=t.getAdDuration(),b=Math.floor(t.getAdDuration()-t.getAdRemainingTime());if(!(0==a||b<0)){var c=String(b);!t.progressFired[c]&&t.vastObject.pixels.progress[c]&&(F.fire(t.vastObject.pixels.progress[c],null,null),t.progressFired[c]=!0)}},500))}function p(a){!0!==t.stopFired&&(t.stopFired=!0,a&&!1!==a||t.startFired||t.opportunityNotFilled||(G.mediaObject={},G.track({evt:"opportunity_default"},t.kibanaParams)),setTimeout(function(){s("AdStopped")},500))}function q(){t.skip.unsubscribe("SkipAd"),G.track({evt:"ad_skipped"},t.kibanaParams),F.fire(t.vastObject.pixels.skip,"AdSkipped",t.kibanaParams),t.stopAdCalled=!0,F.enable=!1,r()}function r(a){t.firstQuartileFired&&t.midpointFired&&t.thirdQuartileFired&&!t.completeFired&&t.startFired&&!t.completeFired&&!a&&t.vastObject&&(F.fire(t.vastObject.pixels.complete,"AdVideoComplete",t.kibanaParams),t.completeFired=!0,s("AdVideoComplete")),!t.startFired&&a&&(-1===G.errorCode&&(G.errorCode=301),F.fire(z.filterPixelArray(t.vastObject.pixels.error),"ads_load_failure",t.kibanaParams,{ad_failure_reason:"innerAdError"})),f(),p()}function s(a){if(H.dispatchEvent(a),a in t.eventsCallbacks)for(var b=0;b<t.eventsCallbacks[a].length;b++)setTimeout(function(a,b){t.eventsCallbacks[a][b]()},0,a,b)}var t=this;this.classConstructor=arguments.callee,this.classConstructor.AD_WAIT_TIME=5e3,this.classConstructor.BUILD_DATE="2018-7-18 16:59:47",this.classConstructor.BUILD_VERSION="10.69.1",this.classConstructor.BUILD_NUMBER="UNKNOWN",this.classConstructor.LOTAME="//ad.crwdcntrl.net/5/c=1890/pe=y/callback=ADG.html5.instance.setAudience",this.classConstructor.MOAT_PARTNER_CODE="genesismediavideo91098djls921",this.classConstructor.instance=t,this.classConstructor.getInstance=function(){return this.instance};var u=ADG.html5.com.genesismedia.admanager.utils.Utils,v=ADG.html5.com.genesismedia.admanager.utils.Url,w=ADG.html5.com.genesismedia.admanager.utils.GUIDUtils,x=ADG.html5.com.genesismedia.admanager.utils.Logger,y=ADG.html5.com.genesismedia.admanager.utils.NumberUtils,z=ADG.html5.com.genesismedia.admanager.utils.StringUtils,A=ADG.html5.com.genesismedia.admanager.utils.UserAgent,B=ADG.html5.com.genesismedia.admanager.wham.Allocation,C=ADG.html5.com.genesismedia.admanager.data.vast.VastObjectManager,D=ADG.html5.com.genesismedia.admanager.ads.VideoPlayer,E=ADG.html5.com.genesismedia.admanager.events.EventTracker,F=ADG.html5.com.genesismedia.admanager.events.PixelTracker,G=ADG.html5.com.genesismedia.admanager.events.KibanaTracker,H=ADG.html5.com.genesismedia.admanager.events.ThirdPartyTracker,I=ADG.html5.com.genesismedia.admanager.utils.JSUtils,J=ADG.html5.com.genesismedia.admanager.skip.Skip,K=ADG.html5.com.genesismedia.admanager.data.MediaObject,L=ADG.html5.com.genesismedia.admanager.data.MediaAsset;this.vastObjectManager=null,this.vastObject,this.playerDiv,this.skipDiv,this.adChoicesDiv,this.guid=w.create(),this.divName="adgHtml5MainStage_"+this.guid,this.slotName="adgHtml5Slot_"+this.guid,this.skipDivName="adgHtml5MainSkip_"+this.guid,this.environmentVars={},this.VPAIDAd=null,this.params=a,this.parseType="",this.ads=null,this.adIndex=0,this.volume=1,this.skipCountdown=-1,this.adTimeout=this.classConstructor.AD_WAIT_TIME,this.mobile=!1,this.outstream=!1,this.outstreamPlayer=null,this.videoPlacementType=1,this.userAgent=new A,this.skip,this.adChoices,this.width=0,this.height=0,this.pageUrl=null,this.viewMode="Normal",this.desiredBitrate="",this.retailTag="",this.kibanaParams={},this.startFired=!1,this.firstQuartileFired=!1,this.midpointFired=!1,this.thirdQuartileFired=!1,this.completeFired=!1,this.progressFired={},this.stopAdCalled=!1,this.stopFired=!1,this.initAdCalled=!1,this.opportunityNotFilled=!1,this.adnotviewable=!0,this.eventsCallbacks={},this.callbacks={},this.attributes={companions:"",desiredBitrate:256,duration:30,expanded:!1,height:0,icons:"",linear:!0,skippableState:!1,viewMode:"normal",width:0,volume:1},this.quartileEvents=[{event:"AdVideoStart",value:0},{event:"AdVideoFirstQuartile",value:25},{event:"AdVideoMidpoint",value:50},{event:"AdVideoThirdQuartile",value:75},{event:"AdVideoComplete",value:100}],this.progressFired={},this.lastQuartileIndex=0,this.parameters={},this.pixels={impressionJS:new Array,impression:new Array};var M,N=(new Date).getTime(),O=-1,P=-1,Q=!1,R=!1,S=!1,T="";this.params.devMode&&"true"===this.params.devMode&&x.setDevMode(!0),console.log("initializing GMAdManager version:"+t.classConstructor.BUILD_VERSION+" build:"+t.classConstructor.BUILD_NUMBER+" on:"+t.classConstructor.BUILD_DATE),this.getLifetime=function(){return(new Date).getTime()-N},this.getExternalParams=function(){return G.getExternalParams(t.kibanaParams)},this.onVPAIDReady=function(a){I.injectJS(t.vastObject.pixels.adverifications,t.environmentVars.slot);var d;a&&(d=a.getVPAIDAd),d&&"function"==typeof d&&(t.VPAIDAd=d()),t.callbacks={AdStarted:function(){x.log("on AdStarted event")},AdStopped:function(){t.startFired&&(x.log("on AdStopped event"),t.thirdQuartileFired&&!t.completeFired&&(t.completeFired=!0,s("AdVideoComplete")),clearInterval(P),p())},AdSkipped:function(){x.log("on AdSkipped event"),s("AdSkipped")},AdLoaded:function(){x.log("on AdLoaded event");try{t.VPAIDAd&&(x.log("AdLoaded(): Found VPAID, attempting to startAd()"),t.VPAIDAd.startAd())}catch(a){x.log("AdLoaded(): Error while trying to startAd()")}},AdLinearChange:function(){x.log("on AdLinearChange event"),s("AdLinearChange")},AdSizeChange:function(){x.log("on AdSizeChange event"),s("AdSizeChange")},AdExpandedChange:function(){x.log("on AdExpandedChange event"),s("AdExpandedChange")},AdSkippableStateChange:function(){x.log("on AdSkippableStateChange event"),s("AdSkippableStateChange")},AdDurationChange:function(){x.log("on AdDurationChange event"),s("AdDurationChange")},AdRemainingTimeChange:function(){x.log("on AdRemainingTimeChange event"),s("AdRemainingTimeChange")},AdVolumeChange:function(){x.log("on AdVolumeChange event"),s("AdVolumeChange")},AdImpression:function(){x.log("on AdImpression event"),o("AdImpression")},AdClickThru:function(){x.log("on AdClickThru event"),s("AdClickThru"),F.fire(t.vastObject.pixels.click,"AdClickThru",t.kibanaParams)},AdInteraction:function(){x.log("on AdInteraction event"),s("AdInteraction")},AdVideoStart:function(){x.log("on AdVideoStart event"),o("AdVideoStart")},AdVideoFirstQuartile:function(){x.log("on AdVideoFirstQuartile event"),t.firstQuartileFired||(F.fire(t.vastObject.pixels.firstQuartile,"AdVideoFirstQuartile",t.kibanaParams),t.firstQuartileFired=!0),s("AdVideoFirstQuartile")},AdVideoMidpoint:function(){x.log("on AdVideoMidpoint event"),t.midpointFired||(F.fire(t.vastObject.pixels.midpoint,"AdVideoMidpoint",t.kibanaParams),t.midpointFired=!0),s("AdVideoMidpoint")},AdVideoThirdQuartile:function(){x.log("on AdVideoThirdQuartile event"),t.thirdQuartileFired||(F.fire(t.vastObject.pixels.thirdQuartile,"AdVideoThirdQuartile",t.kibanaParams),t.thirdQuartileFired=!0),s("AdVideoThirdQuartile")},AdVideoComplete:function(){x.log("on AdVideoComplete event"),t.completeFired||(t.adnotviewable&&(E.viewability=0,F.fire(t.vastObject.pixels.notViewable,"AdNotViewable",t.kibanaParams)),F.fire(t.vastObject.pixels.complete,"AdVideoComplete",t.kibanaParams),t.completeFired=!0,s("AdVideoComplete"))},AdUserAcceptInvitation:function(){x.log("on AdUserAcceptInvitation event"),s("AdUserAcceptInvitation")},AdUserMinimize:function(){x.log("on AdUserMinimize event"),s("AdUserMinimize")},AdUserClose:function(){x.log("on AdUserClose event"),s("AdUserClose")},AdPaused:function(){x.log("on AdPaused event"),s("AdPaused")},AdPlaying:function(){x.log("on AdPlaying event"),s("AdPlaying")},AdError:function(a){t.stopAdCalled||(-1===G.errorCode&&(G.errorCode=901),F.fire(z.filterPixelArray(t.vastObject.pixels.error),"ads_load_failure",t.kibanaParams,{ad_failure_reason:"innerAdError"}),E.fireAdAttemptDetails("error"),c()?(f(),b()):(t.opportunityNotFilled=!0,G.mediaObject={},G.track({evt:"opportunity_not_filled"},t.kibanaParams),E.fireAdAttemptDetails("no_ad"),f(),p()))},AdLog:function(){x.log("on AdLog event"),s("AdLog")}};for(var e in t.callbacks)t.VPAIDAd.subscribe(t.callbacks[e],e);t.VPAIDAd.handshakeVersion("2.0"),t.VPAIDAd.initAd(t.width,t.height,"normal",0,{AdParameters:t.vastObject.extensions},t.environmentVars)},this.reposition=function(){try{t.VPAIDAd&&t.VPAIDAd.resizeAd(t.width,t.height)}catch(a){}},this.resizeAd=function(a,b){t.width=a,t.height=b,t.reposition()},this.getAdWidth=function(){return t.width},this.getAdHeight=function(){return t.height},this.getAdCompanions=function(){return""},this.getAdIcons=function(){return""},this.getAdLinear=function(){return!0},this.expandAd=function(){s("AdExpanded")},this.getAdExpanded=function(){return!1},this.getAdSkippableState=function(){return!1},this.collapseAd=function(){},this.skipAd=function(){if(t.VPAIDAd)try{t.VPAIDAd.skipAd()}catch(a){}},this.getAdDuration=function(){return t.VPAIDAd?t.VPAIDAd.getAdDuration():0},this.getAdRemainingTime=function(){try{if(t.VPAIDAd)return t.VPAIDAd.getAdRemainingTime()}catch(a){return-1}return-1},this.setAdVolume=function(a){try{t.VPAIDAd&&t.VPAIDAd.setAdVolume(a)}catch(a){}t.volume=a},this.getAdVolume=function(a){try{if(t.VPAIDAd)return t.VPAIDAd.getAdVolume()}catch(a){}return 1},this.removePlayerReferences=function(){},this.playingAd=function(){return!0},this.pauseAd=function(){try{t.VPAIDAd.pauseAd()}catch(a){}},this.resumeAd=function(){try{t.VPAIDAd&&t.VPAIDAd.resumeAd()}catch(a){}},this.handshakeVersion=function(a){return"2.0"},this.setAudience=function(a){var b=a.Profile.Audiences;t.audiences="";for(var c in b){var d=b[c];for(i=0;i<d.length;i++)t.audiences+="abbr="+d[i].id+";"}var e=T.split("abbr=${aud_ids:;abbr=};").join(t.audiences);h(z.filterAdTag(e))},this.setVolume=function(a){t.environmentVars.videoSlot.volume=a,t.environmentVars.videoSlot.muted=0==a},this.initAd=function(a,b,c,d,e,f){if(!0!==t.initAdCalled){t.initAdCalled=!0,t.width=a,t.height=b,t.viewMode=c,t.desiredBitrate=d,t.parameters=JSON.parse(e.AdParameters),z.Strings.toBoolean(t.parameters.params.log)&&x.setDevMode(!0),isNaN(t.parameters.params.serverLogLevel)||x.setServerLogLevel(t.parameters.params.serverLogLevel),f.mobile?(t.mobile=!0,t.volume=0):t.mobile=!1,f.outstream?(t.outstream=!0,t.videoPlacementType=f.videoPlacementType,f.player&&(t.outstreamPlayer=f.player)):t.outstream=!1;if(u.pt()&&(t.pageUrl=function(){var a=v.parse(t.parameters.params.furi);if(null!=a){var b=a.query.get("pu"),c="";return Array.isArray(b)&&b.length>0?c=decodeURIComponent(b[0]):"string"!=typeof b||z.Strings.isNullOrEmpty(b)||(c=decodeURIComponent(b)),0!==c.indexOf("http%3A%2F%2F")&&0!==c.indexOf("https%3A%2F%2F")||(c=decodeURIComponent(c)),c}return null}(),x.log("pageUrl = getPassedUrl "+t.pageUrl)),G.addParams(t.parameters.params),E.setBaseUrl(t.parameters.params.evuri),0==t.parameters.params.atlog&&(E.atlog=!1),x.setEventTracker(E),t.params.skip){var g=Number(t.params.skip);isNaN(g)&&(g=0),t.skipCountdown=g}if(!1!==t.outstream||isNaN(t.parameters.params.skipoffset)||(t.skipCountdown=t.parameters.params.skipoffset),t.params.adTimeout&&(t.adTimeout=Number(t.params.adTimeout),t.adTimeout<0&&(t.adTimeout=t.classConstructor.AD_WAIT_TIME)),f.slot&&(t.playerDiv=document.createElement("div"),f.slot.appendChild(t.playerDiv),t.playerDiv.setAttribute("style","width: 100%;height: 100%;top: 0px;left: 0px;position: absolute;pointer-events:auto;"),t.skipDiv=document.createElement("div"),t.playerDiv.appendChild(t.skipDiv),t.skipDiv.setAttribute("style","display:none;width: 100%;height:100%;left: 0px;position: absolute;top: 0px;z-index: 10000002;pointer-events:none;"),t.environmentVars.slot=t.playerDiv,t.reposition(),f.videoSlot?t.environmentVars.videoSlot=f.videoSlot:(t.environmentVars.videoSlot=document.createElement("video"),t.environmentVars.slot.appendChild(t.environmentVars.videoSlot)),t.setVolume(t.volume)),t.outstream&&(t.environmentVars.player=t),F.enable=!0,H.loadPixels(t.parameters),H.callOps(t.parameters),t.params.kw_domain){var i=t.params.kw_domain;i&&""!=i&&G.addParams({passed_domain:i})}var j={};for(var k in t.params)if(k.indexOf("gam_")>=0){var l=k.split("gam_")[1],m=t.params[k];j[l]=m}t.params.useLotame&&"true"==t.params.useLotame&&(S=!0),t.params.adXmlUrl=t.parameters.params.furi,-1===t.params.adXmlUrl.indexOf("?")?t.params.adXmlUrl+="?":t.params.adXmlUrl+="&",t.params.adXmlUrl+="bd=[BUILD_DATE]&bv=[BUILD_VERSION]&bn=[BUILD_NUMBER]&w=[PLAYER_WIDTH]&h=[PLAYER_HEIGHT]&v=1&vpaid=js&u=[SOURCE_PAGE_URL:encode]&ru=[PAGE_REFERER:encode]&vp="+t.videoPlacementType+"&dl=[DEVICE_LANGUAGE]&dw=[DEVICE_WIDTH]&dh=[DEVICE_HEIGHT]&dg=[GEOLOCATION_AVAILABLE]",G.addParams(j),addResizeListener(t.playerDiv,t.reposition),S&&(T=t.params.adXmlUrl),t.params.useWham&&"true"==t.params.useWham&&(R=!0),H.enableMoat(t.params,t.parameters),""!=T?I.injectJS(t.classConstructor.LOTAME,document.getElementsByTagName("head")[0]):h(z.filterAdTag(t.params.adXmlUrl))}},this.startAd=function(){t.ads.length>0&&b(),t.reposition()},this.stopAd=function(){!0!==t.stopAdCalled&&(t.stopAdCalled=!0,G.track({evt:"stop_ad_called",startFired:t.startFired}),t.kibanaParams,F.enable=!1,r())},this.subscribe=function(a,b,c){var d=a.bind(c);void 0===t.eventsCallbacks[b]&&(t.eventsCallbacks[b]=new Array),t.eventsCallbacks[b].push(d)},this.unsubscribe=function(a,b){if(void 0===b)return void(t.eventsCallbacks[a]=null);if(void 0!==t.eventsCallbacks[a])for(var c=0;c<t.eventsCallbacks[a].length;c++)t.eventsCallbacks[a][c]==fCallback&&t.eventsCallbacks[a].splice(c,1)}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.adchoices");Package.AdChoices=function(a,b){this.classConstructor=arguments.callee;var c=this;if(this.containerDiv=a,this.adChoices=b,this.eventsCallbacks={},this.subscribe=function(a,b,d){var e=a.bind(d);c.eventsCallbacks[b]=e},this.unsubscribe=function(a){c.eventsCallbacks[a]=null},this.callEvent=function(a){a in c.eventsCallbacks&&"function"==typeof c.eventsCallbacks[a]&&c.eventsCallbacks[a]()},!isNaN(this.adChoices.width)&&!isNaN(this.adChoices.height)){var d=document.createElement("div");this.containerDiv.appendChild(d),d.setAttribute("style","position: absolute;right: 0px;bottom:0px;width:"+this.adChoices.width+"px;height:"+this.adChoices.height+"px;cursor: pointer;pointer-events:auto;");var e=document.createElement("img");e.src=this.adChoices.icon,d.appendChild(e),d.addEventListener("mouseup",function(){})}}
;var Package=ADG.html5.getPackage("com.genesismedia.admanager.ads");Package.VideoPlayer=function(){function a(){null==d.videoSlot&&(d.videoSlot=document.createElement("video"),d.slot.appendChild(d.videoSlot));var a=ADG.html5.com.genesismedia.admanager.AdManager.getInstance();if(!1===a.mobile||!1===a.outstream){var f=document.createElement("div");d.slot.appendChild(f),f.style.width="100%",f.style.height="100%",f.style.left="0px",f.style.top="0px",f.style.position="absolute",f.style.cursor="pointer",f.addEventListener("mouseup",d.onClick,!1)}b();for(var g=!1,h=d.parameters.videos||[],i=0;i<h.length;i++)if(""!=d.videoSlot.canPlayType(h[i].mimetype)&&""!=h[i].url){d.videoSlot.setAttribute("src",h[i].url),g=!0;break}g||(e.errorCode=401,c("AdError"))}function b(){d.videoSlot.setAttribute("width",d.attributes.width),d.videoSlot.setAttribute("height",d.attributes.height)}function c(a){a in d.eventsCallbacks&&"function"==typeof d.eventsCallbacks[a]&&d.eventsCallbacks[a]()}var d=this;this.classConstructor=arguments.callee;var e=ADG.html5.com.genesismedia.admanager.events.KibanaTracker,f=ADG.html5.com.genesismedia.admanager.utils.StringUtils;this.slot=null,this.videoSlot=null,this.eventsCallbacks={},this.attributes={companions:"",desiredBitrate:256,duration:30,expanded:!1,height:0,icons:"",linear:!0,skippableState:!1,viewMode:"normal",width:0,volume:1},this.quartileEvents=[{event:"AdVideoStart",value:0},{event:"AdVideoFirstQuartile",value:25},{event:"AdVideoMidpoint",value:50},{event:"AdVideoThirdQuartile",value:75},{event:"AdVideoComplete",value:100}],this.lastQuartileIndex=0,this.parameters={};var g=!1;this.initAd=function(b,e,f,g,h,i){d.attributes.width=b,d.attributes.height=e,d.attributes.viewMode=f,d.attributes.desiredBitrate=g,d.slot=i.slot,d.videoSlot=i.videoSlot,d.parameters=h.AdParameters,a(),d.videoSlot.addEventListener("timeupdate",d.timeUpdateHandler.bind(d),!1),d.videoSlot.addEventListener("durationchange",function(){d.attributes.duration=d.videoSlot.duration,c("AdDurationChange")},!1),d.videoSlot.addEventListener("ended",d.stopAd.bind(d),!1),c("AdLoaded")},this.timeUpdateHandler=function(){if(!(d.lastQuartileIndex>=d.quartileEvents.length)){if(100*d.videoSlot.currentTime/d.videoSlot.duration>=d.quartileEvents[d.lastQuartileIndex].value){var a=d.quartileEvents[d.lastQuartileIndex].event;"function"==typeof d.eventsCallbacks[a]&&(d.eventsCallbacks[a](),0===d.lastQuartileIndex&&!1===g&&(c("AdStarted"),c("AdImpression"))),d.lastQuartileIndex+=1}}},d.onClick=function(){try{var a=f.filterPixel(d.parameters.vastObject.clickThroughUrl);a&&a.length>0&&(c("AdClickThru"),window.open(a,"_blank"))}catch(a){}},this.stopAd=function(){var a=c.bind(d);setTimeout(a,75,["AdStopped"])},this.startAd=function(){var a=ADG.html5.com.genesismedia.admanager.AdManager.getInstance();!0===a.mobile&&!0===a.outstream&&(d.videoSlot.setAttribute("playsinline",""),d.videoSlot.muted=!0,d.videoSlot.volume=0);var b=d.videoSlot.play();void 0!==b?(g=!0,b.catch(function(a){8!==a.code&&9!==a.code||(e.errorCode=401,c("AdError")),d.videoSlot.muted=!0,d.videoSlot.volume=0;var b=d.videoSlot.play();if(void 0===b)return e.errorCode=901,void c("AdError");b.catch(function(a){e.errorCode=901,c("AdError")}).then(function(){c("AdStarted"),c("AdImpression")})}).then(function(){c("AdStarted"),c("AdImpression")})):g=!1},this.handshakeVersion=function(a){return"2.0"},this.setAdVolume=function(a){d.attributes.volume=a;try{d.videoSlot.muted=!(a>0),d.videoSlot.volume=a}catch(a){}c("AdVolumeChanged")},this.getAdVolume=function(){return d.attributes.volume},this.resizeAd=function(a,e,f){d.attributes.width=a,d.attributes.height=e,d.attributes.viewMode=f,b(),c("AdSizeChange")},this.pauseAd=function(){d.videoSlot.pause(),c("AdPaused")},this.resumeAd=function(){d.videoSlot.play(),c("AdPlaying")},this.expandAd=function(){d.attributes.expanded=!0,c("AdExpanded")},this.getAdExpanded=function(){return d.attributes.expanded},this.getAdSkippableState=function(){return d.attributes.skippableState},this.collapseAd=function(){d.attributes.expanded=!1},this.skipAd=function(){d.attributes.skippableState&&c("AdSkipped")},this.subscribe=function(a,b,c){var e=a.bind(c);d.eventsCallbacks[b]=e},this.unsubscribe=function(a){d.eventsCallbacks[a]=null},this.getAdWidth=function(){return d.attributes.width},this.getAdHeight=function(){return d.attributes.height},this.getAdRemainingTime=function(){return d.videoSlot.duration&&d.videoSlot.duration>0?d.videoSlot.duration-d.videoSlot.currentTime:0},this.getAdDuration=function(){return d.attributes.duration},this.getAdCompanions=function(){return d.attributes.companions},this.getAdIcons=function(){return d.attributes.icons},this.getAdLinear=function(){return d.attributes.linear},this.getVPAIDAd=function(){return d}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.data");Package.MediaAsset=function(){this.classConstructor=arguments.callee,this.uri="",this.mimeType="",this.width=0,this.height=0,this.bitRate=0,this.duration="",this.clickThroughUrl=""};var Package=ADG.html5.getPackage("com.genesismedia.admanager.data");Package.MediaObject=function(){var a=this;this.classConstructor=arguments.callee,this.classConstructor.MEDIA_TYPE_ASSET="AMEDIA",this.classConstructor.MEDIA_TYPE_RTB="RMEDIA",this.classConstructor.MEDIA_TYPE_VAST="VMEDIA",this.mediaType="",this.alignmentMeta=new Array,this.placementMeta=new Array,this.rtbMeta="",this.guid="",this.advertiserGuid="",this.placementGuid="",this.ioGuid="",this.campaignGuid="",this.mediaGuid="",this.mediaName="",this.vastUri="",this.vastPlain="",this.cpm=0,this.priority=0,this.weight=0,this.order=0,this.guaranteed=0,this.assets=new Array,this.mcall={},this.addAlignmentMeta=function(b){b&&""!=b&&a.alignmentMeta.push(b)},this.addPlacementMeta=function(b){b&&""!=b&&a.placementMeta.push(b)},this.classConstructor.sortMedia=function(a){var b=a||[];return b.sort(this.sortByPriority),b},this.classConstructor.sortByPriority=function(a,b){return a.priority>b.priority?1:a.priority<b.priority?-1:1==a.guaranteed&&1==b.guaranteed?a.cpm>b.cpm?-1:a.cpm>b.cpm?1:a.order>b.order?-1:a.order<b.order?1:0:1==a.guaranteed?-1:1==b.guaranteed?1:a.order>b.order?-1:a.order<b.order?1:0}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.data.vast");Package.VastObject=function(a,b,c,d,e){function f(a,b){for(var c=0;c<a.length;c++){var d=q.getXMLNodeValue(a[c]);d=q.filterPixel(d),b.push(d)}}function g(a){var b=a.getElementsByTagName("Error");b.length&&f(b,n.pixels.error)}function h(a){function b(a,b){for(var c=0;c<a.length;c++){var d=q.getXMLNodeValue(a[c]);d=q.filterPixel(d),b.push(d)}}b(a.getElementsByTagName("Impression"),n.pixels.impression);var c=a.getElementsByTagName("ViewableImpression");c.length&&(b(c[0].getElementsByTagName("Viewable"),n.pixels.viewable),b(c[0].getElementsByTagName("NotViewable"),n.pixels.notViewable),b(c[0].getElementsByTagName("ViewUndetermined"),n.pixels.viewUndetermined));var d=a.getElementsByTagName("AdVerifications");if(d.length)for(var e=d[0].getElementsByTagName("Verification"),f=0;f<e.length;f++)b(e[f].getElementsByTagName("JavaScriptResource"),n.pixels.adverifications)}function i(a){for(var b=a.getElementsByTagName("Tracking"),c=0;c<b.length;c++){var d=q.getXMLNodeValue(b[c]);switch(d=q.filterPixel(d),b[c].getAttribute("event")){case"creativeView":case"start":n.pixels.start.push(d);break;case"firstQuartile":n.pixels.firstQuartile.push(d);break;case"midpoint":n.pixels.midpoint.push(d);break;case"thirdQuartile":n.pixels.thirdQuartile.push(d);break;case"complete":n.pixels.complete.push(d);break;case"skip":n.pixels.skip.push(d);break;case"mute":n.pixels.mute.push(d);break;case"unmute":n.pixels.unmute.push(d);break;case"pause":n.pixels.pause.push(d);break;case"resume":n.pixels.resume.push(d);break;case"progress":var e=b[c].getAttribute("offset"),f="";f=e&&""!=e?String(r.HHSSMMToSecond(e)):String(Math.floor(Number(b[c].getAttribute("value")))),""!=f&&(n.pixels.progress[f]||(n.pixels.progress[f]=new Array),n.pixels.progress[f].push(d))}}}function j(a){for(var b=a.getElementsByTagName("ClickThrough"),c=0;c<b.length;c++){var d=q.getXMLNodeValue(b[c]);d=q.filterPixel(d),n.clickThroughUrl=q.evalURL(d)?d:location.protocol+"//"+d}for(var e=a.getElementsByTagName("ClickTracking"),f=0;f<e.length;f++){var g=q.getXMLNodeValue(e[f]);g=q.filterPixel(g),n.pixels.click.push(g)}}function k(a){for(var b=a.getElementsByTagName("MediaFile"),c=document.createElement("video"),d=!1,e=!1,f="",g=0;g<b.length;g++){var h=b[g];n.mediaFile=q.getXMLNodeValue(h);var i=h.getAttribute("type"),j=h.getAttribute("bitrate"),k=h.getAttribute("width"),l=h.getAttribute("height"),m=h.getAttribute("delivery"),o=h.getAttribute("customCreative");n.customCreative=o||!1,k&&(n.videoWidth=Number(parseInt(k))),l&&(n.videoHeight=Number(parseInt(l))),m&&(n.delivery=m),j&&(n.bitrate=j),n.mediaFile.length>0&&(""!=c.canPlayType(i)&&(d=!0,n.videos.push({url:n.mediaFile,mimetype:i})),i&&"application/javascript"==i&&(e=!0,f=n.mediaFile))}!d&&e&&(n.isVPAID=!0,n.mediaFile=f)}function l(a){var b=a.getElementsByTagName("Creative");if(b.length>0){var c=b[0];if(""==n.adDuration&&(n.adDuration=q.getXMLNodeValue(c,"Duration")),-1==n.skipoffset){var d=q.getXMLNodeAttribute(c,"Linear","skipoffset");d&&(d.includes("%")?n.skipoffset=5:n.skipoffset=r.HHSSMMToSecond(d))}i(c),j(c),k(c)}}function m(a,b){n.pixels[a].push(b)}var n=this,o=c;this.classConstructor=arguments.callee;var p=ADG.html5.com.genesismedia.admanager.utils.Logger,q=ADG.html5.com.genesismedia.admanager.utils.StringUtils,r=ADG.html5.com.genesismedia.admanager.utils.NumberUtils,s=ADG.html5.com.genesismedia.admanager.events.KibanaTracker;this.adId=d,this.title="",this.adSystem="",this.clickThroughUrl="",this.mediaFile="",this.bitrate=0,this.videoWidth=0,this.videoHeight=0,this.delivery="",this.isVPAID=!1,this.insertionId="",this.campaignId="",this.creativeId="",this.adExchange="",this.adDuration="",this.skipoffset=-1,this.smartAd=!1,this.progressMsFormat=!1,this.extensions="",this.extDoc,this.videos=new Array,this.adChoices={},this.status="PENDING",this.pixels={impressionJS:new Array,impression:new Array,viewable:new Array,notViewable:new Array,viewUndetermined:new Array,adverifications:new Array,start:new Array,firstQuartile:new Array,midpoint:new Array,thirdQuartile:new Array,complete:new Array,skip:new Array,mute:new Array,unmute:new Array,pause:new Array,resume:new Array,click:new Array,error:new Array,progress:{}},this.mergePixels=function(a){for(var b in a)if(Array.isArray(a[b]))for(var c in a[b])m(b,a[b][c]);else for(var d in a[b])n.pixels[b][d]=a[b][d]},e?function(a){for(var b=document.createElement("video"),c=0;c<a.length;c++){var d=a[c];if(n.mediaFile=d.uri,n.mimeType=d.mimeType,n.bitrate=d.bitRate,n.videoWidth=d.width,n.videoHeight=d.height,n.clickThroughUrl=d.clickThroughUrl,n.mediaFile.length>0){if("application/javascript"===d.mimeType){n.isVPAID=!0;break}""!=b.canPlayType(n.mimeType)&&n.videos.push({url:n.mediaFile,mimetype:n.mimeType})}}n.isVPAID||(n.extensions={videos:n.videos,vastObject:n},0==n.videos.length&&(s.errorCode=403)),n.status="DONE"}(e):function(a,b){n.title=q.getXMLNodeValue(a,"AdTitle"),n.adSystem=q.getXMLNodeValue(a,"AdSystem"),n.smartAd=!!n.adSystem.match("SMART"),h(a),g(a),l(a);var c=a.getElementsByTagName("Extensions");c.length>0?n.extensions=(new XMLSerializer).serializeToString(c[0])+b:n.extensions=b;var d=new DOMParser;n.extDoc=d.parseFromString("<xml>"+n.extensions+"</xml>","text/xml"),n.extensions=q.getXMLNodeValue(a,"AdParameters");for(var e=n.extDoc.getElementsByTagName("Extension"),f=0;f<e.length;f++){var i=e[f];n.adExchange=q.getXMLNodeValue(i,"adExchange"),n.insertionId=q.getXMLNodeValue(i,"insertionId"),n.campaignId=q.getXMLNodeValue(i,"campaignId"),n.creativeId=q.getXMLNodeValue(i,"creativeId");var j=q.getXMLNodeValue(i,"AdChoices");if(j&&""!=j&&(n.adChoices.icon=j,n.adChoices.width=Number(q.getXMLNodeAttribute(i,"AdChoices","width")),n.adChoices.height=Number(q.getXMLNodeAttribute(i,"AdChoices","height"))),o.mediaObject.rtbMeta=i.getElementsByTagName("RtbMeta")[0]?i.getElementsByTagName("RtbMeta")[0].textContent:"",i.getElementsByTagName("Price")[0]){var k=i.getElementsByTagName("Price")[0].textContent;try{var m=parseFloat(k);!isNaN(m)&&m>0&&(o.mediaObject.cpm=m)}catch(a){}}if(i.getElementsByTagName("AlignmentGuids")[0]){var r=i.getElementsByTagName("AlignmentGuids")[0].textContent,t=r.split(",");4==t.length&&(p.debug("Updating GUID with the following values: "+r),o.mediaObject.advertiserGuid=t[0],o.mediaObject.ioGuid=t[1],o.mediaObject.campaignGuid=t[2],o.mediaObject.mediaGuid=t[3])}if(i.getElementsByTagName("DP")[0]){var u=i.getElementsByTagName("DP")[0].textContent;try{var v=parseFloat(u);isNaN(v)||(o.mediaObject.priority=v)}catch(a){p.error("Failed to parse priority: "+a)}}if(i.getElementsByTagName("DW")[0]){var w=i.getElementsByTagName("DW")[0].textContent;try{var x=parseFloat(w);isNaN(x)||(o.mediaObject.weight=x)}catch(a){p.error("Failed to parse weight:"+a)}}}n.isVPAID||(n.extensions={videos:n.videos,vastObject:n}),0!=n.videos.length||n.isVPAID||(s.errorCode=401),n.status="DONE"}(a,b)};var Package=ADG.html5.getPackage("com.genesismedia.admanager.data.vast");Package.VastObjectManager=function(){function a(a){a in n.eventCallbacks&&n.eventCallbacks[a](n)}function b(b){o.log("loadDoc() :: Requesting URL: "+b);var c;c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status){var d=new DOMParser;n.xmlDoc=d.parseFromString(c.responseText,"text/xml"),m(n.xmlDoc)}else if(0!=c.status||t)s.errorCode=301,a(n.classConstructor.DONE);else{var e;e=new XMLHttpRequest,e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){var b=new DOMParser;n.xmlDoc=b.parseFromString(e.responseText,"text/xml"),m(n.xmlDoc)}else s.errorCode=301,a(n.classConstructor.DONE)},t=!0,e.open("GET",b,!0),e.withCredentials=!1,e.send()}};try{p.evalURL(b)?(c.open("GET",b,!0),c.withCredentials=!0,t=!1,c.send()):(s.errorCode=301,a(n.classConstructor.DONE))}catch(b){s.errorCode=300,a(n.classConstructor.DONE)}}function c(a,b){var c=p.getXMLNodeValue(a,"AdSystem");return c&&!b&&(b=c),b}function d(a,b){for(var c=0;c<a.length;c++){var d=p.getXMLNodeValue(a[c]);d=p.filterPixel(d),b.push(d)}}function e(a){var b=a.getElementsByTagName("Error");b.length&&d(b,n.pixels.error)}function f(a){d(a.getElementsByTagName("Impression"),n.pixels.impression);var b=a.getElementsByTagName("ViewableImpression");b.length&&(d(b[0].getElementsByTagName("Viewable"),n.pixels.viewable),d(b[0].getElementsByTagName("NotViewable"),n.pixels.notViewable),d(b[0].getElementsByTagName("ViewUndetermined"),n.pixels.viewUndetermined));var c=a.getElementsByTagName("AdVerifications");if(c.length)for(var e=c[0].getElementsByTagName("Verification"),f=0;f<e.length;f++)d(e[f].getElementsByTagName("JavaScriptResource"),n.pixels.adverifications)}function g(a){for(var b=a.getElementsByTagName("Tracking"),c=0;c<b.length;c++){var d=p.getXMLNodeValue(b[c]);switch(d=p.filterPixel(d),b[c].getAttribute("event")){case"creativeView":case"start":n.pixels.start.push(d);break;case"firstQuartile":n.pixels.firstQuartile.push(d);break;case"midpoint":n.pixels.midpoint.push(d);break;case"thirdQuartile":n.pixels.thirdQuartile.push(d);break;case"complete":n.pixels.complete.push(d);break;case"skip":n.pixels.skip.push(d);break;case"mute":n.pixels.mute.push(d);break;case"unmute":n.pixels.unmute.push(d);break;case"pause":n.pixels.pause.push(d);break;case"resume":n.pixels.resume.push(d);break;case"progress":var e=b[c].getAttribute("offset"),f="";f=e&&""!=e?String(q.HHSSMMToSecond(e)):String(Math.floor(Number(b[c].getAttribute("value")))),""!=f&&(n.pixels.progress[f]||(n.pixels.progress[f]=new Array),n.pixels.progress[f].push(d))}}}function h(a){for(var b=a.getElementsByTagName("ClickTracking"),c=0;c<b.length;c++){var d=p.getXMLNodeValue(b[c]);d=p.filterPixel(d),n.pixels.click.push(d)}}function i(a){var b=a.getElementsByTagName("Creative");if(b.length>0){var c=b[0];g(c),h(c)}}function j(a){var d=a.getAttribute("id");d&&""==n.adId&&(n.adId=d),n.adSystem=c(a,n.adSystem),n.smartAd=!!n.adSystem.match("SMART"),f(a),e(a),i(a);var g,h="";try{g=a.getElementsByTagName("Extensions")[0],h=(new XMLSerializer).serializeToString(g)}catch(a){g=document.createElement("Extensions"),h=""}if(n.mediaObject.rtbMeta=g.getElementsByTagName("RtbMeta")[0]?g.getElementsByTagName("RtbMeta")[0].textContent:"",g.getElementsByTagName("Price")[0]){var j=g.getElementsByTagName("Price")[0].textContent;try{var k=parseFloat(j);!isNaN(k)&&k>0&&(n.mediaObject.cpm=k)}catch(a){}}if(g.getElementsByTagName("AlignmentGuids")[0]){var l=g.getElementsByTagName("AlignmentGuids")[0].textContent,m=l.split(",");4==m.length&&(o.debug("Updating GUID with the following values: "+l),n.mediaObject.advertiserGuid=m[0],n.mediaObject.ioGuid=m[1],n.mediaObject.campaignGuid=m[2],n.mediaObject.mediaGuid=m[3])}if(g.getElementsByTagName("DP")[0]){var q=g.getElementsByTagName("DP")[0].textContent;try{var r=parseFloat(q);isNaN(r)||(n.mediaObject.priority=r)}catch(a){o.error("Failed to parse priority: "+a)}}if(g.getElementsByTagName("DW")[0]){var s=g.getElementsByTagName("DW")[0].textContent;try{var t=parseFloat(s);isNaN(t)||(n.mediaObject.weight=t)}catch(a){o.error("Failed to parse weight:"+a)}}n.extensions=n.extensions+h,n.insertionId=g.getElementsByTagName("insertionId")[0]?g.getElementsByTagName("insertionId")[0].textContent:"",n.campaignId=g.getElementsByTagName("campaignId")[0]?g.getElementsByTagName("campaignId")[0].textContent:"",n.creativeId=g.getElementsByTagName("creativeId")[0]?g.getElementsByTagName("creativeId")[0].textContent:"";var u=p.getXMLNodeValue(a,"VASTAdTagURI");u=text=p.filterPixel(u),b(u)}function k(b){if(b){try{var c=b.getAttribute("id")}catch(b){return void a(n.classConstructor.DONE)}c&&""==n.adId&&(n.adId=c);for(var d=b.getElementsByTagName("InLine"),e=0;e<d.length;e++){var f=d[e],g=new r(f,n.extensions,n,c);g.progressMsFormat=n.progressMsFormat,g.mergePixels(n.pixels),n.insertionId=g.insertionId?g.insertionId:"",n.campaignId=g.campaignId?g.campaignId:"",n.creativeId=g.creativeId?g.creativeId:"",n.vastObjects.push(g)}}setTimeout(l,0)}function l(){for(var b=0;b<n.vastObjects.length;b++)if("DONE"!==n.vastObjects[b].status)return void setTimeout(l,100);a(n.classConstructor.DONE)}function m(b){try{if(b&&"Ad"!=b.nodeName){var c=b.getElementsByTagName("Ad");c.length>0&&(b=c[0])}var d=b.getElementsByTagName("Wrapper")}catch(b){return void a(n.classConstructor.DONE)}b?d.length>0?j(b):k(b):a(n.classConstructor.DONE)}var n=this;this.classConstructor=arguments.callee;var o=ADG.html5.com.genesismedia.admanager.utils.Logger,p=ADG.html5.com.genesismedia.admanager.utils.StringUtils,q=ADG.html5.com.genesismedia.admanager.utils.NumberUtils,r=ADG.html5.com.genesismedia.admanager.data.vast.VastObject,s=ADG.html5.com.genesismedia.admanager.events.KibanaTracker;this.vastObjects=new Array,this.adSystem="",this.extensions="",this.adId="",this.smartAd=!1,this.insertionId="",this.campaignId="",this.creativeId="",this.mediaObject,this.pixels={impressionJS:new Array,impression:new Array,viewable:new Array,notViewable:new Array,viewUndetermined:new Array,adverifications:new Array,start:new Array,firstQuartile:new Array,midpoint:new Array,thirdQuartile:new Array,complete:new Array,skip:new Array,mute:new Array,unmute:new Array,pause:new Array,resume:new Array,click:new Array,error:new Array,progress:{}};var t=!1;this.xmlDoc,this.eventCallbacks={},this.subscribe=function(a,b,c){var d=a.bind(c);n.eventCallbacks[b]=d},this.unsubscribe=function(a){n.eventCallbacks[a]=null},this.init=function(a){n.mediaObject=a,n.mediaObject.mcall.ip&&(n.pixels.impression=n.pixels.impression.concat(p.filterPixelArray(n.mediaObject.mcall.ip))),n.mediaObject.mcall.ij&&(n.pixels.impressionJS=n.pixels.impressionJS.concat(p.filterPixelArray(n.mediaObject.mcall.ij)));var c=a.guid;if(c&&""==n.adId&&(n.adId=c),a.vastUri&&""!=a.vastUri){var d=a.vastUri;d=text=p.filterPixel(d),b(d)}else if(a.vastPlain&&""!=a.vastPlain){var e=new DOMParser;n.xmlDoc=e.parseFromString(a.vastPlain,"text/xml"),m(n.xmlDoc)}else{var f=new r(null,null,null,null,a.assets);f.mergePixels(n.pixels),n.vastObjects.push(f),setTimeout(l,0)}}},Package.VastObjectManager.DONE="done";var Package=ADG.html5.getPackage("com.genesismedia.admanager.skip");Package.Skip=function(a,b){function c(){g.innerHTML=f.classConstructor.COUNTDOWN_MESSAGE.replace("[x]",h)}function d(){h--,h<0?(clearInterval(i),f.initSkip()):c()}function e(a){a in f.eventsCallbacks&&"function"==typeof f.eventsCallbacks[a]&&f.eventsCallbacks[a]()}this.classConstructor=arguments.callee,this.classConstructor.COUNTDOWN_MESSAGE="You can skip this ad in [x]",this.classConstructor.SKIP_MESSAGE="Skip Ad >>";var f=this;this.eventsCallbacks={};var g,h=b,i=-1,j=document.createElement("div"),k=document.createElement("div"),l=document.createElement("div");a.appendChild(l),l.setAttribute("style","position: absolute;right: 0px;bottom:35px;width:182px;height:58px;opacity:0.8;"),g=document.createElement("div"),g.setAttribute("style","position:absolute;width:182px;height:58px;z-index: 1;color: white;font-family: Arial;font-size: 13px;font-weight: bold;text-align: center;vertical-align: middle;line-height: 58px;"),l.appendChild(g);var m=document.createElement("div");m.setAttribute("style","position:absolute;width:182px;height:58px;"),l.appendChild(m);var n=document.createElement("img");n.src="data:image/png;base64,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",m.appendChild(n),this.startCountdown=function(){h<=0||(i=setInterval(d,1e3),c())},this.initSkip=function(){a.removeChild(l),a.appendChild(j),j.setAttribute("style","position: absolute;right: 0px;bottom:35px;width:182px;height:36px;opacity:0.8;pointer-events:auto;"),k.setAttribute("style","position:absolute;width:182px;height:36px;z-index: 1;color: white;font-family: Arial;font-size: 13px;font-weight: bold;text-align: center;vertical-align: middle;line-height: 36px; cursor: pointer;"),j.appendChild(k),k.innerHTML=f.classConstructor.SKIP_MESSAGE,j.addEventListener("mousemove",function(){k.style.textDecoration="underline"}),j.addEventListener("mouseout",function(){k.style.textDecoration="none"}),j.addEventListener("mouseup",function(){e("SkipAd")});var b=document.createElement("div");b.setAttribute("style","position:absolute;width:182px;height:36px;"),j.appendChild(b);var c=document.createElement("img");c.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAAAkCAIAAACrPFcbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAGxJREFUeNrs3CEOACAMBEGO8P8vF4EuBkdmTH2zqWyqakBvWgF364wkdoErgkSQCBJBIkgEiSARkAgSQSJIBIkgESSCREAiSASJIBEkgkSQCBJBIiARJIJEkAgSQSL8Jr4U4YrwZAMAAP//AwAqYwZGjN6KPgAAAABJRU5ErkJggg==",j.appendChild(c)},this.subscribe=function(a,b,c){var d=a.bind(c);f.eventsCallbacks[b]=d},this.unsubscribe=function(a){f.eventsCallbacks[a]=null}};var Package=ADG.html5.getPackage("com.genesismedia.admanager.wham");Package.Allocation=function(a,b,c,d){function e(){var a;a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status){try{l=JSON.parse(a.responseText)}catch(a){l={}}l.sorting_rule&&(k=l.sorting_rule),f(),g.loaded=!0,c(d)}else a.status,l={},f(),g.loaded=!0,c(d)};try{a.open("GET",g.cswUrl,!0),a.send()}catch(a){l={},f(),g.loaded=!0,c(d)}}function f(){if(n="aiid=false;",l&&!isNaN(l.freq)&&l.freq>0&&i.getRandomNum(1,100)<l.freq)try{var a=l[g.whamPageId];if(a)var b=a[h.DOCUMENT_HOST]||[],c=a[g.whamPageId]||[];var d=b.concat(c);if((m=d.filter(function(a,b,c){return c.indexOf(a)==b}))&&m.length>0){n="",g.kibanaParams={wham:!0,optalg:k};for(var e=0;e<m.length&&e<10;e++)n+="aiid="+m[e]+";"}else j&&(g.kibanaParams={wham:!1})}catch(a){n="aiid=false;"}else j&&(g.kibanaParams={wham:!1})}var g=this;this.classConstructor=arguments.callee;var h=ADG.html5.com.genesismedia.admanager.events.KibanaTracker,i=ADG.html5.com.genesismedia.admanager.utils.NumberUtils;this.classConstructor.ALLOCATION_CSW_URL="https://dzga99c7xcvph.cloudfront.net/wham/__PAGEID__.json",this.whamPageId=!b||isNaN(b)?-1:b,this.loaded=!1,this.kibanaParams={},this.cswUrl=this.classConstructor.ALLOCATION_CSW_URL.replace("__PAGEID__",this.whamPageId);var j=a,k="default",l={},m=[],n="aiid=false;";this.filterAdUrl=function(a){var b=a;return b=b.indexOf("tgt=abbr%3D${aud_ids:%3Babbr%3D}")>0?b.replace("tgt=abbr%3D${aud_ids:%3Babbr%3D}","tgt="+n+"abbr%3D${aud_ids:%3Babbr%3D}"):b.replace("tgt=","tgt="+n)},this.sortAds=function(a){var b=a
;if(m&&m.length>0)for(var c=m.length-1;c>=0;c--)for(var d=0;d<b.length;d++){var e=Number(b[d].getAttribute("id"));isNaN(e)||e!=m[c]||b.unshift(b.splice(d,1)[0])}return b},setTimeout(function(){j&&g.whamPageId>-1?e():(g.loaded=!0,c(d))},0)};var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index],queryString=myScript.src.replace(/^[^\?]+\??/,""),params=queryString.replace(/(^\?)/,"").split("&").map(function(a){return a=a.split("="),this[a[0]]=a[1],this}.bind({}))[0];ADG.html5.instance=new ADG.html5.com.genesismedia.admanager.AdManager(params),window.getVPAIDAd=function(){return ADG.html5.instance};